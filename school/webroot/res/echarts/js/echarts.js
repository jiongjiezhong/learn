var define;var require;var esl;(function(o){var p={};var q=1;var r=2;var s=3;var t=4;var u={};function modFlagAutoDefine(a){if(!modIs(a,t)){u[a]=1}}var v={require:globalRequire,exports:1,module:1};var w=createLocalRequire();var x;var y={baseUrl:'./',paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};function globalRequire(b,c){var d=[];function monitor(a){if(a.indexOf('.')===0){d.push(a)}}if(typeof b==='string'){monitor(b)}else{each(b,function(a){monitor(a)})}if(d.length>0){throw new Error('[REQUIRE_FATAL]Relative ID is not allowed in global require: '+d.join(', '));}var e=y.waitSeconds;if(e&&(b instanceof Array)){if(x){clearTimeout(x)}x=setTimeout(waitTimeoutNotice,e*1000)}return w(b,c)}globalRequire.version='2.0.2';globalRequire.loader='esl';globalRequire.toUrl=w.toUrl;function waitTimeoutNotice(){var e=[];var f=[];var g={};var h={};var i={};function checkError(b,c){if(i[b]||modIs(b,t)){return}i[b]=1;if(!modIs(b,s)){if(!g[b]){g[b]=1;e.push(b)}}var d=p[b];if(!d){if(!h[b]){h[b]=1;f.push(b)}}else if(c){if(!g[b]){g[b]=1;e.push(b)}each(d.depMs,function(a){checkError(a.absId,a.hard)})}}for(var j in u){checkError(j,1)}if(e.length||f.length){throw new Error('[MODULE_TIMEOUT]Hang( '+(e.join(', ')||'none')+' ) Miss( '+(f.join(', ')||'none')+' )');}}var z=[];function modCompletePreDefine(b){each(z,function(a){modPreDefine(b,a.deps,a.factory)});z.length=0}function globalDefine(a,b,c){if(c==null){if(b==null){c=a;a=null}else{c=b;b=null;if(a instanceof Array){b=a;a=null}}}if(c==null){return}var d=window.opera;if(!a&&document.attachEvent&&(!(d&&d.toString()==='[object Opera]'))){var e=getCurrentScript();a=e&&e.getAttribute('data-require-id')}if(a){modPreDefine(a,b,c)}else{z[0]={deps:b,factory:c}}}globalDefine.amd={};function moduleConfigGetter(){var a=y.config[this.id];if(a&&typeof a==='object'){return a}return{}}function modPreDefine(a,b,c){if(!p[a]){p[a]={id:a,depsDec:b,deps:b||['require','exports','module'],factoryDeps:[],factory:c,exports:{},config:moduleConfigGetter,state:q,require:createLocalRequire(a),depMs:[],depMkv:{},depRs:[]}}}function modPrepare(g){var h=p[g];if(!h||modIs(g,r)){return}var i=h.deps;var j=h.factory;var k=0;if(typeof j==='function'){k=Math.min(j.length,i.length);!h.depsDec&&j.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,'').replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(a,b,c){i.push(c)})}var l=[];var m=[];each(i,function(a,b){var c=parseId(a);var d=normalize(c.mod,g);var e;var f;if(d&&!v[d]){if(c.res){f={id:a,mod:d,res:c.res};m.push(a);h.depRs.push(f)}e=h.depMkv[d];if(!e){e={id:c.mod,absId:d,hard:b<k};h.depMs.push(e);h.depMkv[d]=e;l.push(d)}}else{e={absId:d}}if(b<k){h.factoryDeps.push(f||e)}});h.state=r;modInitFactoryInvoker(g);nativeAsyncRequire(l);m.length&&h.require(m,function(){each(h.depRs,function(a){if(!a.absId){a.absId=normalize(a.id,g)}});modAutoDefine()})}function modAutoDefine(){for(var a in u){modPrepare(a);modUpdatePreparedState(a);modTryInvokeFactory(a)}}function modUpdatePreparedState(e){var f={};update(e);function update(b){modPrepare(b);if(!modIs(b,r)){return false}if(modIs(b,s)||f[b]){return true}f[b]=1;var c=p[b];var d=true;each(c.depMs,function(a){return(d=update(a.absId))});d&&each(c.depRs,function(a){d=!!a.absId;return d});if(d){c.state=s}return d}}function modInitFactoryInvoker(g){var h=p[g];var i;h.invokeFactory=invokeFactory;function invokeFactory(){if(i||h.state!==s){return}i=1;var c=1;each(h.factoryDeps,function(a){var b=a.absId;if(!v[b]){modTryInvokeFactory(b);return(c=modIs(b,t))}});if(c){try{var d=h.factory;var e=typeof d==='function'?d.apply(o,modGetModulesExports(h.factoryDeps,{require:h.require,exports:h.exports,module:h})):d;if(e!=null){h.exports=e}h.invokeFactory=null}catch(ex){if(/^\[MODULE_MISS\]"([^"]+)/.test(ex.message)){var f=h.depMkv[RegExp.$1];f&&(f.hard=1);i=0;return}throw ex;}modDefined(g)}}}function modIs(a,b){return p[a]&&p[a].state>=b}function modTryInvokeFactory(a){var b=p[a];if(b&&b.invokeFactory){b.invokeFactory()}}function modGetModulesExports(c,d){var e=[];each(c,function(a,b){if(typeof a==='object'){a=a.absId}e[b]=d[a]||p[a].exports});return e}var A={};function modAddDefinedListener(a,b){if(modIs(a,t)){b();return}var c=A[a];if(!c){c=A[a]=[]}c.push(b)}function modDefined(a){var b=p[a];b.state=t;delete u[a];var c=A[a]||[];var d=c.length;while(d--){c[d]()}c.length=0;A[a]=null}function nativeAsyncRequire(c,d,e){var f=0;each(c,function(a){if(!(v[a]||modIs(a,t))){modAddDefinedListener(a,tryFinishRequire);(a.indexOf('!')>0?loadResource:loadModule)(a,e)}});tryFinishRequire();function tryFinishRequire(){if(typeof d==='function'&&!f){var b=1;each(c,function(a){if(!v[a]){return(b=!!modIs(a,t))}});if(b){f=1;d.apply(o,modGetModulesExports(c,v))}}}}var B={};function loadModule(c){if(B[c]||p[c]){return}B[c]=1;var d=y.shim[c];if(d instanceof Array){y.shim[c]=d={deps:d}}var e=d&&(d.deps||[]);if(e){each(e,function(a){if(!y.shim[a]){y.shim[a]={}}});w(e,load)}else{load()}function load(){var a=F[c];createScript(a||c,loaded)}function loaded(){if(d){var b;if(typeof d.init==='function'){b=d.init.apply(o,modGetModulesExports(e,v))}if(b==null&&d.exports){b=o;each(d.exports.split('.'),function(a){b=b[a];return!!b})}globalDefine(c,e,b||{})}else{modCompletePreDefine(c)}modAutoDefine()}}function loadResource(c,d){if(p[c]){return}var e=F[c];if(e){loadModule(e);return}var f=parseId(c);var g={id:c,state:r};p[c]=g;function pluginOnload(a){g.exports=a||true;modDefined(c)}pluginOnload.fromText=function(a,b){new Function(b)();modCompletePreDefine(a)};function load(a){var b=d?p[d].require:w;a.load(f.res,b,pluginOnload,moduleConfigGetter.call({id:c}))}load(w(f.mod))}globalRequire.config=function(a){if(a){for(var b in y){var c=a[b];var d=y[b];if(!c){continue}if(b==='urlArgs'&&typeof c==='string'){y.urlArgs['*']=c}else{if(d instanceof Array){d.push.apply(d,c)}else if(typeof d==='object'){for(var k in c){d[k]=c[k]}}else{y[b]=c}}}createConfIndex()}};createConfIndex();var C;var D;var E;var F;var G;function createKVSortedIndex(a,b){var c=kv2List(a,1,b);c.sort(descSorterByKOrName);return c}function createConfIndex(){y.baseUrl=y.baseUrl.replace(/\/$/,'')+'/';C=createKVSortedIndex(y.paths);E=createKVSortedIndex(y.map,1);each(E,function(a){a.v=createKVSortedIndex(a.v)});D=[];each(y.packages,function(a){var b=a;if(typeof a==='string'){b={name:a.split('/')[0],location:a,main:'main'}}b.location=b.location||b.name;b.main=(b.main||'main').replace(/\.js$/i,'');b.reg=createPrefixRegexp(b.name);D.push(b)});D.sort(descSorterByKOrName);G=createKVSortedIndex(y.urlArgs,1);F={};function bundlesIterator(a){F[a]=c}for(var c in y.bundles){each(y.bundles[c],bundlesIterator)}}function indexRetrieve(b,c,d){each(c,function(a){if(a.reg.test(b)){d(a.v,a.k,a);return false}})}function toUrl(d){var e=/(\.[a-z0-9]+)$/i;var f=/(\?[^#]*)$/;var g='';var h=d;var i='';if(f.test(d)){i=RegExp.$1;d=d.replace(f,'')}if(e.test(d)){g=RegExp.$1;h=d.replace(e,'')}var j=h;var k;indexRetrieve(h,C,function(a,b){j=j.replace(b,a);k=1});if(!k){indexRetrieve(h,D,function(a,b,c){j=j.replace(c.name,c.location)})}if(!/^([a-z]{2,10}:\/)?\//i.test(j)){j=y.baseUrl+j}j+=g+i;indexRetrieve(h,G,function(a){j+=(j.indexOf('?')>0?'&':'?')+a});return j}function createLocalRequire(m){var n={};function req(g,h){if(typeof g==='string'){if(!n[g]){var j=normalize(g,m);modTryInvokeFactory(j);if(!modIs(j,t)){throw new Error('[MODULE_MISS]"'+j+'" is not exists!');}n[g]=p[j].exports}return n[g]}else if(g instanceof Array){var k=[];var l=[];each(g,function(a,i){var b=parseId(a);var c=normalize(b.mod,m);var d=b.res;var e=c;if(d){var f=c+'!'+d;if(d.indexOf('.')!==0&&F[f]){c=e=f}else{e=null}}l[i]=e;modFlagAutoDefine(c);k.push(c)});nativeAsyncRequire(k,function(){each(l,function(a,i){if(a==null){a=l[i]=normalize(g[i],m);modFlagAutoDefine(a)}});nativeAsyncRequire(l,h,m);modAutoDefine()},m);modAutoDefine()}}req.toUrl=function(a){return toUrl(normalize(a,m))};return req}function normalize(d,e){if(!d){return''}e=e||'';var f=parseId(d);if(!f){return d}var g=f.res;var h=relative2absolute(f.mod,e);each(D,function(a){var b=a.name;if(b===h){h=b+'/'+a.main;return false}});indexRetrieve(e,E,function(c){indexRetrieve(h,c,function(a,b){h=h.replace(b,a)})});if(g){var i=modIs(h,t)&&w(h);g=i&&i.normalize?i.normalize(g,function(a){return normalize(a,e)}):normalize(g,e);h+='!'+g}return h}function relative2absolute(a,b){if(a.indexOf('.')===0){var c=b.split('/');var d=a.split('/');var e=c.length-1;var f=d.length;var g=0;var h=0;pathLoop:for(var i=0;i<f;i++){switch(d[i]){case'..':if(g<e){g++;h++}else{break pathLoop}break;case'.':h++;break;default:break pathLoop}}c.length=e-g;d=d.slice(h);return c.concat(d).join('/')}return a}function parseId(a){var b=a.split('!');if(b[0]){return{mod:b[0],res:b[1]}}}function kv2List(a,b,c){var d=[];for(var e in a){if(a.hasOwnProperty(e)){var f={k:e,v:a[e]};d.push(f);if(b){f.reg=e==='*'&&c?/^/:createPrefixRegexp(e)}}}return d}var H;var I;function getCurrentScript(){if(H){return H}else if(I&&I.readyState==='interactive'){return I}var a=document.getElementsByTagName('script');var b=a.length;while(b--){var c=a[b];if(c.readyState==='interactive'){I=c;return c}}}var J=document.getElementsByTagName('head')[0];var K=document.getElementsByTagName('base')[0];if(K){J=K.parentNode}function createScript(b,c){var d=document.createElement('script');d.setAttribute('data-require-id',b);d.src=toUrl(b+'.js');d.async=true;if(d.readyState){d.onreadystatechange=innerOnload}else{d.onload=innerOnload}function innerOnload(){var a=d.readyState;if(typeof a==='undefined'||/^(loaded|complete)$/.test(a)){d.onload=d.onreadystatechange=null;d=null;c()}}H=d;K?J.insertBefore(d,K):J.appendChild(d);H=null}function createPrefixRegexp(a){return new RegExp('^'+a+'(/|$)')}function each(a,b){if(a instanceof Array){for(var i=0,len=a.length;i<len;i++){if(b(a[i],i)===false){break}}}}function descSorterByKOrName(a,b){var c=a.k||a.name;var d=b.k||b.name;if(d==='*'){return-1}if(c==='*'){return 1}return d.length-c.length}if(!define){define=globalDefine;if(!require){require=globalRequire}esl=globalRequire}})(this);define('echarts',['echarts/echarts'],function(a){return a});define('echarts/echarts',['require','./config','zrender/tool/util','zrender/tool/event','zrender/tool/env','zrender','zrender/config','./chart/island','./component/toolbox','./component','./component/title','./component/tooltip','./component/legend','./util/ecData','./chart','zrender/tool/color','./component/timeline','zrender/shape/Image','zrender/loadingEffect/Bar','zrender/loadingEffect/Bubble','zrender/loadingEffect/DynamicLine','zrender/loadingEffect/Ring','zrender/loadingEffect/Spin','zrender/loadingEffect/Whirling','zrender/loadingEffect/NullData','./theme/macarons','./theme/infographic'],function(A){var B=A('./config');var C=A('zrender/tool/util');var D=A('zrender/tool/event');var E={};var F=A('zrender/tool/env').canvasSupported;var G=new Date()-0;var H={};var I='_echarts_instance_';E.version='2.2.4';E.dependencies={zrender:'2.0.9'};E.init=function(a,b){var c=A('zrender');if(c.version.replace('.','')-0<E.dependencies.zrender.replace('.','')-0){console.error('ZRender '+c.version+' is too old for ECharts '+E.version+'. Current version need ZRender '+E.dependencies.zrender+'+')}a=a instanceof Array?a[0]:a;var d=a.getAttribute(I);if(!d){d=G++;a.setAttribute(I,d)}if(H[d]){H[d].dispose()}H[d]=new Echarts(a);H[d].id=d;H[d].canvasSupported=F;H[d].setTheme(b);return H[d]};E.getInstanceById=function(a){return H[a]};function MessageCenter(){D.Dispatcher.call(this)}C.merge(MessageCenter.prototype,D.Dispatcher.prototype,true);function Echarts(a){a.innerHTML='';this._themeConfig={};this.dom=a;this._connected=false;this._status={dragIn:false,dragOut:false,needRefresh:false};this._curEventType=false;this._chartList=[];this._messageCenter=new MessageCenter();this._messageCenterOutSide=new MessageCenter();this.resize=this.resize();this._init()}var J=A('zrender/config').EVENT;var K=['CLICK','DBLCLICK','MOUSEOVER','MOUSEOUT','DRAGSTART','DRAGEND','DRAGENTER','DRAGOVER','DRAGLEAVE','DROP'];function callChartListMethodReverse(a,b,c,d,e){var f=a._chartList;var g=f.length;while(g--){var h=f[g];if(typeof h[b]==='function'){h[b](c,d,e)}}}Echarts.prototype={_init:function(){var f=this;var g=A('zrender').init(this.dom);this._zr=g;this._messageCenter.dispatch=function(a,b,c,d){c=c||{};c.type=a;c.event=b;f._messageCenter.dispatchWithContext(a,c,d);f._messageCenterOutSide.dispatchWithContext(a,c,d)};this._onevent=function(a){return f.__onevent(a)};for(var e in B.EVENT){if(e!='CLICK'&&e!='DBLCLICK'&&e!='HOVER'&&e!='MOUSEOUT'&&e!='MAP_ROAM'){this._messageCenter.bind(B.EVENT[e],this._onevent,this)}}var h={};this._onzrevent=function(a){return f[h[a.type]](a)};for(var i=0,len=K.length;i<len;i++){var j=K[i];var k=J[j];h[k]='_on'+j.toLowerCase();g.on(k,this._onzrevent)}this.chart={};this.component={};var l=A('./chart/island');this._island=new l(this._themeConfig,this._messageCenter,g,{},this);this.chart.island=this._island;var m=A('./component/toolbox');this._toolbox=new m(this._themeConfig,this._messageCenter,g,{},this);this.component.toolbox=this._toolbox;var n=A('./component');n.define('title',A('./component/title'));n.define('tooltip',A('./component/tooltip'));n.define('legend',A('./component/legend'));if(g.getWidth()===0||g.getHeight()===0){console.error('Dom’s width & height should be ready before init.')}},__onevent:function(a){a.__echartsId=a.__echartsId||this.id;var b=a.__echartsId===this.id;if(!this._curEventType){this._curEventType=a.type}switch(a.type){case B.EVENT.LEGEND_SELECTED:this._onlegendSelected(a);break;case B.EVENT.DATA_ZOOM:if(!b){var d=this.component.dataZoom;if(d){d.silence(true);d.absoluteZoom(a.zoom);d.silence(false)}}this._ondataZoom(a);break;case B.EVENT.DATA_RANGE:b&&this._ondataRange(a);break;case B.EVENT.MAGIC_TYPE_CHANGED:if(!b){var e=this.component.toolbox;if(e){e.silence(true);e.setMagicType(a.magicType);e.silence(false)}}this._onmagicTypeChanged(a);break;case B.EVENT.DATA_VIEW_CHANGED:b&&this._ondataViewChanged(a);break;case B.EVENT.TOOLTIP_HOVER:b&&this._tooltipHover(a);break;case B.EVENT.RESTORE:this._onrestore();break;case B.EVENT.REFRESH:b&&this._onrefresh(a);break;case B.EVENT.TOOLTIP_IN_GRID:case B.EVENT.TOOLTIP_OUT_GRID:if(!b){var f=this.component.grid;if(f){this._zr.trigger('mousemove',{connectTrigger:true,zrenderX:f.getX()+a.x*f.getWidth(),zrenderY:f.getY()+a.y*f.getHeight()})}}else if(this._connected){var f=this.component.grid;if(f){a.x=(a.event.zrenderX-f.getX())/f.getWidth();a.y=(a.event.zrenderY-f.getY())/f.getHeight()}}break}if(this._connected&&b&&this._curEventType===a.type){for(var c in this._connected){this._connected[c].connectedEventHandler(a)}this._curEventType=null}if(!b||!this._connected&&b){this._curEventType=null}},_onclick:function(a){callChartListMethodReverse(this,'onclick',a);if(a.target){var b=this._eventPackage(a.target);if(b&&b.seriesIndex!=null){this._messageCenter.dispatch(B.EVENT.CLICK,a.event,b,this)}}},_ondblclick:function(a){callChartListMethodReverse(this,'ondblclick',a);if(a.target){var b=this._eventPackage(a.target);if(b&&b.seriesIndex!=null){this._messageCenter.dispatch(B.EVENT.DBLCLICK,a.event,b,this)}}},_onmouseover:function(a){if(a.target){var b=this._eventPackage(a.target);if(b&&b.seriesIndex!=null){this._messageCenter.dispatch(B.EVENT.HOVER,a.event,b,this)}}},_onmouseout:function(a){if(a.target){var b=this._eventPackage(a.target);if(b&&b.seriesIndex!=null){this._messageCenter.dispatch(B.EVENT.MOUSEOUT,a.event,b,this)}}},_ondragstart:function(a){this._status={dragIn:false,dragOut:false,needRefresh:false};callChartListMethodReverse(this,'ondragstart',a)},_ondragenter:function(a){callChartListMethodReverse(this,'ondragenter',a)},_ondragover:function(a){callChartListMethodReverse(this,'ondragover',a)},_ondragleave:function(a){callChartListMethodReverse(this,'ondragleave',a)},_ondrop:function(a){callChartListMethodReverse(this,'ondrop',a,this._status);this._island.ondrop(a,this._status)},_ondragend:function(a){callChartListMethodReverse(this,'ondragend',a,this._status);this._timeline&&this._timeline.ondragend(a,this._status);this._island.ondragend(a,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var b=this._messageCenter;b.dispatch(B.EVENT.DATA_CHANGED,a.event,this._eventPackage(a.target),this);b.dispatch(B.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(a){this._status.needRefresh=false;callChartListMethodReverse(this,'onlegendSelected',a,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(B.EVENT.REFRESH,null,null,this)}},_ondataZoom:function(a){this._status.needRefresh=false;callChartListMethodReverse(this,'ondataZoom',a,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(B.EVENT.REFRESH,null,null,this)}},_ondataRange:function(a){this._clearEffect();this._status.needRefresh=false;callChartListMethodReverse(this,'ondataRange',a,this._status);if(this._status.needRefresh){this._zr.refreshNextFrame()}},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(a){this._syncBackupData(a.option);this._messageCenter.dispatch(B.EVENT.DATA_CHANGED,null,a,this);this._messageCenter.dispatch(B.EVENT.REFRESH,null,null,this)},_tooltipHover:function(a){var b=[];callChartListMethodReverse(this,'ontooltipHover',a,b)},_onrestore:function(){this.restore()},_onrefresh:function(a){this._refreshInside=true;this.refresh(a);this._refreshInside=false},_syncBackupData:function(a){this.component.dataZoom&&this.component.dataZoom.syncBackupData(a)},_eventPackage:function(a){if(a){var b=A('./util/ecData');var c=b.get(a,'seriesIndex');var d=b.get(a,'dataIndex');d=c!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(c,d):d;return{seriesIndex:c,seriesName:(b.get(a,'series')||{}).name,dataIndex:d,data:b.get(a,'data'),name:b.get(a,'name'),value:b.get(a,'value'),special:b.get(a,'special')}}return},_noDataCheck:function(a){var b=a.series;for(var i=0,l=b.length;i<l;i++){if(b[i].type==B.CHART_TYPE_MAP||b[i].data&&b[i].data.length>0||b[i].markPoint&&b[i].markPoint.data&&b[i].markPoint.data.length>0||b[i].markLine&&b[i].markLine.data&&b[i].markLine.data.length>0||b[i].nodes&&b[i].nodes.length>0||b[i].links&&b[i].links.length>0||b[i].matrix&&b[i].matrix.length>0||b[i].eventList&&b[i].eventList.length>0){return false}}var c=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||B.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||B.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||B.noDataEffect};this.clear();this.showLoading(c);return true},_render:function(a){this._mergeGlobalConifg(a);if(this._noDataCheck(a)){return}var b=a.backgroundColor;if(b){if(!F&&b.indexOf('rgba')!=-1){var c=b.split(',');this.dom.style.filter='alpha(opacity='+c[3].substring(0,c[3].lastIndexOf(')'))*100+')';c.length=3;c[0]=c[0].replace('a','');this.dom.style.backgroundColor=c.join(',')+')'}else{this.dom.style.backgroundColor=b}}this._zr.clearAnimation();this._chartList=[];var d=A('./chart');var e=A('./component');if(a.xAxis||a.yAxis){a.grid=a.grid||{};a.dataZoom=a.dataZoom||{}}var f=['title','legend','tooltip','dataRange','roamController','grid','dataZoom','xAxis','yAxis','polar'];var g;var h;var j;for(var i=0,l=f.length;i<l;i++){h=f[i];j=this.component[h];if(a[h]){if(j){j.refresh&&j.refresh(a)}else{g=e.get(/^[xy]Axis$/.test(h)?'axis':h);j=new g(this._themeConfig,this._messageCenter,this._zr,a,this,h);this.component[h]=j}this._chartList.push(j)}else if(j){j.dispose();this.component[h]=null;delete this.component[h]}}var k;var m;var n;var o={};for(var i=0,l=a.series.length;i<l;i++){m=a.series[i].type;if(!m){console.error('series['+i+'] chart type has not been defined.');continue}if(!o[m]){o[m]=true;k=d.get(m);if(k){if(this.chart[m]){n=this.chart[m];n.refresh(a)}else{n=new k(this._themeConfig,this._messageCenter,this._zr,a,this)}this._chartList.push(n);this.chart[m]=n}else{console.error(m+' has not been required.')}}}for(m in this.chart){if(m!=B.CHART_TYPE_ISLAND&&!o[m]){this.chart[m].dispose();this.chart[m]=null;delete this.chart[m]}}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(a);this._toolbox.refresh(a);a.animation&&!a.renderAsImage?this._zr.refresh():this._zr.render();var p='IMG'+this.id;var q=document.getElementById(p);if(a.renderAsImage&&F){if(q){q.src=this.getDataURL(a.renderAsImage)}else{q=this.getImage(a.renderAsImage);q.id=p;q.style.position='absolute';q.style.left=0;q.style.top=0;this.dom.firstChild.appendChild(q)}this.un();this._zr.un();this._disposeChartList();this._zr.clear()}else if(q){q.parentNode.removeChild(q)}q=null;this._option=a},restore:function(){this._clearEffect();this._option=C.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,true);this._render(this._option)},refresh:function(a){this._clearEffect();a=a||{};var b=a.option;if(!this._refreshInside&&b){b=this.getOption();C.merge(b,a.option,true);C.merge(this._optionRestore,a.option,true);this._toolbox.reset(b)}this._island.refresh(b);this._toolbox.refresh(b);this._zr.clearAnimation();for(var i=0,l=this._chartList.length;i<l;i++){this._chartList[i].refresh&&this._chartList[i].refresh(b)}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){this._clearEffect();this._zr.clearAnimation();var a=this._chartList.length;while(a--){var b=this._chartList[a];if(b){var c=b.type;this.chart[c]&&delete this.chart[c];this.component[c]&&delete this.component[c];b.dispose&&b.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(c){var d=['backgroundColor','calculable','calculableColor','calculableHolderColor','nameConnector','valueConnector','animation','animationThreshold','animationDuration','animationDurationUpdate','animationEasing','addDataAnimation','symbolList','DRAG_ENABLE_TIME'];var e=d.length;while(e--){var f=d[e];if(c[f]==null){c[f]=this._themeConfig[f]!=null?this._themeConfig[f]:B[f]}}var g=c.color;if(!(g&&g.length)){g=this._themeConfig.color||B.color}this._zr.getColor=function(a){var b=A('zrender/tool/color');return b.getColor(a,g)};if(!F){c.animation=false;c.addDataAnimation=false}},setOption:function(a,b){if(!a.timeline){return this._setOption(a,b)}else{return this._setTimelineOption(a)}},_setOption:function(a,b,c){if(!b&&this._option){this._option=C.merge(this.getOption(),C.clone(a),true)}else{this._option=C.clone(a);!c&&this._timeline&&this._timeline.dispose()}this._optionRestore=C.clone(this._option);if(!this._option.series||this._option.series.length===0){this._zr.clear();return}if(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)){this.component.dataZoom.syncOption(this._option)}this._toolbox.reset(this._option);this._render(this._option);return this},getOption:function(){var d=C.clone(this._option);var e=this;function restoreOption(a){var b=e._optionRestore[a];if(b){if(b instanceof Array){var c=b.length;while(c--){d[a][c].data=C.clone(b[c].data)}}else{d[a].data=C.clone(b.data)}}}restoreOption('xAxis');restoreOption('yAxis');restoreOption('series');return d},setSeries:function(a,b){if(!b){this.setOption({series:a})}else{this._option.series=a;this.setOption(this._option,b)}return this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(a){this._timeline&&this._timeline.dispose();var b=A('./component/timeline');var c=new b(this._themeConfig,this._messageCenter,this._zr,a,this);this._timeline=c;this.component.timeline=this._timeline;return this},addData:function(a,b,c,d,e){var f=a instanceof Array?a:[[a,b,c,d,e]];var g=this.getOption();var h=this._optionRestore;var j=this;for(var i=0,l=f.length;i<l;i++){a=f[i][0];b=f[i][1];c=f[i][2];d=f[i][3];e=f[i][4];var k=h.series[a];var m=c?'unshift':'push';var n=c?'pop':'shift';if(k){var o=k.data;var p=g.series[a].data;o[m](b);p[m](b);if(!d){o[n]();b=p[n]()}if(e!=null){var q;var r;if(k.type===B.CHART_TYPE_PIE&&(q=h.legend)&&(r=q.data)){var s=g.legend.data;r[m](e);s[m](e);if(!d){var t=C.indexOf(r,b.name);t!=-1&&r.splice(t,1);t=C.indexOf(s,b.name);t!=-1&&s.splice(t,1)}}else if(h.xAxis!=null&&h.yAxis!=null){var u;var v;var w=k.xAxisIndex||0;if(h.xAxis[w].type==null||h.xAxis[w].type==='category'){u=h.xAxis[w].data;v=g.xAxis[w].data;u[m](e);v[m](e);if(!d){u[n]();v[n]()}}w=k.yAxisIndex||0;if(h.yAxis[w].type==='category'){u=h.yAxis[w].data;v=g.yAxis[w].data;u[m](e);v[m](e);if(!d){u[n]();v[n]()}}}}this._option.series[a].data=g.series[a].data}}this._zr.clearAnimation();var x=this._chartList;var y=0;var z=function(){y--;if(y===0){animationDone()}};for(var i=0,l=x.length;i<l;i++){if(g.addDataAnimation&&x[i].addDataAnimation){y++;x[i].addDataAnimation(f,z)}}this.component.dataZoom&&this.component.dataZoom.syncOption(g);this._option=g;function animationDone(){if(!j._zr){return}j._zr.clearAnimation();for(var i=0,l=x.length;i<l;i++){x[i].motionlessOnce=g.addDataAnimation&&x[i].addDataAnimation}j._messageCenter.dispatch(B.EVENT.REFRESH,null,{option:g},j)}if(!g.addDataAnimation){setTimeout(animationDone,0)}return this},addMarkPoint:function(a,b){return this._addMark(a,b,'markPoint')},addMarkLine:function(a,b){return this._addMark(a,b,'markLine')},_addMark:function(a,b,c){var d=this._option.series;var e;if(d&&(e=d[a])){var f=this._optionRestore.series;var g=f[a];var h=e[c];var i=g[c];h=e[c]=h||{data:[]};i=g[c]=i||{data:[]};for(var j in b){if(j==='data'){h.data=h.data.concat(b.data);i.data=i.data.concat(b.data)}else if(typeof b[j]!='object'||h[j]==null){h[j]=i[j]=b[j]}else{C.merge(h[j],b[j],true);C.merge(i[j],b[j],true)}}var k=this.chart[e.type];k&&k.addMark(a,b,c)}return this},delMarkPoint:function(a,b){return this._delMark(a,b,'markPoint')},delMarkLine:function(a,b){return this._delMark(a,b,'markLine')},_delMark:function(a,b,c){var d=this._option.series;var e;var f;var g;if(!(d&&(e=d[a])&&(f=e[c])&&(g=f.data))){return this}b=b.split(' > ');var h=-1;for(var i=0,l=g.length;i<l;i++){var j=g[i];if(j instanceof Array){if(j[0].name===b[0]&&j[1].name===b[1]){h=i;break}}else if(j.name===b[0]){h=i;break}}if(h>-1){g.splice(h,1);this._optionRestore.series[a][c].data.splice(h,1);var k=this.chart[e.type];k&&k.delMark(a,b.join(' > '),c)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(a){if(!F){return''}if(this._chartList.length===0){var b='IMG'+this.id;var c=document.getElementById(b);if(c){return c.src}}var d=this.component.tooltip;d&&d.hideTip();switch(a){case'jpeg':break;default:a='png'}var e=this._option.backgroundColor;if(e&&e.replace(' ','')==='rgba(0,0,0,0)'){e='#fff'}return this._zr.toDataURL('image/'+a,e)},getImage:function(a){var b=this._optionRestore.title;var c=document.createElement('img');c.src=this.getDataURL(a);c.title=b&&b.text||'ECharts';return c},getConnectedDataURL:function(a){if(!this.isConnected()){return this.getDataURL(a)}var b=this.dom;var d={'self':{img:this.getDataURL(a),left:b.offsetLeft,top:b.offsetTop,right:b.offsetLeft+b.offsetWidth,bottom:b.offsetTop+b.offsetHeight}};var e=d.self.left;var f=d.self.top;var g=d.self.right;var h=d.self.bottom;for(var c in this._connected){b=this._connected[c].getDom();d[c]={img:this._connected[c].getDataURL(a),left:b.offsetLeft,top:b.offsetTop,right:b.offsetLeft+b.offsetWidth,bottom:b.offsetTop+b.offsetHeight};e=Math.min(e,d[c].left);f=Math.min(f,d[c].top);g=Math.max(g,d[c].right);h=Math.max(h,d[c].bottom)}var i=document.createElement('div');i.style.position='absolute';i.style.left='-4000px';i.style.width=g-e+'px';i.style.height=h-f+'px';document.body.appendChild(i);var j=A('zrender').init(i);var k=A('zrender/shape/Image');for(var c in d){j.addShape(new k({style:{x:d[c].left-e,y:d[c].top-f,image:d[c].img}}))}j.render();var l=this._option.backgroundColor;if(l&&l.replace(/ /g,'')==='rgba(0,0,0,0)'){l='#fff'}var m=j.toDataURL('image/png',l);setTimeout(function(){j.dispose();i.parentNode.removeChild(i);i=null},100);return m},getConnectedImage:function(a){var b=this._optionRestore.title;var c=document.createElement('img');c.src=this.getConnectedDataURL(a);c.title=b&&b.text||'ECharts';return c},on:function(a,b){this._messageCenterOutSide.bind(a,b,this);return this},un:function(a,b){this._messageCenterOutSide.unbind(a,b);return this},connect:function(a){if(!a){return this}if(!this._connected){this._connected={}}if(a instanceof Array){for(var i=0,l=a.length;i<l;i++){this._connected[a[i].id]=a[i]}}else{this._connected[a.id]=a}return this},disConnect:function(a){if(!a||!this._connected){return this}if(a instanceof Array){for(var i=0,l=a.length;i<l;i++){delete this._connected[a[i].id]}}else{delete this._connected[a.id]}for(var k in this._connected){return k,this}this._connected=false;return this},connectedEventHandler:function(a){if(a.__echartsId!=this.id){this._onevent(a)}},isConnected:function(){return!!this._connected},showLoading:function(a){var b={bar:A('zrender/loadingEffect/Bar'),bubble:A('zrender/loadingEffect/Bubble'),dynamicLine:A('zrender/loadingEffect/DynamicLine'),ring:A('zrender/loadingEffect/Ring'),spin:A('zrender/loadingEffect/Spin'),whirling:A('zrender/loadingEffect/Whirling'),nullData:A('zrender/loadingEffect/NullData')};this._toolbox.hideDataView();a=a||{};var c=a.textStyle||{};a.textStyle=c;var d=C.merge(C.merge(C.clone(c),this._themeConfig.textStyle),B.textStyle);c.textFont=d.fontStyle+' '+d.fontWeight+' '+d.fontSize+'px '+d.fontFamily;c.text=a.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||B.loadingText;if(a.x!=null){c.x=a.x}if(a.y!=null){c.y=a.y}a.effectOption=a.effectOption||{};a.effectOption.textStyle=c;var e=a.effect;if(typeof e==='string'||e==null){e=b[a.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||B.loadingEffect]||b.spin}this._zr.showLoading(new e(a.effectOption));return this},hideLoading:function(){this._zr.hideLoading();return this},setTheme:function(a){if(a){if(typeof a==='string'){switch(a){case'macarons':a=A('./theme/macarons');break;case'infographic':a=A('./theme/infographic');break;default:a={}}}else{a=a||{}}this._themeConfig=a}if(!F){var b=this._themeConfig.textStyle;b&&b.fontFamily&&b.fontFamily2&&(b.fontFamily=b.fontFamily2);b=B.textStyle;b.fontFamily=b.fontFamily2}this._timeline&&this._timeline.setTheme(true);this._optionRestore&&this.restore()},resize:function(){var a=this;return function(){a._clearEffect();a._zr.resize();if(a._option&&a._option.renderAsImage&&F){a._render(a._option);return a}a._zr.clearAnimation();a._island.resize();a._toolbox.resize();a._timeline&&a._timeline.resize();for(var i=0,l=a._chartList.length;i<l;i++){a._chartList[i].resize&&a._chartList[i].resize()}a.component.grid&&a.component.grid.refixAxisShape(a.component);a._zr.refresh();a._messageCenter.dispatch(B.EVENT.RESIZE,null,null,a);return a}},_clearEffect:function(){this._zr.modLayer(B.EFFECT_ZLEVEL,{motionBlur:false});this._zr.painter.clearLayer(B.EFFECT_ZLEVEL)},clear:function(){this._disposeChartList();this._zr.clear();this._option={};this._optionRestore={};this.dom.style.backgroundColor=null;return this},dispose:function(){var a=this.dom.getAttribute(I);a&&delete H[a];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}};return E});define('echarts/config',[],function(){var a={CHART_TYPE_LINE:'line',CHART_TYPE_BAR:'bar',CHART_TYPE_SCATTER:'scatter',CHART_TYPE_PIE:'pie',CHART_TYPE_RADAR:'radar',CHART_TYPE_VENN:'venn',CHART_TYPE_TREEMAP:'treemap',CHART_TYPE_TREE:'tree',CHART_TYPE_MAP:'map',CHART_TYPE_K:'k',CHART_TYPE_ISLAND:'island',CHART_TYPE_FORCE:'force',CHART_TYPE_CHORD:'chord',CHART_TYPE_GAUGE:'gauge',CHART_TYPE_FUNNEL:'funnel',CHART_TYPE_EVENTRIVER:'eventRiver',CHART_TYPE_WORDCLOUD:'wordCloud',COMPONENT_TYPE_TITLE:'title',COMPONENT_TYPE_LEGEND:'legend',COMPONENT_TYPE_DATARANGE:'dataRange',COMPONENT_TYPE_DATAVIEW:'dataView',COMPONENT_TYPE_DATAZOOM:'dataZoom',COMPONENT_TYPE_TOOLBOX:'toolbox',COMPONENT_TYPE_TOOLTIP:'tooltip',COMPONENT_TYPE_GRID:'grid',COMPONENT_TYPE_AXIS:'axis',COMPONENT_TYPE_POLAR:'polar',COMPONENT_TYPE_X_AXIS:'xAxis',COMPONENT_TYPE_Y_AXIS:'yAxis',COMPONENT_TYPE_AXIS_CATEGORY:'categoryAxis',COMPONENT_TYPE_AXIS_VALUE:'valueAxis',COMPONENT_TYPE_TIMELINE:'timeline',COMPONENT_TYPE_ROAMCONTROLLER:'roamController',backgroundColor:'rgba(0,0,0,0)',color:['#ff7f50','#87cefa','#da70d6','#32cd32','#6495ed','#ff69b4','#ba55d3','#cd5c5c','#ffa500','#40e0d0','#1e90ff','#ff6347','#7b68ee','#00fa9a','#ffd700','#6699FF','#ff6666','#3cb371','#b8860b','#30e0e0'],markPoint:{clickable:true,symbol:'pin',symbolSize:10,large:false,effect:{show:false,loop:true,period:15,type:'scale',scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:true,position:'inside'}},emphasis:{label:{show:true}}}},markLine:{clickable:true,symbol:['circle','arrow'],symbolSize:[2,4],smoothness:0.2,precision:2,effect:{show:false,loop:true,period:15,scaleSize:2},bundling:{enable:false,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:true,position:'end'},lineStyle:{type:'dashed'}},emphasis:{label:{show:false},lineStyle:{}}}},textStyle:{decoration:'none',fontFamily:'Arial, Verdana, sans-serif',fontFamily2:'微软雅黑',fontSize:12,fontStyle:'normal',fontWeight:'normal'},EVENT:{REFRESH:'refresh',RESTORE:'restore',RESIZE:'resize',CLICK:'click',DBLCLICK:'dblclick',HOVER:'hover',MOUSEOUT:'mouseout',DATA_CHANGED:'dataChanged',DATA_ZOOM:'dataZoom',DATA_RANGE:'dataRange',DATA_RANGE_SELECTED:'dataRangeSelected',DATA_RANGE_HOVERLINK:'dataRangeHoverLink',LEGEND_SELECTED:'legendSelected',LEGEND_HOVERLINK:'legendHoverLink',MAP_SELECTED:'mapSelected',PIE_SELECTED:'pieSelected',MAGIC_TYPE_CHANGED:'magicTypeChanged',DATA_VIEW_CHANGED:'dataViewChanged',TIMELINE_CHANGED:'timelineChanged',MAP_ROAM:'mapRoam',FORCE_LAYOUT_END:'forceLayoutEnd',TOOLTIP_HOVER:'tooltipHover',TOOLTIP_IN_GRID:'tooltipInGrid',TOOLTIP_OUT_GRID:'tooltipOutGrid',ROAMCONTROLLER:'roamController'},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,symbolList:['circle','rectangle','triangle','diamond','emptyCircle','emptyRectangle','emptyTriangle','emptyDiamond'],loadingEffect:'spin',loadingText:'数据读取中...',noDataEffect:'bubble',noDataText:'暂无数据',calculable:false,calculableColor:'rgba(255,165,0,0.6)',calculableHolderColor:'#ccc',nameConnector:' & ',valueConnector:': ',animation:true,addDataAnimation:true,animationThreshold:2000,animationDuration:2000,animationDurationUpdate:500,animationEasing:'ExponentialOut'};return a});define('zrender/tool/util',['require','../dep/excanvas'],function(f){var g=Array.prototype;var h=g.forEach;var j=g.map;var k=g.filter;var l={'[object Function]':1,'[object RegExp]':1,'[object Date]':1,'[object Error]':1,'[object CanvasGradient]':1};var m=Object.prototype.toString;function isDom(a){return a&&a.nodeType===1&&typeof a.nodeName=='string'}function clone(a){if(typeof a=='object'&&a!==null){var b=a;if(a instanceof Array){b=[];for(var i=0,len=a.length;i<len;i++){b[i]=clone(a[i])}}else if(!l[m.call(a)]&&!isDom(a)){b={};for(var c in a){if(a.hasOwnProperty(c)){b[c]=clone(a[c])}}}return b}return a}function mergeItem(a,b,c,d){if(b.hasOwnProperty(c)){var e=a[c];if(typeof e=='object'&&!l[m.call(e)]&&!isDom(e)){merge(a[c],b[c],d)}else if(d||!(c in a)){a[c]=b[c]}}}function merge(a,b,c){for(var i in b){mergeItem(a,b,i,c)}return a}var n;function getContext(){if(!n){f('../dep/excanvas');if(window['G_vmlCanvasManager']){var a=document.createElement('div');a.style.position='absolute';a.style.top='-1000px';document.body.appendChild(a);n=G_vmlCanvasManager.initElement(a).getContext('2d')}else{n=document.createElement('canvas').getContext('2d')}}return n}function indexOf(a,b){if(a.indexOf){return a.indexOf(b)}for(var i=0,len=a.length;i<len;i++){if(a[i]===b){return i}}return-1}function inherits(a,b){var c=a.prototype;function F(){}F.prototype=b.prototype;a.prototype=new F();for(var d in c){a.prototype[d]=c[d]}a.constructor=a}function each(a,b,c){if(!(a&&b)){return}if(a.forEach&&a.forEach===h){a.forEach(b,c)}else if(a.length===+a.length){for(var i=0,len=a.length;i<len;i++){b.call(c,a[i],i,a)}}else{for(var d in a){if(a.hasOwnProperty(d)){b.call(c,a[d],d,a)}}}}function map(a,b,c){if(!(a&&b)){return}if(a.map&&a.map===j){return a.map(b,c)}else{var d=[];for(var i=0,len=a.length;i<len;i++){d.push(b.call(c,a[i],i,a))}return d}}function filter(a,b,c){if(!(a&&b)){return}if(a.filter&&a.filter===k){return a.filter(b,c)}else{var d=[];for(var i=0,len=a.length;i<len;i++){if(b.call(c,a[i],i,a)){d.push(a[i])}}return d}}function bind(a,b){return function(){a.apply(b,arguments)}}return{inherits:inherits,clone:clone,merge:merge,getContext:getContext,indexOf:indexOf,each:each,map:map,filter:filter,bind:bind}});define('zrender/tool/event',['require','../mixin/Eventful'],function(a){'use strict';var b=a('../mixin/Eventful');function getX(e){return typeof e.zrenderX!='undefined'&&e.zrenderX||typeof e.offsetX!='undefined'&&e.offsetX||typeof e.layerX!='undefined'&&e.layerX||typeof e.clientX!='undefined'&&e.clientX}function getY(e){return typeof e.zrenderY!='undefined'&&e.zrenderY||typeof e.offsetY!='undefined'&&e.offsetY||typeof e.layerY!='undefined'&&e.layerY||typeof e.clientY!='undefined'&&e.clientY}function getDelta(e){return typeof e.zrenderDelta!='undefined'&&e.zrenderDelta||typeof e.wheelDelta!='undefined'&&e.wheelDelta||typeof e.detail!='undefined'&&-e.detail}var c=typeof window.addEventListener==='function'?function(e){e.preventDefault();e.stopPropagation();e.cancelBubble=true}:function(e){e.returnValue=false;e.cancelBubble=true};return{getX:getX,getY:getY,getDelta:getDelta,stop:c,Dispatcher:b}});define('zrender/tool/env',[],function(){function detect(a){var b=this.os={};var c=this.browser={};var d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/);var e=a.match(/(Android);?[\s\/]+([\d.]+)?/);var f=a.match(/(iPad).*OS\s([\d_]+)/);var g=a.match(/(iPod)(.*OS\s([\d_]+))?/);var h=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/);var i=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);var j=i&&a.match(/TouchPad/);var k=a.match(/Kindle\/([\d.]+)/);var l=a.match(/Silk\/([\d._]+)/);var m=a.match(/(BlackBerry).*Version\/([\d.]+)/);var n=a.match(/(BB10).*Version\/([\d.]+)/);var o=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/);var p=a.match(/PlayBook/);var q=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/);var r=a.match(/Firefox\/([\d.]+)/);var s=a.match(/MSIE ([\d.]+)/);var t=d&&a.match(/Mobile\//)&&!q;var u=a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!q;var s=a.match(/MSIE\s([\d.]+)/);if(c.webkit=!!d)c.version=d[1];if(e)b.android=true,b.version=e[2];if(h&&!g)b.ios=b.iphone=true,b.version=h[2].replace(/_/g,'.');if(f)b.ios=b.ipad=true,b.version=f[2].replace(/_/g,'.');if(g)b.ios=b.ipod=true,b.version=g[3]?g[3].replace(/_/g,'.'):null;if(i)b.webos=true,b.version=i[2];if(j)b.touchpad=true;if(m)b.blackberry=true,b.version=m[2];if(n)b.bb10=true,b.version=n[2];if(o)b.rimtabletos=true,b.version=o[2];if(p)c.playbook=true;if(k)b.kindle=true,b.version=k[1];if(l)c.silk=true,c.version=l[1];if(!l&&b.android&&a.match(/Kindle Fire/))c.silk=true;if(q)c.chrome=true,c.version=q[1];if(r)c.firefox=true,c.version=r[1];if(s)c.ie=true,c.version=s[1];if(t&&(a.match(/Safari/)||!!b.ios))c.safari=true;if(u)c.webview=true;if(s)c.ie=true,c.version=s[1];b.tablet=!!(f||p||e&&!a.match(/Mobile/)||r&&a.match(/Tablet/)||s&&!a.match(/Phone/)&&a.match(/Touch/));b.phone=!!(!b.tablet&&!b.ipod&&(e||h||i||m||n||q&&a.match(/Android/)||q&&a.match(/CriOS\/([\d.]+)/)||r&&a.match(/Mobile/)||s&&a.match(/Touch/)));return{browser:c,os:b,canvasSupported:document.createElement('canvas').getContext?true:false}}return detect(navigator.userAgent)});define('zrender',['zrender/zrender'],function(a){return a});define('zrender/zrender',['require','./dep/excanvas','./tool/util','./tool/log','./tool/guid','./Handler','./Painter','./Storage','./animation/Animation','./tool/env'],function(m){m('./dep/excanvas');var n=m('./tool/util');var o=m('./tool/log');var p=m('./tool/guid');var q=m('./Handler');var r=m('./Painter');var s=m('./Storage');var t=m('./animation/Animation');var u={};var v={};v.version='2.0.9';v.init=function(a){var b=new w(p(),a);u[b.id]=b;return b};v.dispose=function(a){if(a){a.dispose()}else{for(var b in u){u[b].dispose()}u={}}return v};v.getInstance=function(a){return u[a]};v.delInstance=function(a){delete u[a];return v};function getFrameCallback(a){return function(){if(a._needsRefreshNextFrame){a.refresh()}}}var w=function(c,d){this.id=c;this.env=m('./tool/env');this.storage=new s();this.painter=new r(d,this.storage);this.handler=new q(d,this.storage,this.painter);this.animation=new t({stage:{update:getFrameCallback(this)}});this.animation.start();var e=this;this.painter.refreshNextFrame=function(){e.refreshNextFrame()};this._needsRefreshNextFrame=false;var e=this;var f=this.storage;var g=f.delFromMap;f.delFromMap=function(a){var b=f.get(a);e.stopAnimation(b);g.call(f,a)}};w.prototype.getId=function(){return this.id};w.prototype.addShape=function(a){this.addElement(a);return this};w.prototype.addGroup=function(a){this.addElement(a);return this};w.prototype.delShape=function(a){this.delElement(a);return this};w.prototype.delGroup=function(a){this.delElement(a);return this};w.prototype.modShape=function(a,b){this.modElement(a,b);return this};w.prototype.modGroup=function(a,b){this.modElement(a,b);return this};w.prototype.addElement=function(a){this.storage.addRoot(a);this._needsRefreshNextFrame=true;return this};w.prototype.delElement=function(a){this.storage.delRoot(a);this._needsRefreshNextFrame=true;return this};w.prototype.modElement=function(a,b){this.storage.mod(a,b);this._needsRefreshNextFrame=true;return this};w.prototype.modLayer=function(a,b){this.painter.modLayer(a,b);this._needsRefreshNextFrame=true;return this};w.prototype.addHoverShape=function(a){this.storage.addHover(a);return this};w.prototype.render=function(a){this.painter.render(a);this._needsRefreshNextFrame=false;return this};w.prototype.refresh=function(a){this.painter.refresh(a);this._needsRefreshNextFrame=false;return this};w.prototype.refreshNextFrame=function(){this._needsRefreshNextFrame=true;return this};w.prototype.refreshHover=function(a){this.painter.refreshHover(a);return this};w.prototype.refreshShapes=function(a,b){this.painter.refreshShapes(a,b);return this};w.prototype.resize=function(){this.painter.resize();return this};w.prototype.animate=function(b,c,d){var e=this;if(typeof b==='string'){b=this.storage.get(b)}if(b){var f;if(c){var g=c.split('.');var h=b;for(var i=0,l=g.length;i<l;i++){if(!h){continue}h=h[g[i]]}if(h){f=h}}else{f=b}if(!f){o('Property "'+c+'" is not existed in element '+b.id);return}if(b.__animators==null){b.__animators=[]}var j=b.__animators;var k=this.animation.animate(f,{loop:d}).during(function(){e.modShape(b)}).done(function(){var a=n.indexOf(b.__animators,k);if(a>=0){j.splice(a,1)}});j.push(k);return k}else{o('Element not existed')}};w.prototype.stopAnimation=function(a){if(a.__animators){var b=a.__animators;var c=b.length;for(var i=0;i<c;i++){b[i].stop()}b.length=0}return this};w.prototype.clearAnimation=function(){this.animation.clear();return this};w.prototype.showLoading=function(a){this.painter.showLoading(a);return this};w.prototype.hideLoading=function(){this.painter.hideLoading();return this};w.prototype.getWidth=function(){return this.painter.getWidth()};w.prototype.getHeight=function(){return this.painter.getHeight()};w.prototype.toDataURL=function(a,b,c){return this.painter.toDataURL(a,b,c)};w.prototype.shapeToImage=function(e,a,b){var c=p();return this.painter.shapeToImage(c,e,a,b)};w.prototype.on=function(a,b,c){this.handler.on(a,b,c);return this};w.prototype.un=function(a,b){this.handler.un(a,b);return this};w.prototype.trigger=function(a,b){this.handler.trigger(a,b);return this};w.prototype.clear=function(){this.storage.delRoot();this.painter.clear();return this};w.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;v.delInstance(this.id)};return v});define('zrender/config',[],function(){var a={EVENT:{RESIZE:'resize',CLICK:'click',DBLCLICK:'dblclick',MOUSEWHEEL:'mousewheel',MOUSEMOVE:'mousemove',MOUSEOVER:'mouseover',MOUSEOUT:'mouseout',MOUSEDOWN:'mousedown',MOUSEUP:'mouseup',GLOBALOUT:'globalout',DRAGSTART:'dragstart',DRAGEND:'dragend',DRAGENTER:'dragenter',DRAGOVER:'dragover',DRAGLEAVE:'dragleave',DROP:'drop',touchClickDelay:300},catchBrushException:false,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return a});define('echarts/chart/island',['require','./base','zrender/shape/Circle','../config','../util/ecData','zrender/tool/util','zrender/tool/event','zrender/tool/color','../util/accMath','../chart'],function(n){var o=n('./base');var p=n('zrender/shape/Circle');var q=n('../config');q.island={zlevel:0,z:5,r:15,calculateStep:0.1};var r=n('../util/ecData');var s=n('zrender/tool/util');var t=n('zrender/tool/event');function Island(h,i,j,k,l){o.call(this,h,i,j,k,l);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var m=this;m.shapeHandler.onmousewheel=function(a){var b=a.target;var c=a.event;var d=t.getDelta(c);d=d>0?-1:1;b.style.r-=d;b.style.r=b.style.r<5?5:b.style.r;var e=r.get(b,'value');var f=e*m.option.island.calculateStep;e=f>1?Math.round(e-f*d):+(e-f*d).toFixed(2);var g=r.get(b,'name');b.style.text=g+':'+e;r.set(b,'value',e);r.set(b,'name',g);m.zr.modShape(b.id);m.zr.refreshNextFrame();t.stop(c)}}Island.prototype={type:q.CHART_TYPE_ISLAND,_combine:function(a,b){var c=n('zrender/tool/color');var d=n('../util/accMath');var e=d.accAdd(r.get(a,'value'),r.get(b,'value'));var f=r.get(a,'name')+this._nameConnector+r.get(b,'name');a.style.text=f+this._valueConnector+e;r.set(a,'value',e);r.set(a,'name',f);a.style.r=this.option.island.r;a.style.color=c.mix(a.style.color,b.style.color)},refresh:function(a){if(a){a.island=this.reformOption(a.island);this.option=a;this._nameConnector=this.option.nameConnector;this._valueConnector=this.option.valueConnector}},getOption:function(){return this.option},resize:function(){var a=this.zr.getWidth();var b=this.zr.getHeight();var c=a/(this._zrWidth||a);var d=b/(this._zrHeight||b);if(c===1&&d===1){return}this._zrWidth=a;this._zrHeight=b;for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.modShape(this.shapeList[i].id,{style:{x:Math.round(this.shapeList[i].style.x*c),y:Math.round(this.shapeList[i].style.y*d)}})}},add:function(a){var b=r.get(a,'name');var c=r.get(a,'value');var d=r.get(a,'series')!=null?r.get(a,'series').name:'';var e=this.getFont(this.option.island.textStyle);var f={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:a.style.x,y:a.style.y,r:this.option.island.r,color:a.style.color||a.style.strokeColor,text:b+this._valueConnector+c,textFont:e},draggable:true,hoverable:true,onmousewheel:this.shapeHandler.onmousewheel,_type:'island'};if(f.style.color==='#fff'){f.style.color=a.style.strokeColor}this.setCalculable(f);f.dragEnableTime=0;r.pack(f,{name:d},-1,c,-1,b);f=new p(f);this.shapeList.push(f);this.zr.addShape(f)},del:function(a){this.zr.delShape(a.id);var b=[];for(var i=0,l=this.shapeList.length;i<l;i++){if(this.shapeList[i].id!=a.id){b.push(this.shapeList[i])}}this.shapeList=b},ondrop:function(a,b){if(!this.isDrop||!a.target){return}var c=a.target;var d=a.dragged;this._combine(c,d);this.zr.modShape(c.id);b.dragIn=true;this.isDrop=false;return},ondragend:function(a,b){var c=a.target;if(!this.isDragend){if(!b.dragIn){c.style.x=t.getX(a.event);c.style.y=t.getY(a.event);this.add(c);b.needRefresh=true}}else{if(b.dragIn){this.del(c);b.needRefresh=true}}this.isDragend=false;return}};s.inherits(Island,o);n('../chart').define('island',Island);return Island});define('echarts/component/toolbox',['require','./base','zrender/shape/Line','zrender/shape/Image','zrender/shape/Rectangle','../util/shape/Icon','../config','zrender/tool/util','zrender/config','zrender/tool/event','./dataView','../component'],function(p){var q=p('./base');var r=p('zrender/shape/Line');var t=p('zrender/shape/Image');var u=p('zrender/shape/Rectangle');var v=p('../util/shape/Icon');var w=p('../config');w.toolbox={zlevel:0,z:6,show:false,orient:'horizontal',x:'right',y:'top',color:['#1e90ff','#22bb22','#4b0082','#d2691e'],disableColor:'#ddd',effectiveColor:'red',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:true,feature:{outView:{show:false,title:{outView:'返回小图'},lineStyle:{width:1,color:'#1e90ff',type:'dashed'}},innerView:{show:false,title:{innerView:'查看大图'},lineStyle:{width:1,color:'#8b3a3a',type:'dashed'}},mark:{show:false,title:{mark:'辅助线开关',markUndo:'删除辅助线',markClear:'清空辅助线'},lineStyle:{width:1,color:'#1e90ff',type:'dashed'}},dataZoom:{show:false,title:{dataZoom:'区域缩放',dataZoomReset:'区域缩放后退'}},dataView:{show:false,title:'数据视图',readOnly:false,lang:['数据视图','关闭','刷新']},magicType:{show:false,title:{line:'折线图切换',bar:'柱形图切换',stack:'堆积',tiled:'平铺',force:'力导向布局图切换',chord:'和弦图切换',pie:'饼图切换',funnel:'漏斗图切换'},type:[]},restore:{show:false,title:'还原'},saveAsImage:{show:false,title:'保存为图片',type:'png',lang:['点击保存']}}};var z=p('zrender/tool/util');var A=p('zrender/config');var B=p('zrender/tool/event');var C='stack';var D='tiled';function Toolbox(b,c,d,e,f){q.call(this,b,c,d,e,f);this.dom=f.dom;this._magicType={};this._magicMap={};this._isSilence=false;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._featureOption={};this._enableColor='red';this._disableColor='#ccc';this._markShapeList=[];var g=this;g._onOutView=function(){returnOutView()};g._onInnerView=function(){g.__onInnerView()};g._onMark=function(a){g.__onMark(a)};g._onMarkUndo=function(a){g.__onMarkUndo(a)};g._onMarkClear=function(a){g.__onMarkClear(a)};g._onDataZoom=function(a){g.__onDataZoom(a)};g._onDataZoomReset=function(a){g.__onDataZoomReset(a)};g._onDataView=function(a){g.__onDataView(a)};g._onRestore=function(a){g.__onRestore(a)};g._onSaveAsImage=function(a){g.__onSaveAsImage(a)};g._onMagicType=function(a){g.__onMagicType(a)};g._onCustomHandler=function(a){g.__onCustomHandler(a)};g._onmousemove=function(a){return g.__onmousemove(a)};g._onmousedown=function(a){return g.__onmousedown(a)};g._onmouseup=function(a){return g.__onmouseup(a)};g._onclick=function(a){return g.__onclick(a)}}Toolbox.prototype={type:w.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var a=this.option.toolbox;this._enableColor=a.effectiveColor;this._disableColor=a.disableColor;var b=a.feature;var c=[];for(var d in b){if(b[d].show){switch(d){case'outView':c.push({key:d,name:'outView'});break;case'innerView':c.push({key:d,name:'innerView'});break;case'mark':c.push({key:d,name:'mark'});c.push({key:d,name:'markUndo'});c.push({key:d,name:'markClear'});break;case'magicType':for(var i=0,l=b[d].type.length;i<l;i++){b[d].title[b[d].type[i]+'Chart']=b[d].title[b[d].type[i]];if(b[d].option){b[d].option[b[d].type[i]+'Chart']=b[d].option[b[d].type[i]]}c.push({key:d,name:b[d].type[i]+'Chart'})}break;case'dataZoom':c.push({key:d,name:'dataZoom'});c.push({key:d,name:'dataZoomReset'});break;case'saveAsImage':if(this.canvasSupported){c.push({key:d,name:'saveAsImage'})}break;default:c.push({key:d,name:d});break}}}if(c.length>0){var e;var d;for(var i=0,l=c.length;i<l;i++){e=c[i].name;d=c[i].key;this._iconList.push(e);this._featureTitle[e]=b[d].title[e]||b[d].title;if(b[d].icon){this._featureIcon[e]=b[d].icon[e]||b[d].icon}if(b[d].color){this._featureColor[e]=b[d].color[e]||b[d].color}if(b[d].option){this._featureOption[e]=b[d].option[e]||b[d].option}}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}if(this._iconShapeMap['mark']){this._iconDisable(this._iconShapeMap['markUndo']);this._iconDisable(this._iconShapeMap['markClear'])}if(this._iconShapeMap['dataZoomReset']&&this._zoomQueue.length===0){this._iconDisable(this._iconShapeMap['dataZoomReset'])}}},_buildItem:function(){var a=this.option.toolbox;var b=this._iconList.length;var c=this._itemGroupLocation.x;var d=this._itemGroupLocation.y;var e=a.itemSize;var f=a.itemGap;var g;var h=a.color instanceof Array?a.color:[a.color];var j=this.getFont(a.textStyle);var k;var l;var m;if(a.orient==='horizontal'){k=this._itemGroupLocation.y/this.zr.getHeight()<0.5?'bottom':'top';l=this._itemGroupLocation.x/this.zr.getWidth()<0.5?'left':'right';m=this._itemGroupLocation.y/this.zr.getHeight()<0.5?'top':'bottom'}else{k=this._itemGroupLocation.x/this.zr.getWidth()<0.5?'right':'left'}this._iconShapeMap={};var n=this;for(var i=0;i<b;i++){g={type:'icon',zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:c,y:d,width:e,height:e,iconType:this._iconList[i],lineWidth:1,strokeColor:this._featureColor[this._iconList[i]]||h[i%h.length],brushType:'stroke'},highlightStyle:{lineWidth:1,text:a.showTitle?this._featureTitle[this._iconList[i]]:undefined,textFont:j,textPosition:k,strokeColor:this._featureColor[this._iconList[i]]||h[i%h.length]},hoverable:true,clickable:true};if(this._featureIcon[this._iconList[i]]){g.style.image=this._featureIcon[this._iconList[i]].replace(new RegExp('^image:\\/\\/'),'');g.style.opacity=0.8;g.highlightStyle.opacity=1;g.type='image'}if(a.orient==='horizontal'){if(i===0&&l==='left'){g.highlightStyle.textPosition='specific';g.highlightStyle.textAlign=l;g.highlightStyle.textBaseline=m;g.highlightStyle.textX=c;g.highlightStyle.textY=m==='top'?d+e+10:d-10}if(i===b-1&&l==='right'){g.highlightStyle.textPosition='specific';g.highlightStyle.textAlign=l;g.highlightStyle.textBaseline=m;g.highlightStyle.textX=c+e;g.highlightStyle.textY=m==='top'?d+e+10:d-10}}switch(this._iconList[i]){case'outView':g.onclick=n._onOutView;break;case'innerView':g.onclick=n._onInnerView;break;case'mark':g.onclick=n._onMark;break;case'markUndo':g.onclick=n._onMarkUndo;break;case'markClear':g.onclick=n._onMarkClear;break;case'dataZoom':g.onclick=n._onDataZoom;break;case'dataZoomReset':g.onclick=n._onDataZoomReset;break;case'dataView':if(!this._dataView){var o=p('./dataView');this._dataView=new o(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}g.onclick=n._onDataView;break;case'restore':g.onclick=n._onRestore;break;case'saveAsImage':g.onclick=n._onSaveAsImage;break;default:if(this._iconList[i].match('Chart')){g._name=this._iconList[i].replace('Chart','');g.onclick=n._onMagicType}else{g.onclick=n._onCustomHandler}break}if(g.type==='icon'){g=new v(g)}else if(g.type==='image'){g=new t(g)}this.shapeList.push(g);this._iconShapeMap[this._iconList[i]]=g;if(a.orient==='horizontal'){c+=e+f}else{d+=e+f}}},_buildBackground:function(){var a=this.option.toolbox;var b=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new u({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-b[3],y:this._itemGroupLocation.y-b[0],width:this._itemGroupLocation.width+b[3]+b[1],height:this._itemGroupLocation.height+b[0]+b[2],brushType:a.borderWidth===0?'fill':'both',color:a.backgroundColor,strokeColor:a.borderColor,lineWidth:a.borderWidth}}))},_getItemGroupLocation:function(){var a=this.option.toolbox;var b=this.reformCssArray(this.option.toolbox.padding);var c=this._iconList.length;var d=a.itemGap;var e=a.itemSize;var f=0;var g=0;if(a.orient==='horizontal'){f=(e+d)*c-d;g=e}else{g=(e+d)*c-d;f=e}var x;var h=this.zr.getWidth();switch(a.x){case'center':x=Math.floor((h-f)/2);break;case'left':x=b[3]+a.borderWidth;break;case'right':x=h-f-b[1]-a.borderWidth;break;default:x=a.x-0;x=isNaN(x)?0:x;break}var y;var i=this.zr.getHeight();switch(a.y){case'top':y=b[0]+a.borderWidth;break;case'bottom':y=i-g-b[2]-a.borderWidth;break;case'center':y=Math.floor((i-g)/2);break;default:y=a.y-0;y=isNaN(y)?0:y;break}return{x:x,y:y,width:f,height:g}},__onmousemove:function(a){if(this._marking){this._markShape.style.xEnd=B.getX(a.event);this._markShape.style.yEnd=B.getY(a.event);this.zr.addHoverShape(this._markShape)}if(this._zooming){this._zoomShape.style.width=B.getX(a.event)-this._zoomShape.style.x;this._zoomShape.style.height=B.getY(a.event)-this._zoomShape.style.y;this.zr.addHoverShape(this._zoomShape);this.dom.style.cursor='crosshair';B.stop(a.event)}if(this._zoomStart&&(this.dom.style.cursor!='pointer'&&this.dom.style.cursor!='move')){this.dom.style.cursor='crosshair'}},__onmousedown:function(a){if(a.target){return}this._zooming=true;var x=B.getX(a.event);var y=B.getY(a.event);var b=this.option.dataZoom||{};this._zoomShape=new u({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:x,y:y,width:1,height:1,brushType:'both'},highlightStyle:{lineWidth:2,color:b.fillerColor||w.dataZoom.fillerColor,strokeColor:b.handleColor||w.dataZoom.handleColor,brushType:'both'}});this.zr.addHoverShape(this._zoomShape);return true},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){this._zooming=false;return true}if(this._zooming&&this.component.dataZoom){this._zooming=false;var a=this.component.dataZoom.rectZoom(this._zoomShape.style);if(a){this._zoomQueue.push({start:a.start,end:a.end,start2:a.start2,end2:a.end2});this._iconEnable(this._iconShapeMap['dataZoomReset']);this.zr.refreshNextFrame()}}return true},__onclick:function(a){if(a.target){return}if(this._marking){this._marking=false;this._markShapeList.push(this._markShape);this._iconEnable(this._iconShapeMap['markUndo']);this._iconEnable(this._iconShapeMap['markClear']);this.zr.addShape(this._markShape);this.zr.refreshNextFrame()}else if(this._markStart){this._marking=true;var x=B.getX(a.event);var y=B.getY(a.event);this._markShape=new r({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:x,yStart:y,xEnd:x,yEnd:y,lineWidth:this.query(this.option,'toolbox.feature.mark.lineStyle.width'),strokeColor:this.query(this.option,'toolbox.feature.mark.lineStyle.color'),lineType:this.query(this.option,'toolbox.feature.mark.lineStyle.type')}});this.zr.addHoverShape(this._markShape)}},__onInnerView:function(){viewMyInnerInfo(this.option);return true},__onMark:function(a){var b=a.target;if(this._marking||this._markStart){this._resetMark();this.zr.refreshNextFrame()}else{this._resetZoom();this.zr.modShape(b.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._markStart=true;var c=this;setTimeout(function(){c.zr&&c.zr.on(A.EVENT.CLICK,c._onclick)&&c.zr.on(A.EVENT.MOUSEMOVE,c._onmousemove)},10)}return true},__onMarkUndo:function(){if(this._marking){this._marking=false}else{var a=this._markShapeList.length;if(a>=1){var b=this._markShapeList[a-1];this.zr.delShape(b.id);this.zr.refreshNextFrame();this._markShapeList.pop();if(a===1){this._iconDisable(this._iconShapeMap['markUndo']);this._iconDisable(this._iconShapeMap['markClear'])}}}return true},__onMarkClear:function(){if(this._marking){this._marking=false}var a=this._markShapeList.length;if(a>0){while(a--){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap['markUndo']);this._iconDisable(this._iconShapeMap['markClear']);this.zr.refreshNextFrame()}return true},__onDataZoom:function(a){var b=a.target;if(this._zooming||this._zoomStart){this._resetZoom();this.zr.refreshNextFrame();this.dom.style.cursor='default'}else{this._resetMark();this.zr.modShape(b.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._zoomStart=true;var c=this;setTimeout(function(){c.zr&&c.zr.on(A.EVENT.MOUSEDOWN,c._onmousedown)&&c.zr.on(A.EVENT.MOUSEUP,c._onmouseup)&&c.zr.on(A.EVENT.MOUSEMOVE,c._onmousemove)},10);this.dom.style.cursor='crosshair'}return true},__onDataZoomReset:function(){if(this._zooming){this._zooming=false}this._zoomQueue.pop();if(this._zoomQueue.length>0){this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1])}else{this.component.dataZoom.rectZoom();this._iconDisable(this._iconShapeMap['dataZoomReset']);this.zr.refreshNextFrame()}return true},_resetMark:function(){this._marking=false;if(this._markStart){this._markStart=false;if(this._iconShapeMap['mark']){this.zr.modShape(this._iconShapeMap['mark'].id,{style:{strokeColor:this._iconShapeMap['mark'].highlightStyle.strokeColor}})}this.zr.un(A.EVENT.CLICK,this._onclick);this.zr.un(A.EVENT.MOUSEMOVE,this._onmousemove)}},_resetZoom:function(){this._zooming=false;if(this._zoomStart){this._zoomStart=false;if(this._iconShapeMap['dataZoom']){this.zr.modShape(this._iconShapeMap['dataZoom'].id,{style:{strokeColor:this._iconShapeMap['dataZoom'].highlightStyle.strokeColor}})}this.zr.un(A.EVENT.MOUSEDOWN,this._onmousedown);this.zr.un(A.EVENT.MOUSEUP,this._onmouseup);this.zr.un(A.EVENT.MOUSEMOVE,this._onmousemove)}},_iconDisable:function(a){if(a.type!='image'){this.zr.modShape(a.id,{hoverable:false,clickable:false,style:{strokeColor:this._disableColor}})}else{this.zr.modShape(a.id,{hoverable:false,clickable:false,style:{opacity:0.3}})}},_iconEnable:function(a){if(a.type!='image'){this.zr.modShape(a.id,{hoverable:true,clickable:true,style:{strokeColor:a.highlightStyle.strokeColor}})}else{this.zr.modShape(a.id,{hoverable:true,clickable:true,style:{opacity:0.8}})}},__onDataView:function(){this._dataView.show(this.option);return true},__onRestore:function(){this._resetMark();this._resetZoom();this.messageCenter.dispatch(w.EVENT.RESTORE,null,null,this.myChart);return true},__onSaveAsImage:function(){var b=this.option.toolbox.feature.saveAsImage;var c=b.type||'png';if(c!='png'&&c!='jpeg'){c='png'}var e;if(!this.myChart.isConnected()){e=this.zr.toDataURL('image/'+c,this.option.backgroundColor&&this.option.backgroundColor.replace(' ','')==='rgba(0,0,0,0)'?'#fff':this.option.backgroundColor)}else{e=this.myChart.getConnectedDataURL(c)}var f=document.createElement('div');f.id='__echarts_download_wrap__';f.style.cssText='position:fixed;'+'z-index:99999;'+'display:block;'+'top:0;left:0;'+'background-color:rgba(33,33,33,0.5);'+'text-align:center;'+'width:100%;'+'height:100%;'+'line-height:'+document.documentElement.clientHeight+'px;';var g=document.createElement('a');g.href=e;g.setAttribute('download',(b.name?b.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:'ECharts')+'.'+c);g.innerHTML='<img style="vertical-align:middle" src="'+e+'" title="'+(!!window.ActiveXObject||'ActiveXObject'in window?'右键->图片另存为':b.lang?b.lang[0]:'点击保存')+'"/>';f.appendChild(g);document.body.appendChild(f);g=null;f=null;setTimeout(function(){var a=document.getElementById('__echarts_download_wrap__');if(a){a.onclick=function(){var d=document.getElementById('__echarts_download_wrap__');d.onclick=null;d.innerHTML='';document.body.removeChild(d);d=null};a=null}},500);return},__onMagicType:function(a){this._resetMark();var b=a.target._name;if(!this._magicType[b]){this._magicType[b]=true;if(b===w.CHART_TYPE_LINE){this._magicType[w.CHART_TYPE_BAR]=false}else if(b===w.CHART_TYPE_BAR){this._magicType[w.CHART_TYPE_LINE]=false}if(b===w.CHART_TYPE_PIE){this._magicType[w.CHART_TYPE_FUNNEL]=false}else if(b===w.CHART_TYPE_FUNNEL){this._magicType[w.CHART_TYPE_PIE]=false}if(b===w.CHART_TYPE_FORCE){this._magicType[w.CHART_TYPE_CHORD]=false}else if(b===w.CHART_TYPE_CHORD){this._magicType[w.CHART_TYPE_FORCE]=false}if(b===C){this._magicType[D]=false}else if(b===D){this._magicType[C]=false}this.messageCenter.dispatch(w.EVENT.MAGIC_TYPE_CHANGED,a.event,{magicType:this._magicType},this.myChart)}return true},setMagicType:function(a){this._resetMark();this._magicType=a;!this._isSilence&&this.messageCenter.dispatch(w.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(a){var b=a.target.style.iconType;var c=this.option.toolbox.feature[b].onclick;if(typeof c==='function'){c.call(this,this.option)}},reset:function(a,b){b&&this.clear();if(this.query(a,'toolbox.show')&&this.query(a,'toolbox.feature.magicType.show')){var c=a.toolbox.feature.magicType.type;var d=c.length;this._magicMap={};while(d--){this._magicMap[c[d]]=true}d=a.series.length;var e;var f;while(d--){e=a.series[d].type;if(this._magicMap[e]){f=a.xAxis instanceof Array?a.xAxis[a.series[d].xAxisIndex||0]:a.xAxis;if(f&&(f.type||'category')==='category'){f.__boundaryGap=f.boundaryGap!=null?f.boundaryGap:true}f=a.yAxis instanceof Array?a.yAxis[a.series[d].yAxisIndex||0]:a.yAxis;if(f&&f.type==='category'){f.__boundaryGap=f.boundaryGap!=null?f.boundaryGap:true}a.series[d].__type=e;a.series[d].__itemStyle=z.clone(a.series[d].itemStyle||{})}if(this._magicMap[C]||this._magicMap[D]){a.series[d].__stack=a.series[d].stack}}}this._magicType=b?{}:this._magicType||{};for(var g in this._magicType){if(this._magicType[g]){this.option=a;this.getMagicOption();break}}var h=a.dataZoom;if(h&&h.show){var i=h.start!=null&&h.start>=0&&h.start<=100?h.start:0;var j=h.end!=null&&h.end>=0&&h.end<=100?h.end:100;if(i>j){i=i+j;j=i-j;i=i-j}this._zoomQueue=[{start:i,end:j,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var a;var b;if(this._magicType[w.CHART_TYPE_LINE]||this._magicType[w.CHART_TYPE_BAR]){var c=this._magicType[w.CHART_TYPE_LINE]?false:true;for(var i=0,l=this.option.series.length;i<l;i++){b=this.option.series[i].type;if(b==w.CHART_TYPE_LINE||b==w.CHART_TYPE_BAR){a=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[i].xAxisIndex||0]:this.option.xAxis;if(a&&(a.type||'category')==='category'){a.boundaryGap=c?true:a.__boundaryGap}a=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[i].yAxisIndex||0]:this.option.yAxis;if(a&&a.type==='category'){a.boundaryGap=c?true:a.__boundaryGap}}}this._defaultMagic(w.CHART_TYPE_LINE,w.CHART_TYPE_BAR)}this._defaultMagic(w.CHART_TYPE_CHORD,w.CHART_TYPE_FORCE);this._defaultMagic(w.CHART_TYPE_PIE,w.CHART_TYPE_FUNNEL);if(this._magicType[C]||this._magicType[D]){for(var i=0,l=this.option.series.length;i<l;i++){if(this._magicType[C]){this.option.series[i].stack='_ECHARTS_STACK_KENER_2014_';b=C}else if(this._magicType[D]){this.option.series[i].stack=null;b=D}if(this._featureOption[b+'Chart']){z.merge(this.option.series[i],this._featureOption[b+'Chart']||{},true)}}}return this.option},_defaultMagic:function(a,b){if(this._magicType[a]||this._magicType[b]){for(var i=0,l=this.option.series.length;i<l;i++){var c=this.option.series[i].type;if(c==a||c==b){this.option.series[i].type=this._magicType[a]?a:b;this.option.series[i].itemStyle=z.clone(this.option.series[i].__itemStyle);c=this.option.series[i].type;if(this._featureOption[c+'Chart']){z.merge(this.option.series[i],this._featureOption[c+'Chart']||{},true)}}}}},silence:function(s){this._isSilence=s},resize:function(){this._resetMark();this.clear();if(this.option&&this.option.toolbox&&this.option.toolbox.show){this._buildShape()}if(this._dataView){this._dataView.resize()}},hideDataView:function(){if(this._dataView){this._dataView.hide()}},clear:function(a){if(this.zr){this.zr.delShape(this.shapeList);this.shapeList=[];if(!a){this.zr.delShape(this._markShapeList);this._markShapeList=[]}}},onbeforDispose:function(){if(this._dataView){this._dataView.dispose();this._dataView=null}this._markShapeList=null},refresh:function(a){if(a){this._resetMark();this._resetZoom();a.toolbox=this.reformOption(a.toolbox);this.option=a;this.clear(true);if(a.toolbox.show){this._buildShape()}this.hideDataView()}}};z.inherits(Toolbox,q);p('../component').define('toolbox',Toolbox);return Toolbox});define('echarts/component',[],function(){var c={};var d={};c.define=function(a,b){d[a]=b;return c};c.get=function(a){return d[a]};return c});define('echarts/component/title',['require','./base','zrender/shape/Text','zrender/shape/Rectangle','../config','zrender/tool/util','zrender/tool/area','zrender/tool/color','../component'],function(m){var n=m('./base');var o=m('zrender/shape/Text');var p=m('zrender/shape/Rectangle');var q=m('../config');q.title={zlevel:0,z:6,show:true,text:'',subtext:'',x:'left',y:'top',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:'bolder',color:'#333'},subtextStyle:{color:'#aaa'}};var r=m('zrender/tool/util');var s=m('zrender/tool/area');var t=m('zrender/tool/color');function Title(a,b,c,d,e){n.call(this,a,b,c,d,e);this.refresh(d)}Title.prototype={type:q.COMPONENT_TYPE_TITLE,_buildShape:function(){if(!this.titleOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}},_buildItem:function(){var a=this.titleOption.text;var b=this.titleOption.link;var c=this.titleOption.target;var d=this.titleOption.subtext;var e=this.titleOption.sublink;var f=this.titleOption.subtarget;var g=this.getFont(this.titleOption.textStyle);var h=this.getFont(this.titleOption.subtextStyle);var x=this._itemGroupLocation.x;var y=this._itemGroupLocation.y;var i=this._itemGroupLocation.width;var j=this._itemGroupLocation.height;var k={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:y,color:this.titleOption.textStyle.color,text:a,textFont:g,textBaseline:'top'},highlightStyle:{color:t.lift(this.titleOption.textStyle.color,1),brushType:'fill'},hoverable:false};if(b){k.hoverable=true;k.clickable=true;k.onclick=function(){if(!c||c!='self'){window.open(b)}else{window.location=b}}}var l={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:y+j,color:this.titleOption.subtextStyle.color,text:d,textFont:h,textBaseline:'bottom'},highlightStyle:{color:t.lift(this.titleOption.subtextStyle.color,1),brushType:'fill'},hoverable:false};if(e){l.hoverable=true;l.clickable=true;l.onclick=function(){if(!f||f!='self'){window.open(e)}else{window.location=e}}}switch(this.titleOption.x){case'center':k.style.x=l.style.x=x+i/2;k.style.textAlign=l.style.textAlign='center';break;case'left':k.style.x=l.style.x=x;k.style.textAlign=l.style.textAlign='left';break;case'right':k.style.x=l.style.x=x+i;k.style.textAlign=l.style.textAlign='right';break;default:x=this.titleOption.x-0;x=isNaN(x)?0:x;k.style.x=l.style.x=x;break}if(this.titleOption.textAlign){k.style.textAlign=l.style.textAlign=this.titleOption.textAlign}this.shapeList.push(new o(k));d!==''&&this.shapeList.push(new o(l))},_buildBackground:function(){var a=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new p({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:this.titleOption.borderWidth===0?'fill':'both',color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var a=this.reformCssArray(this.titleOption.padding);var b=this.titleOption.text;var c=this.titleOption.subtext;var d=this.getFont(this.titleOption.textStyle);var e=this.getFont(this.titleOption.subtextStyle);var f=Math.max(s.getTextWidth(b,d),s.getTextWidth(c,e));var g=s.getTextHeight(b,d)+(c===''?0:this.titleOption.itemGap+s.getTextHeight(c,e));var x;var h=this.zr.getWidth();switch(this.titleOption.x){case'center':x=Math.floor((h-f)/2);break;case'left':x=a[3]+this.titleOption.borderWidth;break;case'right':x=h-f-a[1]-this.titleOption.borderWidth;break;default:x=this.titleOption.x-0;x=isNaN(x)?0:x;break}var y;var i=this.zr.getHeight();switch(this.titleOption.y){case'top':y=a[0]+this.titleOption.borderWidth;break;case'bottom':y=i-g-a[2]-this.titleOption.borderWidth;break;case'center':y=Math.floor((i-g)/2);break;default:y=this.titleOption.y-0;y=isNaN(y)?0:y;break}return{x:x,y:y,width:f,height:g}},refresh:function(a){if(a){this.option=a;this.option.title=this.reformOption(this.option.title);this.titleOption=this.option.title;this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle);this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)}this.clear();this._buildShape()}};r.inherits(Title,n);m('../component').define('title',Title);return Title});define('echarts/component/tooltip',['require','./base','../util/shape/Cross','zrender/shape/Line','zrender/shape/Rectangle','../config','../util/ecData','zrender/config','zrender/tool/event','zrender/tool/area','zrender/tool/color','zrender/tool/util','zrender/shape/Base','../component'],function(t){var u=t('./base');var v=t('../util/shape/Cross');var w=t('zrender/shape/Line');var z=t('zrender/shape/Rectangle');var A=new z({});var B=t('../config');B.tooltip={zlevel:1,z:8,show:true,showContent:true,trigger:'item',islandFormatter:'{a} <br/>{b} : {c}',showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:'rgba(0,0,0,0.7)',borderColor:'#333',borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:'line',lineStyle:{color:'#48b',width:2,type:'solid'},crossStyle:{color:'#1e90ff',width:1,type:'dashed'},shadowStyle:{color:'rgba(150,150,150,0.3)',width:'auto',type:'default'}},textStyle:{color:'#fff'}};var C=t('../util/ecData');var D=t('zrender/config');var E=t('zrender/tool/event');var F=t('zrender/tool/area');var G=t('zrender/tool/color');var H=t('zrender/tool/util');var I=t('zrender/shape/Base');function Tooltip(c,d,e,f,g){u.call(this,c,d,e,f,g);this.dom=g.dom;var h=this;h._onmousemove=function(a){return h.__onmousemove(a)};h._onglobalout=function(a){return h.__onglobalout(a)};this.zr.on(D.EVENT.MOUSEMOVE,h._onmousemove);this.zr.on(D.EVENT.GLOBALOUT,h._onglobalout);h._hide=function(a){return h.__hide(a)};h._tryShow=function(a){return h.__tryShow(a)};h._refixed=function(a){return h.__refixed(a)};h._setContent=function(a,b){return h.__setContent(a,b)};this._tDom=this._tDom||document.createElement('div');this._tDom.onselectstart=function(){return false};this._tDom.onmouseover=function(){h._mousein=true};this._tDom.onmouseout=function(){h._mousein=false};this._tDom.className='echarts-tooltip';this._tDom.style.position='absolute';this.hasAppend=false;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new w({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new w({zlevel:this.getZlevelBase(),z:1,invisible:true,hoverable:false});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new v({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=false;this.refresh(f)}Tooltip.prototype={type:B.COMPONENT_TYPE_TOOLTIP,_gCssText:'position:absolute;display:block;border-style:solid;white-space:nowrap;',_style:function(a){if(!a){return''}var b=[];if(a.transitionDuration){var c='left '+a.transitionDuration+'s,'+'top '+a.transitionDuration+'s';b.push('transition:'+c);b.push('-moz-transition:'+c);b.push('-webkit-transition:'+c);b.push('-o-transition:'+c)}if(a.backgroundColor){b.push('background-Color:'+G.toHex(a.backgroundColor));b.push('filter:alpha(opacity=70)');b.push('background-Color:'+a.backgroundColor)}if(a.borderWidth!=null){b.push('border-width:'+a.borderWidth+'px')}if(a.borderColor!=null){b.push('border-color:'+a.borderColor)}if(a.borderRadius!=null){b.push('border-radius:'+a.borderRadius+'px');b.push('-moz-border-radius:'+a.borderRadius+'px');b.push('-webkit-border-radius:'+a.borderRadius+'px');b.push('-o-border-radius:'+a.borderRadius+'px')}var d=a.textStyle;if(d){d.color&&b.push('color:'+d.color);d.decoration&&b.push('text-decoration:'+d.decoration);d.align&&b.push('text-align:'+d.align);d.fontFamily&&b.push('font-family:'+d.fontFamily);d.fontSize&&b.push('font-size:'+d.fontSize+'px');d.fontSize&&b.push('line-height:'+Math.round(d.fontSize*3/2)+'px');d.fontStyle&&b.push('font-style:'+d.fontStyle);d.fontWeight&&b.push('font-weight:'+d.fontWeight)}var e=a.padding;if(e!=null){e=this.reformCssArray(e);b.push('padding:'+e[0]+'px '+e[1]+'px '+e[2]+'px '+e[3]+'px')}b=b.join(';')+';';return b},__hide:function(){this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(this._tDom){this._tDom.style.display='none'}var a=false;if(!this._axisLineShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);a=true}if(!this._axisShadowShape.invisible){this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);a=true}if(!this._axisCrossShape.invisible){this._axisCrossShape.invisible=true;this.zr.modShape(this._axisCrossShape.id);a=true}if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2}a&&this.zr.refreshNextFrame();this.showing=false},_show:function(a,x,y,b){var c=this._tDom.offsetHeight;var d=this._tDom.offsetWidth;if(a){if(typeof a==='function'){a=a([x,y])}if(a instanceof Array){x=a[0];y=a[1]}}if(x+d>this._zrWidth){x-=d+40}if(y+c>this._zrHeight){y-=c-20}if(y<20){y=0}this._tDom.style.cssText=this._gCssText+this._defaultCssText+(b?b:'')+'left:'+x+'px;top:'+y+'px;';if(c<10||d<10){setTimeout(this._refixed,20)}this.showing=true},__refixed:function(){if(this._tDom){var a='';var b=this._tDom.offsetHeight;var c=this._tDom.offsetWidth;if(this._tDom.offsetLeft+c>this._zrWidth){a+='left:'+(this._zrWidth-c-20)+'px;'}if(this._tDom.offsetTop+b>this._zrHeight){a+='top:'+(this._zrHeight-b-10)+'px;'}if(a!==''){this._tDom.style.cssText+=a}}},__tryShow:function(){var a;var b;if(!this._curTarget){this._findPolarTrigger()||this._findAxisTrigger()}else{if(this._curTarget._type==='island'&&this.option.tooltip.show){this._showItemTrigger();return}var c=C.get(this._curTarget,'series');var d=C.get(this._curTarget,'data');a=this.deepQuery([d,c,this.option],'tooltip.show');if(c==null||d==null||!a){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}else{b=this.deepQuery([d,c,this.option],'tooltip.trigger');b==='axis'?this._showAxisTrigger(c.xAxisIndex,c.yAxisIndex,C.get(this._curTarget,'dataIndex')):this._showItemTrigger()}}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var a=this.option.series;var b;var c;for(var i=0,l=a.length;i<l;i++){if(this.deepQuery([a[i],this.option],'tooltip.trigger')==='axis'){b=a[i].xAxisIndex||0;c=a[i].yAxisIndex||0;if(this.component.xAxis.getAxis(b)&&this.component.xAxis.getAxis(b).type===B.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(b,c,this._getNearestDataIndex('x',this.component.xAxis.getAxis(b)));return}else if(this.component.yAxis.getAxis(c)&&this.component.yAxis.getAxis(c).type===B.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(b,c,this._getNearestDataIndex('y',this.component.yAxis.getAxis(c)));return}else{this._showAxisTrigger(b,c,-1);return}}}if(this.option.tooltip.axisPointer.type==='cross'){this._showAxisTrigger(-1,-1,-1)}},_findPolarTrigger:function(){if(!this.component.polar){return false}var x=E.getX(this._event);var y=E.getY(this._event);var a=this.component.polar.getNearestIndex([x,y]);var b;if(a){b=a.valueIndex;a=a.polarIndex}else{a=-1}if(a!=-1){return this._showPolarTrigger(a,b)}return false},_getNearestDataIndex:function(a,b){var c=-1;var x=E.getX(this._event);var y=E.getY(this._event);if(a==='x'){var d;var e;var f=this.component.grid.getXend();var g=b.getCoordByIndex(c);while(g<f){e=g;if(g<=x){d=g}else{break}g=b.getCoordByIndex(++c)}if(c<=0){c=0}else if(x-d<=e-x){c-=1}else{if(b.getNameByIndex(c)==null){c-=1}}return c}else{var h;var i;var j=this.component.grid.getY();var g=b.getCoordByIndex(c);while(g>j){h=g;if(g>=y){i=g}else{break}g=b.getCoordByIndex(++c)}if(c<=0){c=0}else if(y-h>=i-y){c-=1}else{if(b.getNameByIndex(c)==null){c-=1}}return c}return-1},_showAxisTrigger:function(a,b,c){!this._event.connectTrigger&&this.messageCenter.dispatch(B.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if(this.component.xAxis==null||this.component.yAxis==null||a==null||b==null){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var d=this.option.series;var e=[];var f=[];var g;var h;var j;var k;var m='';if(this.option.tooltip.trigger==='axis'){if(!this.option.tooltip.show){return}h=this.option.tooltip.formatter;j=this.option.tooltip.position}var n=a!=-1&&this.component.xAxis.getAxis(a).type===B.COMPONENT_TYPE_AXIS_CATEGORY?'xAxis':b!=-1&&this.component.yAxis.getAxis(b).type===B.COMPONENT_TYPE_AXIS_CATEGORY?'yAxis':false;var x;var y;if(n){var o=n=='xAxis'?a:b;g=this.component[n].getAxis(o);for(var i=0,l=d.length;i<l;i++){if(!this._isSelected(d[i].name)){continue}if(d[i][n+'Index']===o&&this.deepQuery([d[i],this.option],'tooltip.trigger')==='axis'){k=this.query(d[i],'tooltip.showContent')||k;h=this.query(d[i],'tooltip.formatter')||h;j=this.query(d[i],'tooltip.position')||j;m+=this._style(this.query(d[i],'tooltip'));if(d[i].stack!=null&&n=='xAxis'){e.unshift(d[i]);f.unshift(i)}else{e.push(d[i]);f.push(i)}}}this.messageCenter.dispatch(B.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:f,dataIndex:c},this.myChart);var p;if(n=='xAxis'){x=this.subPixelOptimize(g.getCoordByIndex(c),this._axisLineWidth);y=E.getY(this._event);p=[x,this.component.grid.getY(),x,this.component.grid.getYend()]}else{x=E.getX(this._event);y=this.subPixelOptimize(g.getCoordByIndex(c),this._axisLineWidth);p=[this.component.grid.getX(),y,this.component.grid.getXend(),y]}this._styleAxisPointer(e,p[0],p[1],p[2],p[3],g.getGap(),x,y)}else{x=E.getX(this._event);y=E.getY(this._event);this._styleAxisPointer(d,this.component.grid.getX(),y,this.component.grid.getXend(),y,0,x,y);if(c>=0){this._showItemTrigger(true)}else{clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._tDom.style.display='none'}}if(e.length>0){this._lastItemTriggerId=-1;if(this._lastDataIndex!=c||this._lastSeriesIndex!=f[0]){this._lastDataIndex=c;this._lastSeriesIndex=f[0];var q;var r;if(typeof h==='function'){var s=[];for(var i=0,l=e.length;i<l;i++){q=e[i].data[c];r=this.getDataFromOption(q,'-');s.push({seriesIndex:f[i],seriesName:e[i].name||'',series:e[i],dataIndex:c,data:q,name:g.getNameByIndex(c),value:r,0:e[i].name||'',1:g.getNameByIndex(c),2:r,3:q})}this._curTicket='axis:'+c;this._tDom.innerHTML=h.call(this.myChart,s,this._curTicket,this._setContent)}else if(typeof h==='string'){this._curTicket=NaN;h=h.replace('{a}','{a0}').replace('{b}','{b0}').replace('{c}','{c0}');for(var i=0,l=e.length;i<l;i++){h=h.replace('{a'+i+'}',this._encodeHTML(e[i].name||''));h=h.replace('{b'+i+'}',this._encodeHTML(g.getNameByIndex(c)));q=e[i].data[c];q=this.getDataFromOption(q,'-');h=h.replace('{c'+i+'}',q instanceof Array?q:this.numAddCommas(q))}this._tDom.innerHTML=h}else{this._curTicket=NaN;h=this._encodeHTML(g.getNameByIndex(c));for(var i=0,l=e.length;i<l;i++){h+='<br/>'+this._encodeHTML(e[i].name||'')+' : ';q=e[i].data[c];q=this.getDataFromOption(q,'-');h+=q instanceof Array?q:this.numAddCommas(q)}this._tDom.innerHTML=h}}if(k===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+'px';this._tDom.style.top=this._zrHeight/2+'px';this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(j,x+10,y+10,m)}},_showPolarTrigger:function(a,b){if(this.component.polar==null||a==null||b==null||b<0){return false}var c=this.option.series;var d=[];var e=[];var f;var g;var h;var m='';if(this.option.tooltip.trigger==='axis'){if(!this.option.tooltip.show){return false}f=this.option.tooltip.formatter;g=this.option.tooltip.position}var n=this.option.polar[a].indicator[b].text;for(var i=0,l=c.length;i<l;i++){if(!this._isSelected(c[i].name)){continue}if(c[i].polarIndex===a&&this.deepQuery([c[i],this.option],'tooltip.trigger')==='axis'){h=this.query(c[i],'tooltip.showContent')||h;f=this.query(c[i],'tooltip.formatter')||f;g=this.query(c[i],'tooltip.position')||g;m+=this._style(this.query(c[i],'tooltip'));d.push(c[i]);e.push(i)}}if(d.length>0){var o;var p;var q;var r=[];for(var i=0,l=d.length;i<l;i++){o=d[i].data;for(var j=0,k=o.length;j<k;j++){p=o[j];if(!this._isSelected(p.name)){continue}p=p!=null?p:{name:'',value:{dataIndex:'-'}};q=this.getDataFromOption(p.value[b]);r.push({seriesIndex:e[i],seriesName:d[i].name||'',series:d[i],dataIndex:b,data:p,name:p.name,indicator:n,value:q,0:d[i].name||'',1:p.name,2:q,3:n})}}if(r.length<=0){return}this._lastItemTriggerId=-1;if(this._lastDataIndex!=b||this._lastSeriesIndex!=e[0]){this._lastDataIndex=b;this._lastSeriesIndex=e[0];if(typeof f==='function'){this._curTicket='axis:'+b;this._tDom.innerHTML=f.call(this.myChart,r,this._curTicket,this._setContent)}else if(typeof f==='string'){f=f.replace('{a}','{a0}').replace('{b}','{b0}').replace('{c}','{c0}').replace('{d}','{d0}');for(var i=0,l=r.length;i<l;i++){f=f.replace('{a'+i+'}',this._encodeHTML(r[i].seriesName));f=f.replace('{b'+i+'}',this._encodeHTML(r[i].name));f=f.replace('{c'+i+'}',this.numAddCommas(r[i].value));f=f.replace('{d'+i+'}',this._encodeHTML(r[i].indicator))}this._tDom.innerHTML=f}else{f=this._encodeHTML(r[0].name)+'<br/>'+this._encodeHTML(r[0].indicator)+' : '+this.numAddCommas(r[0].value);for(var i=1,l=r.length;i<l;i++){f+='<br/>'+this._encodeHTML(r[i].name)+'<br/>';f+=this._encodeHTML(r[i].indicator)+' : '+this.numAddCommas(r[i].value)}this._tDom.innerHTML=f}}if(h===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+'px';this._tDom.style.top=this._zrHeight/2+'px';this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(g,E.getX(this._event),E.getY(this._event),m);return true}},_showItemTrigger:function(a){if(!this._curTarget){return}var b=C.get(this._curTarget,'series');var c=C.get(this._curTarget,'seriesIndex');var d=C.get(this._curTarget,'data');var e=C.get(this._curTarget,'dataIndex');var f=C.get(this._curTarget,'name');var g=C.get(this._curTarget,'value');var h=C.get(this._curTarget,'special');var i=C.get(this._curTarget,'special2');var j=[d,b,this.option];var k;var l;var m;var n='';if(this._curTarget._type!='island'){var o=a?'axis':'item';if(this.option.tooltip.trigger===o){k=this.option.tooltip.formatter;l=this.option.tooltip.position}if(this.query(b,'tooltip.trigger')===o){m=this.query(b,'tooltip.showContent')||m;k=this.query(b,'tooltip.formatter')||k;l=this.query(b,'tooltip.position')||l;n+=this._style(this.query(b,'tooltip'))}m=this.query(d,'tooltip.showContent')||m;k=this.query(d,'tooltip.formatter')||k;l=this.query(d,'tooltip.position')||l;n+=this._style(this.query(d,'tooltip'))}else{this._lastItemTriggerId=NaN;m=this.deepQuery(j,'tooltip.showContent');k=this.deepQuery(j,'tooltip.islandFormatter');l=this.deepQuery(j,'tooltip.islandPosition')}this._lastDataIndex=-1;this._lastSeriesIndex=-1;if(this._lastItemTriggerId!==this._curTarget.id){this._lastItemTriggerId=this._curTarget.id;if(typeof k==='function'){this._curTicket=(b.name||'')+':'+e;this._tDom.innerHTML=k.call(this.myChart,{seriesIndex:c,seriesName:b.name||'',series:b,dataIndex:e,data:d,name:f,value:g,percent:h,indicator:h,value2:i,indicator2:i,0:b.name||'',1:f,2:g,3:h,4:i,5:d,6:c,7:e},this._curTicket,this._setContent)}else if(typeof k==='string'){this._curTicket=NaN;k=k.replace('{a}','{a0}').replace('{b}','{b0}').replace('{c}','{c0}');k=k.replace('{a0}',this._encodeHTML(b.name||'')).replace('{b0}',this._encodeHTML(f)).replace('{c0}',g instanceof Array?g:this.numAddCommas(g));k=k.replace('{d}','{d0}').replace('{d0}',h||'');k=k.replace('{e}','{e0}').replace('{e0}',C.get(this._curTarget,'special2')||'');this._tDom.innerHTML=k}else{this._curTicket=NaN;if(b.type===B.CHART_TYPE_RADAR&&h){this._tDom.innerHTML=this._itemFormatter.radar.call(this,b,f,g,h)}else if(b.type===B.CHART_TYPE_EVENTRIVER){this._tDom.innerHTML=this._itemFormatter.eventRiver.call(this,b,f,g,d)}else{this._tDom.innerHTML=''+(b.name!=null?this._encodeHTML(b.name)+'<br/>':'')+(f===''?'':this._encodeHTML(f)+' : ')+(g instanceof Array?g:this.numAddCommas(g))}}}var x=E.getX(this._event);var y=E.getY(this._event);if(this.deepQuery(j,'tooltip.axisPointer.show')&&this.component.grid){this._styleAxisPointer([b],this.component.grid.getX(),y,this.component.grid.getXend(),y,0,x,y)}else{this._hide()}if(m===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+'px';this._tDom.style.top=this._zrHeight/2+'px';this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(l,x+20,y-20,n)},_itemFormatter:{radar:function(a,b,c,d){var e='';e+=this._encodeHTML(b===''?a.name||'':b);e+=e===''?'':'<br />';for(var i=0;i<d.length;i++){e+=this._encodeHTML(d[i].text)+' : '+this.numAddCommas(c[i])+'<br />'}return e},chord:function(a,b,c,d,e){if(e==null){return this._encodeHTML(b)+' ('+this.numAddCommas(c)+')'}else{var f=this._encodeHTML(b);var g=this._encodeHTML(d);return''+(a.name!=null?this._encodeHTML(a.name)+'<br/>':'')+f+' -> '+g+' ('+this.numAddCommas(c)+')'+'<br />'+g+' -> '+f+' ('+this.numAddCommas(e)+')'}},eventRiver:function(a,b,c,d){var e='';e+=this._encodeHTML(a.name===''?'':a.name+' : ');e+=this._encodeHTML(b);e+=e===''?'':'<br />';d=d.evolution;for(var i=0,l=d.length;i<l;i++){e+='<div style="padding-top:5px;">';if(!d[i].detail){continue}if(d[i].detail.img){e+='<img src="'+d[i].detail.img+'" style="float:left;width:40px;height:40px;">'}e+='<div style="margin-left:45px;">'+d[i].time+'<br/>';e+='<a href="'+d[i].detail.link+'" target="_blank">';e+=d[i].detail.text+'</a></div>';e+='</div>'}return e}},_styleAxisPointer:function(a,b,c,d,e,f,x,y){if(a.length>0){var g;var h;var j=this.option.tooltip.axisPointer;var k=j.type;var m={line:{},cross:{},shadow:{}};for(var n in m){m[n].color=j[n+'Style'].color;m[n].width=j[n+'Style'].width;m[n].type=j[n+'Style'].type}for(var i=0,l=a.length;i<l;i++){g=a[i];h=this.query(g,'tooltip.axisPointer.type');k=h||k;if(h){m[h].color=this.query(g,'tooltip.axisPointer.'+h+'Style.color')||m[h].color;m[h].width=this.query(g,'tooltip.axisPointer.'+h+'Style.width')||m[h].width;m[h].type=this.query(g,'tooltip.axisPointer.'+h+'Style.type')||m[h].type}}if(k==='line'){var o=m.line.width;var p=b==d;this._axisLineShape.style={xStart:p?this.subPixelOptimize(b,o):b,yStart:p?c:this.subPixelOptimize(c,o),xEnd:p?this.subPixelOptimize(d,o):d,yEnd:p?e:this.subPixelOptimize(e,o),strokeColor:m.line.color,lineWidth:o,lineType:m.line.type};this._axisLineShape.invisible=false;this.zr.modShape(this._axisLineShape.id)}else if(k==='cross'){var q=m.cross.width;this._axisCrossShape.style={brushType:'stroke',rect:this.component.grid.getArea(),x:this.subPixelOptimize(x,q),y:this.subPixelOptimize(y,q),text:('( '+this.component.xAxis.getAxis(0).getValueFromCoord(x)+' , '+this.component.yAxis.getAxis(0).getValueFromCoord(y)+' )').replace('  , ',' ').replace(' ,  ',' '),textPosition:'specific',strokeColor:m.cross.color,lineWidth:q,lineType:m.cross.type};if(this.component.grid.getXend()-x>100){this._axisCrossShape.style.textAlign='left';this._axisCrossShape.style.textX=x+10}else{this._axisCrossShape.style.textAlign='right';this._axisCrossShape.style.textX=x-10}if(y-this.component.grid.getY()>50){this._axisCrossShape.style.textBaseline='bottom';this._axisCrossShape.style.textY=y-10}else{this._axisCrossShape.style.textBaseline='top';this._axisCrossShape.style.textY=y+10}this._axisCrossShape.invisible=false;this.zr.modShape(this._axisCrossShape.id)}else if(k==='shadow'){if(m.shadow.width==null||m.shadow.width==='auto'||isNaN(m.shadow.width)){m.shadow.width=f}if(b===d){if(Math.abs(this.component.grid.getX()-b)<2){m.shadow.width/=2;b=d=d+m.shadow.width/2}else if(Math.abs(this.component.grid.getXend()-b)<2){m.shadow.width/=2;b=d=d-m.shadow.width/2}}else if(c===e){if(Math.abs(this.component.grid.getY()-c)<2){m.shadow.width/=2;c=e=e+m.shadow.width/2}else if(Math.abs(this.component.grid.getYend()-c)<2){m.shadow.width/=2;c=e=e-m.shadow.width/2}}this._axisShadowShape.style={xStart:b,yStart:c,xEnd:d,yEnd:e,strokeColor:m.shadow.color,lineWidth:m.shadow.width};this._axisShadowShape.invisible=false;this.zr.modShape(this._axisShadowShape.id)}this.zr.refreshNextFrame()}},__onmousemove:function(a){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);if(this._mousein&&this._enterable){return}var b=a.target;var c=E.getX(a.event);var d=E.getY(a.event);if(!b){this._curTarget=false;this._event=a.event;this._event.zrenderX=c;this._event.zrenderY=d;if(this._needAxisTrigger&&this.component.grid&&F.isInside(A,this.component.grid.getArea(),c,d)){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else if(this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([c,d])!=-1){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{!this._event.connectTrigger&&this.messageCenter.dispatch(B.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}}else{this._curTarget=b;this._event=a.event;this._event.zrenderX=c;this._event.zrenderY=d;var e;if(this._needAxisTrigger&&this.component.polar&&(e=this.component.polar.isInside([c,d]))!=-1){var f=this.option.series;for(var i=0,l=f.length;i<l;i++){if(f[i].polarIndex===e&&this.deepQuery([f[i],this.option],'tooltip.trigger')==='axis'){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(a,b){if(!this._tDom){return}if(a===this._curTicket){this._tDom.innerHTML=b}setTimeout(this._refixed,20)},ontooltipHover:function(a,b){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=a.dataIndex){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this.shapeList.length=2}for(var i=0,l=b.length;i<l;i++){b[i].zlevel=this.getZlevelBase();b[i].z=this.getZBase();b[i].style=I.prototype.getHighlightStyle(b[i].style,b[i].highlightStyle);b[i].draggable=false;b[i].hoverable=false;b[i].clickable=false;b[i].ondragend=null;b[i].ondragover=null;b[i].ondrop=null;this.shapeList.push(b[i]);this.zr.addShape(b[i])}this._lastTipShape={dataIndex:a.dataIndex,tipShape:b}}},ondragend:function(){this._hide()},onlegendSelected:function(a){this._selectedMap=a.selected},_setSelectedMap:function(){if(this.component.legend){this._selectedMap=H.clone(this.component.legend.getSelectedMap())}else{this._selectedMap={}}},_isSelected:function(a){if(this._selectedMap[a]!=null){return this._selectedMap[a]}else{return true}},showTip:function(a){if(!a){return}var b;var c=this.option.series;if(a.seriesIndex!=null){b=a.seriesIndex}else{var d=a.seriesName;for(var i=0,l=c.length;i<l;i++){if(c[i].name===d){b=i;break}}}var e=c[b];if(e==null){return}var f=this.myChart.chart[e.type];var g=this.deepQuery([e,this.option],'tooltip.trigger')==='axis';if(!f){return}if(g){var h=a.dataIndex;switch(f.type){case B.CHART_TYPE_LINE:case B.CHART_TYPE_BAR:case B.CHART_TYPE_K:case B.CHART_TYPE_RADAR:if(this.component.polar==null||e.data[0].value.length<=h){return}var j=e.polarIndex||0;var k=this.component.polar.getVector(j,h,'max');this._event={zrenderX:k[0],zrenderY:k[1]};this._showPolarTrigger(j,h);break}}else{var m=f.shapeList;var x;var y;switch(f.type){case B.CHART_TYPE_LINE:case B.CHART_TYPE_BAR:case B.CHART_TYPE_K:case B.CHART_TYPE_TREEMAP:case B.CHART_TYPE_SCATTER:var h=a.dataIndex;for(var i=0,l=m.length;i<l;i++){if(m[i]._mark==null&&C.get(m[i],'seriesIndex')==b&&C.get(m[i],'dataIndex')==h){this._curTarget=m[i];x=m[i].style.x;y=f.type!=B.CHART_TYPE_K?m[i].style.y:m[i].style.y[0];break}}break;case B.CHART_TYPE_RADAR:var h=a.dataIndex;for(var i=0,l=m.length;i<l;i++){if(m[i].type==='polygon'&&C.get(m[i],'seriesIndex')==b&&C.get(m[i],'dataIndex')==h){this._curTarget=m[i];var k=this.component.polar.getCenter(e.polarIndex||0);x=k[0];y=k[1];break}}break;case B.CHART_TYPE_PIE:var n=a.name;for(var i=0,l=m.length;i<l;i++){if(m[i].type==='sector'&&C.get(m[i],'seriesIndex')==b&&C.get(m[i],'name')==n){this._curTarget=m[i];var o=this._curTarget.style;var p=(o.startAngle+o.endAngle)/2*Math.PI/180;x=this._curTarget.style.x+Math.cos(p)*o.r/1.5;y=this._curTarget.style.y-Math.sin(p)*o.r/1.5;break}}break;case B.CHART_TYPE_MAP:var n=a.name;var q=e.mapType;for(var i=0,l=m.length;i<l;i++){if(m[i].type==='text'&&m[i]._mapType===q&&m[i].style._name===n){this._curTarget=m[i];x=this._curTarget.style.x+this._curTarget.position[0];y=this._curTarget.style.y+this._curTarget.position[1];break}}break;case B.CHART_TYPE_CHORD:var n=a.name;for(var i=0,l=m.length;i<l;i++){if(m[i].type==='sector'&&C.get(m[i],'name')==n){this._curTarget=m[i];var o=this._curTarget.style;var p=(o.startAngle+o.endAngle)/2*Math.PI/180;x=this._curTarget.style.x+Math.cos(p)*(o.r-2);y=this._curTarget.style.y-Math.sin(p)*(o.r-2);this.zr.trigger(D.EVENT.MOUSEMOVE,{zrenderX:x,zrenderY:y});return}}break;case B.CHART_TYPE_FORCE:var n=a.name;for(var i=0,l=m.length;i<l;i++){if(m[i].type==='circle'&&C.get(m[i],'name')==n){this._curTarget=m[i];x=this._curTarget.position[0];y=this._curTarget.position[1];break}}break}if(x!=null&&y!=null){this._event={zrenderX:x,zrenderY:y};this.zr.addHoverShape(this._curTarget);this.zr.refreshHover();this._showItemTrigger()}}},hideTip:function(){this._hide()},refresh:function(a){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}this._lastTipShape=false;this.shapeList.length=2;this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(a){this.option=a;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=H.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this._needAxisTrigger=false;if(this.option.tooltip.trigger==='axis'){this._needAxisTrigger=true}var b=this.option.series;for(var i=0,l=b.length;i<l;i++){if(this.query(b[i],'tooltip.trigger')==='axis'){this._needAxisTrigger=true;break}}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width;this._enterable=this.option.tooltip.enterable}if(this.showing){var c=this;setTimeout(function(){c.zr.trigger(D.EVENT.MOUSEMOVE,c.zr.handler._event)},50)}},onbeforDispose:function(){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(D.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(D.EVENT.GLOBALOUT,this._onglobalout);if(this.hasAppend&&!!this.dom.firstChild){this.dom.firstChild.removeChild(this._tDom)}this._tDom=null},_encodeHTML:function(a){return String(a).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;')}};H.inherits(Tooltip,u);t('../component').define('tooltip',Tooltip);return Tooltip});define('echarts/component/legend',['require','./base','zrender/shape/Text','zrender/shape/Rectangle','zrender/shape/Sector','../util/shape/Icon','../util/shape/Candle','../config','zrender/tool/util','zrender/tool/area','../component'],function(t){var u=t('./base');var v=t('zrender/shape/Text');var w=t('zrender/shape/Rectangle');var z=t('zrender/shape/Sector');var A=t('../util/shape/Icon');var B=t('../util/shape/Candle');var C=t('../config');C.legend={zlevel:0,z:4,show:true,orient:'horizontal',x:'center',y:'top',backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:'#333'},selectedMode:true};var D=t('zrender/tool/util');var E=t('zrender/tool/area');function Legend(b,c,d,e,f){if(!this.query(e,'legend.data')){console.error('option.legend.data has not been defined.');return}u.call(this,b,c,d,e,f);var g=this;g._legendSelected=function(a){g.__legendSelected(a)};g._dispatchHoverLink=function(a){return g.__dispatchHoverLink(a)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this._hasDataMap={};this.refresh(e)}Legend.prototype={type:C.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(!this.legendOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}},_buildItem:function(){var a=this.legendOption.data;var b=a.length;var c;var d;var e;var f;var g=this.legendOption.textStyle;var h;var j;var k;var l=this.zr.getWidth()-50;var m=this.zr.getHeight();var n=this._itemGroupLocation.x;var o=this._itemGroupLocation.y;var p=this.legendOption.itemWidth;var q=this.legendOption.itemHeight;var r=this.legendOption.itemGap;var s;if(this.legendOption.orient==='vertical'&&this.legendOption.x==='right'){n=this._itemGroupLocation.x+this._itemGroupLocation.width-p}for(var i=0;i<b;i++){h=D.merge(a[i].textStyle||{},g);j=this.getFont(h);c=this._getName(a[i]);k=this._getFormatterName(c);if(c===''){if(this.legendOption.orient==='horizontal'){n=this._itemGroupLocation.x;o+=q+r}else{this.legendOption.x==='right'?n-=this._itemGroupLocation.maxWidth+r:n+=this._itemGroupLocation.maxWidth+r;o=this._itemGroupLocation.y}continue}d=a[i].icon||this._getSomethingByName(c).type;s=this.getColor(c);if(this.legendOption.orient==='horizontal'){if(l-n<200&&p+5+E.getTextWidth(k,j)+(i===b-1||a[i+1]===''?0:r)>=l-n){n=this._itemGroupLocation.x;o+=q+r}}else{if(m-o<200&&q+(i===b-1||a[i+1]===''?0:r)>=m-o){this.legendOption.x==='right'?n-=this._itemGroupLocation.maxWidth+r:n+=this._itemGroupLocation.maxWidth+r;o=this._itemGroupLocation.y}}e=this._getItemShapeByType(n,o,p,q,this._selectedMap[c]&&this._hasDataMap[c]?s:'#ccc',d,s);e._name=c;e=new A(e);f={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:n+p+5,y:o+q/2,color:this._selectedMap[c]?h.color==='auto'?s:h.color:'#ccc',text:k,textFont:j,textBaseline:'middle'},highlightStyle:{color:s,brushType:'fill'},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode};if(this.legendOption.orient==='vertical'&&this.legendOption.x==='right'){f.style.x-=p+10;f.style.textAlign='right'}f._name=c;f=new v(f);if(this.legendOption.selectedMode){e.onclick=f.onclick=this._legendSelected;e.onmouseover=f.onmouseover=this._dispatchHoverLink;e.hoverConnect=f.id;f.hoverConnect=e.id}this.shapeList.push(e);this.shapeList.push(f);if(this.legendOption.orient==='horizontal'){n+=p+5+E.getTextWidth(k,j)+r}else{o+=q+r}}if(this.legendOption.orient==='horizontal'&&this.legendOption.x==='center'&&o!=this._itemGroupLocation.y){this._mLineOptimize()}},_getName:function(a){return typeof a.name!='undefined'?a.name:a},_getFormatterName:function(a){var b=this.legendOption.formatter;var c;if(typeof b==='function'){c=b.call(this.myChart,a)}else if(typeof b==='string'){c=b.replace('{name}',a)}else{c=a}return c},_getFormatterNameFromData:function(a){var b=this._getName(a);return this._getFormatterName(b)},_mLineOptimize:function(){var a=[];var b=this._itemGroupLocation.x;for(var i=2,l=this.shapeList.length;i<l;i++){if(this.shapeList[i].style.x===b){a.push((this._itemGroupLocation.width-(this.shapeList[i-1].style.x+E.getTextWidth(this.shapeList[i-1].style.text,this.shapeList[i-1].style.textFont)-b))/2)}else if(i===l-1){a.push((this._itemGroupLocation.width-(this.shapeList[i].style.x+E.getTextWidth(this.shapeList[i].style.text,this.shapeList[i].style.textFont)-b))/2)}}var c=-1;for(var i=1,l=this.shapeList.length;i<l;i++){if(this.shapeList[i].style.x===b){c++}if(a[c]===0){continue}else{this.shapeList[i].style.x+=a[c]}}},_buildBackground:function(){var a=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new w({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:this.legendOption.borderWidth===0?'fill':'both',color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var a=this.legendOption.data;var b=a.length;var c=this.legendOption.itemGap;var d=this.legendOption.itemWidth+5;var e=this.legendOption.itemHeight;var f=this.legendOption.textStyle;var g=this.getFont(f);var h=0;var j=0;var k=this.reformCssArray(this.legendOption.padding);var l=this.zr.getWidth()-k[1]-k[3];var m=this.zr.getHeight()-k[0]-k[2];var n=0;var o=0;if(this.legendOption.orient==='horizontal'){j=e;for(var i=0;i<b;i++){if(this._getName(a[i])===''){n-=c;h=Math.max(h,n);j+=e+c;n=0;continue}var p=E.getTextWidth(this._getFormatterNameFromData(a[i]),a[i].textStyle?this.getFont(D.merge(a[i].textStyle||{},f)):g);if(n+d+p+c>l){n-=c;h=Math.max(h,n);j+=e+c;n=0}else{n+=d+p+c;h=Math.max(h,n-c)}}}else{for(var i=0;i<b;i++){o=Math.max(o,E.getTextWidth(this._getFormatterNameFromData(a[i]),a[i].textStyle?this.getFont(D.merge(a[i].textStyle||{},f)):g))}o+=d;h=o;for(var i=0;i<b;i++){if(this._getName(a[i])===''){h+=o+c;n-=c;j=Math.max(j,n);n=0;continue}if(n+e+c>m){h+=o+c;n-=c;j=Math.max(j,n);n=0}else{n+=e+c;j=Math.max(j,n-c)}}}l=this.zr.getWidth();m=this.zr.getHeight();var x;switch(this.legendOption.x){case'center':x=Math.floor((l-h)/2);break;case'left':x=k[3]+this.legendOption.borderWidth;break;case'right':x=l-h-k[1]-k[3]-this.legendOption.borderWidth*2;break;default:x=this.parsePercent(this.legendOption.x,l);break}var y;switch(this.legendOption.y){case'top':y=k[0]+this.legendOption.borderWidth;break;case'bottom':y=m-j-k[0]-k[2]-this.legendOption.borderWidth*2;break;case'center':y=Math.floor((m-j)/2);break;default:y=this.parsePercent(this.legendOption.y,m);break}return{x:x,y:y,width:h,height:j,maxWidth:o}},_getSomethingByName:function(a){var b=this.option.series;var c;for(var i=0,l=b.length;i<l;i++){if(b[i].name===a){return{type:b[i].type,series:b[i],seriesIndex:i,data:null,dataIndex:-1}}if(b[i].type===C.CHART_TYPE_PIE||b[i].type===C.CHART_TYPE_RADAR||b[i].type===C.CHART_TYPE_CHORD||b[i].type===C.CHART_TYPE_FORCE||b[i].type===C.CHART_TYPE_FUNNEL||b[i].type===C.CHART_TYPE_TREEMAP){c=b[i].categories||b[i].data||b[i].nodes;for(var j=0,k=c.length;j<k;j++){if(c[j].name===a){return{type:b[i].type,series:b[i],seriesIndex:i,data:c[j],dataIndex:j}}}}}return{type:'bar',series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(x,y,a,b,c,d,e){var f=c==='#ccc'?e:c;var g={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:'legendicon'+d,x:x,y:y,width:a,height:b,color:c,strokeColor:c,lineWidth:2},highlightStyle:{color:f,strokeColor:f,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var h;if(d.match('image')){var h=d.replace(new RegExp('^image:\\/\\/'),'');d='image'}switch(d){case'line':g.style.brushType='stroke';g.highlightStyle.lineWidth=3;break;case'radar':case'venn':case'tree':case'treemap':case'scatter':g.highlightStyle.lineWidth=3;break;case'k':g.style.brushType='both';g.highlightStyle.lineWidth=3;g.highlightStyle.color=g.style.color=this.deepQuery([this.ecTheme,C],'k.itemStyle.normal.color')||'#fff';g.style.strokeColor=c!='#ccc'?this.deepQuery([this.ecTheme,C],'k.itemStyle.normal.lineStyle.color')||'#ff3200':c;break;case'image':g.style.iconType='image';g.style.image=h;if(c==='#ccc'){g.style.opacity=0.5}break}return g},__legendSelected:function(a){var b=a.target._name;if(this.legendOption.selectedMode==='single'){for(var k in this._selectedMap){this._selectedMap[k]=false}}this._selectedMap[b]=!this._selectedMap[b];this.messageCenter.dispatch(C.EVENT.LEGEND_SELECTED,a.event,{selected:this._selectedMap,target:b},this.myChart)},__dispatchHoverLink:function(a){this.messageCenter.dispatch(C.EVENT.LEGEND_HOVERLINK,a.event,{target:a.target._name},this.myChart);return},refresh:function(a){if(a){this.option=a||this.option;this.option.legend=this.reformOption(this.option.legend);this.legendOption=this.option.legend;var b=this.legendOption.data||[];var c;var d;var e;var f;if(this.legendOption.selected){for(var k in this.legendOption.selected){this._selectedMap[k]=typeof this._selectedMap[k]!='undefined'?this._selectedMap[k]:this.legendOption.selected[k]}}for(var i=0,dataLength=b.length;i<dataLength;i++){c=this._getName(b[i]);if(c===''){continue}d=this._getSomethingByName(c);if(!d.series){this._hasDataMap[c]=false}else{this._hasDataMap[c]=true;if(d.data&&(d.type===C.CHART_TYPE_PIE||d.type===C.CHART_TYPE_FORCE||d.type===C.CHART_TYPE_FUNNEL)){f=[d.data,d.series]}else{f=[d.series]}e=this.getItemStyleColor(this.deepQuery(f,'itemStyle.normal.color'),d.seriesIndex,d.dataIndex,d.data);if(e&&d.type!=C.CHART_TYPE_K){this.setColor(c,e)}this._selectedMap[c]=this._selectedMap[c]!=null?this._selectedMap[c]:true}}}this.clear();this._buildShape()},getRelatedAmount:function(a){var b=0;var c=this.option.series;var d;for(var i=0,l=c.length;i<l;i++){if(c[i].name===a){b++}if(c[i].type===C.CHART_TYPE_PIE||c[i].type===C.CHART_TYPE_RADAR||c[i].type===C.CHART_TYPE_CHORD||c[i].type===C.CHART_TYPE_FORCE||c[i].type===C.CHART_TYPE_FUNNEL){d=c[i].type!=C.CHART_TYPE_FORCE?c[i].data:c[i].categories;for(var j=0,k=d.length;j<k;j++){if(d[j].name===a&&d[j].value!='-'){b++}}}}return b},setColor:function(a,b){this._colorMap[a]=b},getColor:function(a){if(!this._colorMap[a]){this._colorMap[a]=this.zr.getColor(this._colorIndex++)}return this._colorMap[a]},hasColor:function(a){return this._colorMap[a]?this._colorMap[a]:false},add:function(a,b){var c=this.legendOption.data;for(var i=0,dataLength=c.length;i<dataLength;i++){if(this._getName(c[i])===a){return}}this.legendOption.data.push(a);this.setColor(a,b);this._selectedMap[a]=true;this._hasDataMap[a]=true},del:function(a){var b=this.legendOption.data;for(var i=0,dataLength=b.length;i<dataLength;i++){if(this._getName(b[i])===a){return this.legendOption.data.splice(i,1)}}},getItemShape:function(a){if(a==null){return}var b;for(var i=0,l=this.shapeList.length;i<l;i++){b=this.shapeList[i];if(b._name===a&&b.type!='text'){return b}}},setItemShape:function(a,b){var c;for(var i=0,l=this.shapeList.length;i<l;i++){c=this.shapeList[i];if(c._name===a&&c.type!='text'){if(!this._selectedMap[a]){b.style.color='#ccc';b.style.strokeColor='#ccc'}this.zr.modShape(c.id,b)}}},isSelected:function(a){if(typeof this._selectedMap[a]!='undefined'){return this._selectedMap[a]}else{return true}},getSelectedMap:function(){return this._selectedMap},setSelected:function(a,b){if(this.legendOption.selectedMode==='single'){for(var k in this._selectedMap){this._selectedMap[k]=false}}this._selectedMap[a]=b;this.messageCenter.dispatch(C.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:a},this.myChart)},onlegendSelected:function(a,b){var c=a.selected;for(var d in c){if(this._selectedMap[d]!=c[d]){b.needRefresh=true}this._selectedMap[d]=c[d]}return}};var F={line:function(a,b){var c=b.height/2;a.moveTo(b.x,b.y+c);a.lineTo(b.x+b.width,b.y+c)},pie:function(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;z.prototype.buildPath(a,{x:x+c/2,y:y+d+2,r:d,r0:6,startAngle:45,endAngle:135})},eventRiver:function(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;a.moveTo(x,y+d);a.bezierCurveTo(x+c,y+d,x,y+4,x+c,y+4);a.lineTo(x+c,y);a.bezierCurveTo(x,y,x+c,y+d-4,x,y+d-4);a.lineTo(x,y+d)},k:function(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;B.prototype.buildPath(a,{x:x+c/2,y:[y+1,y+1,y+d-6,y+d],width:c-6})},bar:function(a,b){var x=b.x;var y=b.y+1;var c=b.width;var d=b.height-2;var r=3;a.moveTo(x+r,y);a.lineTo(x+c-r,y);a.quadraticCurveTo(x+c,y,x+c,y+r);a.lineTo(x+c,y+d-r);a.quadraticCurveTo(x+c,y+d,x+c-r,y+d);a.lineTo(x+r,y+d);a.quadraticCurveTo(x,y+d,x,y+d-r);a.lineTo(x,y+r);a.quadraticCurveTo(x,y,x+r,y)},force:function(a,b){A.prototype.iconLibrary.circle(a,b)},radar:function(a,b){var n=6;var x=b.x+b.width/2;var y=b.y+b.height/2;var r=b.height/2;var c=2*Math.PI/n;var d=-Math.PI/2;var e=x+r*Math.cos(d);var f=y+r*Math.sin(d);a.moveTo(e,f);d+=c;for(var i=0,end=n-1;i<end;i++){a.lineTo(x+r*Math.cos(d),y+r*Math.sin(d));d+=c}a.lineTo(e,f)}};F.chord=F.pie;F.map=F.bar;for(var k in F){A.prototype.iconLibrary['legendicon'+k]=F[k]}D.inherits(Legend,u);t('../component').define('legend',Legend);return Legend});define('echarts/util/ecData',[],function(){function pack(a,b,c,d,e,f,g,h){var i;if(typeof d!='undefined'){i=d.value==null?d:d.value}a._echartsData={'_series':b,'_seriesIndex':c,'_data':d,'_dataIndex':e,'_name':f,'_value':i,'_special':g,'_special2':h};return a._echartsData}function get(a,b){var c=a._echartsData;if(!b){return c}switch(b){case'series':case'seriesIndex':case'data':case'dataIndex':case'name':case'value':case'special':case'special2':return c&&c['_'+b]}return null}function set(a,b,c){a._echartsData=a._echartsData||{};switch(b){case'series':case'seriesIndex':case'data':case'dataIndex':case'name':case'value':case'special':case'special2':a._echartsData['_'+b]=c;break}}function clone(a,b){b._echartsData={'_series':a._echartsData._series,'_seriesIndex':a._echartsData._seriesIndex,'_data':a._echartsData._data,'_dataIndex':a._echartsData._dataIndex,'_name':a._echartsData._name,'_value':a._echartsData._value,'_special':a._echartsData._special,'_special2':a._echartsData._special2}}return{pack:pack,set:set,get:get,clone:clone}});define('echarts/chart',[],function(){var c={};var d={};c.define=function(a,b){d[a]=b;return c};c.get=function(a){return d[a]};return c});define('zrender/tool/color',['require','../tool/util'],function(m){var o=m('../tool/util');var p;var q=['#ff9277',' #dddd00',' #ffc877',' #bbe3ff',' #d5ffbb','#bbbbff',' #ddb000',' #b0dd00',' #e2bbff',' #ffbbe3','#ff7777',' #ff9900',' #83dd00',' #77e3ff',' #778fff','#c877ff',' #ff77ab',' #ff6600',' #aa8800',' #77c7ff','#ad77ff',' #ff77ff',' #dd0083',' #777700',' #00aa00','#0088aa',' #8400dd',' #aa0088',' #dd0000',' #772e00'];var t=q;var u='rgba(255,255,0,0.5)';var v=u;var y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;var z={aliceblue:'#f0f8ff',antiquewhite:'#faebd7',aqua:'#0ff',aquamarine:'#7fffd4',azure:'#f0ffff',beige:'#f5f5dc',bisque:'#ffe4c4',black:'#000',blanchedalmond:'#ffebcd',blue:'#00f',blueviolet:'#8a2be2',brown:'#a52a2a',burlywood:'#deb887',cadetblue:'#5f9ea0',chartreuse:'#7fff00',chocolate:'#d2691e',coral:'#ff7f50',cornflowerblue:'#6495ed',cornsilk:'#fff8dc',crimson:'#dc143c',cyan:'#0ff',darkblue:'#00008b',darkcyan:'#008b8b',darkgoldenrod:'#b8860b',darkgray:'#a9a9a9',darkgrey:'#a9a9a9',darkgreen:'#006400',darkkhaki:'#bdb76b',darkmagenta:'#8b008b',darkolivegreen:'#556b2f',darkorange:'#ff8c00',darkorchid:'#9932cc',darkred:'#8b0000',darksalmon:'#e9967a',darkseagreen:'#8fbc8f',darkslateblue:'#483d8b',darkslategray:'#2f4f4f',darkslategrey:'#2f4f4f',darkturquoise:'#00ced1',darkviolet:'#9400d3',deeppink:'#ff1493',deepskyblue:'#00bfff',dimgray:'#696969',dimgrey:'#696969',dodgerblue:'#1e90ff',firebrick:'#b22222',floralwhite:'#fffaf0',forestgreen:'#228b22',fuchsia:'#f0f',gainsboro:'#dcdcdc',ghostwhite:'#f8f8ff',gold:'#ffd700',goldenrod:'#daa520',gray:'#808080',grey:'#808080',green:'#008000',greenyellow:'#adff2f',honeydew:'#f0fff0',hotpink:'#ff69b4',indianred:'#cd5c5c',indigo:'#4b0082',ivory:'#fffff0',khaki:'#f0e68c',lavender:'#e6e6fa',lavenderblush:'#fff0f5',lawngreen:'#7cfc00',lemonchiffon:'#fffacd',lightblue:'#add8e6',lightcoral:'#f08080',lightcyan:'#e0ffff',lightgoldenrodyellow:'#fafad2',lightgray:'#d3d3d3',lightgrey:'#d3d3d3',lightgreen:'#90ee90',lightpink:'#ffb6c1',lightsalmon:'#ffa07a',lightseagreen:'#20b2aa',lightskyblue:'#87cefa',lightslategray:'#789',lightslategrey:'#789',lightsteelblue:'#b0c4de',lightyellow:'#ffffe0',lime:'#0f0',limegreen:'#32cd32',linen:'#faf0e6',magenta:'#f0f',maroon:'#800000',mediumaquamarine:'#66cdaa',mediumblue:'#0000cd',mediumorchid:'#ba55d3',mediumpurple:'#9370d8',mediumseagreen:'#3cb371',mediumslateblue:'#7b68ee',mediumspringgreen:'#00fa9a',mediumturquoise:'#48d1cc',mediumvioletred:'#c71585',midnightblue:'#191970',mintcream:'#f5fffa',mistyrose:'#ffe4e1',moccasin:'#ffe4b5',navajowhite:'#ffdead',navy:'#000080',oldlace:'#fdf5e6',olive:'#808000',olivedrab:'#6b8e23',orange:'#ffa500',orangered:'#ff4500',orchid:'#da70d6',palegoldenrod:'#eee8aa',palegreen:'#98fb98',paleturquoise:'#afeeee',palevioletred:'#d87093',papayawhip:'#ffefd5',peachpuff:'#ffdab9',peru:'#cd853f',pink:'#ffc0cb',plum:'#dda0dd',powderblue:'#b0e0e6',purple:'#800080',red:'#f00',rosybrown:'#bc8f8f',royalblue:'#4169e1',saddlebrown:'#8b4513',salmon:'#fa8072',sandybrown:'#f4a460',seagreen:'#2e8b57',seashell:'#fff5ee',sienna:'#a0522d',silver:'#c0c0c0',skyblue:'#87ceeb',slateblue:'#6a5acd',slategray:'#708090',slategrey:'#708090',snow:'#fffafa',springgreen:'#00ff7f',steelblue:'#4682b4',tan:'#d2b48c',teal:'#008080',thistle:'#d8bfd8',tomato:'#ff6347',turquoise:'#40e0d0',violet:'#ee82ee',wheat:'#f5deb3',white:'#fff',whitesmoke:'#f5f5f5',yellow:'#ff0',yellowgreen:'#9acd32'};function customPalette(a){q=a}function resetPalette(){q=t}function getColor(a,b){a=a|0;b=b||q;return b[a%b.length]}function customHighlight(a){u=a}function resetHighlight(){v=u}function getHighlightColor(){return u}function getRadialGradient(a,b,c,d,e,f,g){if(!p){p=o.getContext()}var h=p.createRadialGradient(a,b,c,d,e,f);for(var i=0,l=g.length;i<l;i++){h.addColorStop(g[i][0],g[i][1])}h.__nonRecursion=true;return h}function getLinearGradient(a,b,c,d,e){if(!p){p=o.getContext()}var f=p.createLinearGradient(a,b,c,d);for(var i=0,l=e.length;i<l;i++){f.addColorStop(e[i][0],e[i][1])}f.__nonRecursion=true;return f}function getStepColors(c,d,e){c=toRGBA(c);d=toRGBA(d);c=getData(c);d=getData(d);var f=[];var h=(d[0]-c[0])/e;var j=(d[1]-c[1])/e;var k=(d[2]-c[2])/e;var l=(d[3]-c[3])/e;for(var i=0,r=c[0],g=c[1],b=c[2],a=c[3];i<e;i++){f[i]=toColor([adjust(Math.floor(r),[0,255]),adjust(Math.floor(g),[0,255]),adjust(Math.floor(b),[0,255]),a.toFixed(4)-0],'rgba');r+=h;g+=j;b+=k;a+=l}r=d[0];g=d[1];b=d[2];a=d[3];f[i]=toColor([r,g,b,a],'rgba');return f}function getGradientColors(a,b){var c=[];var d=a.length;if(b===undefined){b=20}if(d===1){c=getStepColors(a[0],a[0],b)}else if(d>1){for(var i=0,n=d-1;i<n;i++){var e=getStepColors(a[i],a[i+1],b);if(i<n-1){e.pop()}c=c.concat(e)}}return c}function toColor(a,b){b=b||'rgb';if(a&&(a.length===3||a.length===4)){a=map(a,function(c){return c>1?Math.ceil(c):c});if(b.indexOf('hex')>-1){return'#'+((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}else if(b.indexOf('hs')>-1){var d=map(a.slice(1,3),function(c){return c+'%'});a[1]=d[0];a[2]=d[1]}if(b.indexOf('a')>-1){if(a.length===3){a.push(1)}a[3]=adjust(a[3],[0,1]);return b+'('+a.slice(0,4).join(',')+')'}return b+'('+a.slice(0,3).join(',')+')'}}function toArray(a){a=trim(a);if(a.indexOf('rgba')<0){a=toRGBA(a)}var b=[];var i=0;a.replace(/[\d.]+/g,function(n){if(i<3){n=n|0}else{n=+n}b[i++]=n});return b}function convert(a,b){if(!isCalculableColor(a)){return a}var c=getData(a);var d=c[3];if(typeof d==='undefined'){d=1}if(a.indexOf('hsb')>-1){c=_HSV_2_RGB(c)}else if(a.indexOf('hsl')>-1){c=_HSL_2_RGB(c)}if(b.indexOf('hsb')>-1||b.indexOf('hsv')>-1){c=_RGB_2_HSB(c)}else if(b.indexOf('hsl')>-1){c=_RGB_2_HSL(c)}c[3]=d;return toColor(c,b)}function toRGBA(a){return convert(a,'rgba')}function toRGB(a){return convert(a,'rgb')}function toHex(a){return convert(a,'hex')}function toHSVA(a){return convert(a,'hsva')}function toHSV(a){return convert(a,'hsv')}function toHSBA(a){return convert(a,'hsba')}function toHSB(a){return convert(a,'hsb')}function toHSLA(a){return convert(a,'hsla')}function toHSL(a){return convert(a,'hsl')}function toName(a){for(var b in z){if(toHex(z[b])===toHex(a)){return b}}return null}function trim(a){return String(a).replace(/\s+/g,'')}function normalize(a){if(z[a]){a=z[a]}a=trim(a);a=a.replace(/hsv/i,'hsb');if(/^#[\da-f]{3}$/i.test(a)){a=parseInt(a.slice(1),16);var r=(a&3840)<<8;var g=(a&240)<<4;var b=a&15;a='#'+((1<<24)+(r<<4)+r+(g<<4)+g+(b<<4)+b).toString(16).slice(1)}return a}function lift(a,b){if(!isCalculableColor(a)){return a}var c=b>0?1:-1;if(typeof b==='undefined'){b=0}b=Math.abs(b)>1?1:Math.abs(b);a=toRGB(a);var d=getData(a);for(var i=0;i<3;i++){if(c===1){d[i]=d[i]*(1-b)|0}else{d[i]=(255-d[i])*b+d[i]|0}}return'rgb('+d.join(',')+')'}function reverse(a){if(!isCalculableColor(a)){return a}var b=getData(toRGBA(a));b=map(b,function(c){return 255-c});return toColor(b,'rgb')}function mix(a,b,c){if(!isCalculableColor(a)||!isCalculableColor(b)){return a}if(typeof c==='undefined'){c=0.5}c=1-adjust(c,[0,1]);var w=c*2-1;var e=getData(toRGBA(a));var f=getData(toRGBA(b));var d=e[3]-f[3];var g=((w*d===-1?w:(w+d)/(1+w*d))+1)/2;var h=1-g;var j=[];for(var i=0;i<3;i++){j[i]=e[i]*g+f[i]*h}var k=e[3]*c+f[3]*(1-c);k=Math.max(0,Math.min(1,k));if(e[3]===1&&f[3]===1){return toColor(j,'rgb')}j[3]=k;return toColor(j,'rgba')}function random(){return'#'+(Math.random().toString(16)+'0000').slice(2,8)}function getData(b){b=normalize(b);var r=b.match(y);if(r===null){throw new Error('The color format error');}var d;var a;var e=[];var f;if(r[2]){d=r[2].replace('#','').split('');f=[d[0]+d[1],d[2]+d[3],d[4]+d[5]];e=map(f,function(c){return adjust(parseInt(c,16),[0,255])})}else if(r[4]){var g=r[4].split(',');a=g[3];f=g.slice(0,3);e=map(f,function(c){c=Math.floor(c.indexOf('%')>0?parseInt(c,0)*2.55:c);return adjust(c,[0,255])});if(typeof a!=='undefined'){e.push(adjust(parseFloat(a),[0,1]))}}else if(r[5]||r[6]){var i=(r[5]||r[6]).split(',');var h=parseInt(i[0],0)/360;var s=i[1];var x=i[2];a=i[3];e=map([s,x],function(c){return adjust(parseFloat(c)/100,[0,1])});e.unshift(h);if(typeof a!=='undefined'){e.push(adjust(parseFloat(a),[0,1]))}}return e}function alpha(b,a){if(!isCalculableColor(b)){return b}if(a===null){a=1}var c=getData(toRGBA(b));c[3]=adjust(Number(a).toFixed(4),[0,1]);return toColor(c,'rgba')}function map(a,b){if(typeof b!=='function'){throw new TypeError();}var c=a?a.length:0;for(var i=0;i<c;i++){a[i]=b(a[i])}return a}function adjust(a,b){if(a<=b[0]){a=b[0]}else if(a>=b[1]){a=b[1]}return a}function isCalculableColor(a){return a instanceof Array||typeof a==='string'}function _HSV_2_RGB(a){var H=a[0];var S=a[1];var V=a[2];var R;var G;var B;if(S===0){R=V*255;G=V*255;B=V*255}else{var h=H*6;if(h===6){h=0}var i=h|0;var c=V*(1-S);var d=V*(1-S*(h-i));var e=V*(1-S*(1-(h-i)));var r=0;var g=0;var b=0;if(i===0){r=V;g=e;b=c}else if(i===1){r=d;g=V;b=c}else if(i===2){r=c;g=V;b=e}else if(i===3){r=c;g=d;b=V}else if(i===4){r=e;g=c;b=V}else{r=V;g=c;b=d}R=r*255;G=g*255;B=b*255}return[R,G,B]}function _HSL_2_RGB(a){var H=a[0];var S=a[1];var L=a[2];var R;var G;var B;if(S===0){R=L*255;G=L*255;B=L*255}else{var b;if(L<0.5){b=L*(1+S)}else{b=L+S-S*L}var c=2*L-b;R=255*_HUE_2_RGB(c,b,H+1/3);G=255*_HUE_2_RGB(c,b,H);B=255*_HUE_2_RGB(c,b,H-1/3)}return[R,G,B]}function _HUE_2_RGB(a,b,c){if(c<0){c+=1}if(c>1){c-=1}if(6*c<1){return a+(b-a)*6*c}if(2*c<1){return b}if(3*c<2){return a+(b-a)*(2/3-c)*6}return a}function _RGB_2_HSB(a){var R=a[0]/255;var G=a[1]/255;var B=a[2]/255;var b=Math.min(R,G,B);var c=Math.max(R,G,B);var d=c-b;var V=c;var H;var S;if(d===0){H=0;S=0}else{S=d/c;var e=((c-R)/6+d/2)/d;var f=((c-G)/6+d/2)/d;var g=((c-B)/6+d/2)/d;if(R===c){H=g-f}else if(G===c){H=1/3+e-g}else if(B===c){H=2/3+f-e}if(H<0){H+=1}if(H>1){H-=1}}H=H*360;S=S*100;V=V*100;return[H,S,V]}function _RGB_2_HSL(a){var R=a[0]/255;var G=a[1]/255;var B=a[2]/255;var b=Math.min(R,G,B);var c=Math.max(R,G,B);var d=c-b;var L=(c+b)/2;var H;var S;if(d===0){H=0;S=0}else{if(L<0.5){S=d/(c+b)}else{S=d/(2-c-b)}var e=((c-R)/6+d/2)/d;var f=((c-G)/6+d/2)/d;var g=((c-B)/6+d/2)/d;if(R===c){H=g-f}else if(G===c){H=1/3+e-g}else if(B===c){H=2/3+f-e}if(H<0){H+=1}if(H>1){H-=1}}H=H*360;S=S*100;L=L*100;return[H,S,L]}return{customPalette:customPalette,resetPalette:resetPalette,getColor:getColor,getHighlightColor:getHighlightColor,customHighlight:customHighlight,resetHighlight:resetHighlight,getRadialGradient:getRadialGradient,getLinearGradient:getLinearGradient,getGradientColors:getGradientColors,getStepColors:getStepColors,reverse:reverse,mix:mix,lift:lift,trim:trim,random:random,toRGB:toRGB,toRGBA:toRGBA,toHex:toHex,toHSL:toHSL,toHSLA:toHSLA,toHSB:toHSB,toHSBA:toHSBA,toHSV:toHSV,toHSVA:toHSVA,toName:toName,toColor:toColor,toArray:toArray,alpha:alpha,getData:getData}});define('echarts/component/timeline',['require','./base','zrender/shape/Rectangle','../util/shape/Icon','../util/shape/Chain','../config','zrender/tool/util','zrender/tool/area','zrender/tool/event','../component'],function(t){var u=t('./base');var v=t('zrender/shape/Rectangle');var w=t('../util/shape/Icon');var z=t('../util/shape/Chain');var A=t('../config');A.timeline={zlevel:0,z:4,show:true,type:'time',notMerge:false,realtime:true,x:80,x2:80,y2:0,height:50,backgroundColor:'rgba(0,0,0,0)',borderColor:'#ccc',borderWidth:0,padding:5,controlPosition:'left',autoPlay:false,loop:true,playInterval:2000,lineStyle:{width:1,color:'#666',type:'dashed'},label:{show:true,interval:'auto',rotate:0,textStyle:{color:'#333'}},checkpointStyle:{symbol:'auto',symbolSize:'auto',color:'auto',borderColor:'auto',borderWidth:'auto',label:{show:false,textStyle:{color:'auto'}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:'#333'},emphasis:{color:'#1e90ff'}},symbol:'emptyDiamond',symbolSize:4,currentIndex:0};var B=t('zrender/tool/util');var C=t('zrender/tool/area');var D=t('zrender/tool/event');function Timeline(c,d,e,f,g){u.call(this,c,d,e,f,g);var h=this;h._onclick=function(a){return h.__onclick(a)};h._ondrift=function(a,b){return h.__ondrift(this,a,b)};h._ondragend=function(){return h.__ondragend()};h._setCurrentOption=function(){var a=h.timelineOption;h.currentIndex%=a.data.length;var b=h.options[h.currentIndex]||{};h.myChart._setOption(b,a.notMerge,true);h.messageCenter.dispatch(A.EVENT.TIMELINE_CHANGED,null,{currentIndex:h.currentIndex,data:a.data[h.currentIndex].name!=null?a.data[h.currentIndex].name:a.data[h.currentIndex]},h.myChart)};h._onFrame=function(){h._setCurrentOption();h._syncHandleShape();if(h.timelineOption.autoPlay){h.playTicket=setTimeout(function(){h.currentIndex+=1;if(!h.timelineOption.loop&&h.currentIndex>=h.timelineOption.data.length){h.currentIndex=h.timelineOption.data.length-1;h.stop();return}h._onFrame()},h.timelineOption.playInterval)}};this.setTheme(false);this.options=this.option.options;this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length;if(!this.timelineOption.notMerge&&this.currentIndex!==0){this.options[this.currentIndex]=B.merge(this.options[this.currentIndex],this.options[0])}if(this.timelineOption.show){this._buildShape();this._syncHandleShape()}this._setCurrentOption();if(this.timelineOption.autoPlay){var h=this;this.playTicket=setTimeout(function(){h.play()},this.ecTheme.animationDuration!=null?this.ecTheme.animationDuration:A.animationDuration)}}Timeline.prototype={type:A.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show){var a=this._getInterval();for(var i=0,len=this._chainPoint.length;i<len;i+=a){this._chainPoint[i].showLabel=true}}this._buildChain();this._buildHandle();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}},_getLocation:function(){var a=this.timelineOption;var b=this.reformCssArray(this.timelineOption.padding);var c=this.zr.getWidth();var x=this.parsePercent(a.x,c);var d=this.parsePercent(a.x2,c);var e;if(a.width==null){e=c-x-d;d=c-d}else{e=this.parsePercent(a.width,c);d=x+e}var f=this.zr.getHeight();var g=this.parsePercent(a.height,f);var y;var h;if(a.y!=null){y=this.parsePercent(a.y,f);h=y+g}else{h=f-this.parsePercent(a.y2,f);y=h-g}return{x:x+b[3],y:y+b[0],x2:d-b[1],y2:h-b[2],width:e-b[1]-b[3],height:g-b[0]-b[2]}},_getReformedLabel:function(a){var b=this.timelineOption;var c=b.data[a].name!=null?b.data[a].name:b.data[a];var d=b.data[a].formatter||b.label.formatter;if(d){if(typeof d==='function'){c=d.call(this.myChart,c)}else if(typeof d==='string'){c=d.replace('{value}',c)}}return c},_getInterval:function(){var a=this._chainPoint;var b=this.timelineOption;var c=b.label.interval;if(c==='auto'){var d=b.label.textStyle.fontSize;var e=b.data;var f=b.data.length;if(f>3){var g=false;var h;var j;c=0;while(!g&&c<f){c++;g=true;for(var i=c;i<f;i+=c){h=a[i].x-a[i-c].x;if(b.label.rotate!==0){j=d}else if(e[i].textStyle){j=C.getTextWidth(a[i].name,a[i].textFont)}else{var k=a[i].name+'';var l=(k.match(/\w/g)||'').length;var m=k.length-l;j=l*d*2/3+m*d}if(h<j){g=false;break}}}}else{c=1}}else{c=c-0+1}return c},_getChainPoint:function(){var a=this.timelineOption;var b=a.symbol.toLowerCase();var c=a.symbolSize;var d=a.label.rotate;var e=a.label.textStyle;var f=this.getFont(e);var g;var h=a.data;var x=this._location.x;var y=this._location.y+this._location.height/4*3;var j=this._location.x2-this._location.x;var k=h.length;function _getName(i){return h[i].name!=null?h[i].name:h[i]+''}var l=[];if(k>1){var m=j/k;m=m>50?50:m<20?5:m;j-=m*2;if(a.type==='number'){for(var i=0;i<k;i++){l.push(x+m+j/(k-1)*i)}}else{l[0]=new Date(_getName(0).replace(/-/g,'/'));l[k-1]=new Date(_getName(k-1).replace(/-/g,'/'))-l[0];for(var i=1;i<k;i++){l[i]=x+m+j*(new Date(_getName(i).replace(/-/g,'/'))-l[0])/l[k-1]}l[0]=x+m}}else{l.push(x+j/2)}var o=[];var p;var n;var q;var r;var s;for(var i=0;i<k;i++){x=l[i];p=h[i].symbol&&h[i].symbol.toLowerCase()||b;if(p.match('empty')){p=p.replace('empty','');q=true}else{q=false}if(p.match('star')){n=p.replace('star','')-0||5;p='star'}g=h[i].textStyle?B.merge(h[i].textStyle||{},e):e;r=g.align||'center';if(d){r=d>0?'right':'left';s=[d*Math.PI/180,x,y-5]}else{s=false}o.push({x:x,n:n,isEmpty:q,symbol:p,symbolSize:h[i].symbolSize||c,color:h[i].color,borderColor:h[i].borderColor,borderWidth:h[i].borderWidth,name:this._getReformedLabel(i),textColor:g.color,textAlign:r,textBaseline:g.baseline||'middle',textX:x,textY:y-(d?5:0),textFont:h[i].textStyle?this.getFont(g):f,rotation:s,showLabel:false})}return o},_buildBackground:function(){var a=this.timelineOption;var b=this.reformCssArray(this.timelineOption.padding);var c=this._location.width;var d=this._location.height;if(a.borderWidth!==0||a.backgroundColor.replace(/\s/g,'')!='rgba(0,0,0,0)'){this.shapeList.push(new v({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x-b[3],y:this._location.y-b[0],width:c+b[1]+b[3],height:d+b[0]+b[2],brushType:a.borderWidth===0?'fill':'both',color:a.backgroundColor,strokeColor:a.borderColor,lineWidth:a.borderWidth}}))}},_buildControl:function(){var a=this;var b=this.timelineOption;var c=b.lineStyle;var d=b.controlStyle;if(b.controlPosition==='none'){return}var e=d.itemSize;var f=d.itemGap;var x;if(b.controlPosition==='left'){x=this._location.x;this._location.x+=(e+f)*3}else{x=this._location.x2-((e+f)*3-f);this._location.x2-=(e+f)*3}var y=this._location.y;var g={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:'timelineControl',symbol:'last',x:x,y:y,width:e,height:e,brushType:'stroke',color:d.normal.color,strokeColor:d.normal.color,lineWidth:c.width},highlightStyle:{color:d.emphasis.color,strokeColor:d.emphasis.color,lineWidth:c.width+1},clickable:true};this._ctrLastShape=new w(g);this._ctrLastShape.onclick=function(){a.last()};this.shapeList.push(this._ctrLastShape);x+=e+f;this._ctrPlayShape=new w(B.clone(g));this._ctrPlayShape.style.brushType='fill';this._ctrPlayShape.style.symbol='play';this._ctrPlayShape.style.status=this.timelineOption.autoPlay?'playing':'stop';this._ctrPlayShape.style.x=x;this._ctrPlayShape.onclick=function(){if(a._ctrPlayShape.style.status==='stop'){a.play()}else{a.stop()}};this.shapeList.push(this._ctrPlayShape);x+=e+f;this._ctrNextShape=new w(B.clone(g));this._ctrNextShape.style.symbol='next';this._ctrNextShape.style.x=x;this._ctrNextShape.onclick=function(){a.next()};this.shapeList.push(this._ctrNextShape)},_buildChain:function(){var a=this.timelineOption;var b=a.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,b.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:'both',strokeColor:b.color,lineWidth:b.width,lineType:b.type},hoverable:false,clickable:true,onclick:this._onclick};this._timelineShae=new z(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var a=this._chainPoint[this.currentIndex];var b=a.symbolSize+1;b=b<5?5:b;this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:false,draggable:true,style:{iconType:'diamond',n:a.n,x:a.x-b,y:this._location.y+this._location.height/4-b,width:b*2,height:b*2,brushType:'both',textPosition:'specific',textX:a.x,textY:this._location.y-this._location.height/4,textAlign:'center',textBaseline:'middle'},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new w(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(!this.timelineOption.show){return}var a=this.timelineOption;var b=a.checkpointStyle;var c=this._chainPoint[this.currentIndex];this._handleShape.style.text=b.label.show?c.name:'';this._handleShape.style.textFont=c.textFont;this._handleShape.style.n=c.n;if(b.symbol==='auto'){this._handleShape.style.iconType=c.symbol!='none'?c.symbol:'diamond'}else{this._handleShape.style.iconType=b.symbol;if(b.symbol.match('star')){this._handleShape.style.n=b.symbol.replace('star','')-0||5;this._handleShape.style.iconType='star'}}var d;if(b.symbolSize==='auto'){d=c.symbolSize+2;d=d<5?5:d}else{d=b.symbolSize-0}this._handleShape.style.color=b.color==='auto'?c.color?c.color:a.controlStyle.emphasis.color:b.color;this._handleShape.style.textColor=b.label.textStyle.color==='auto'?this._handleShape.style.color:b.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=b.borderColor==='auto'?c.borderColor?c.borderColor:'#fff':b.borderColor;this._handleShape.style.lineWidth=b.borderWidth==='auto'?c.borderWidth?c.borderWidth:0:b.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,'style').when(500,{x:c.x-d,textX:c.x,y:this._location.y+this._location.height/4-d,width:d*2,height:d*2}).start('ExponentialOut')},_findChainIndex:function(x){var a=this._chainPoint;var b=a.length;if(x<=a[0].x){return 0}else if(x>=a[b-1].x){return b-1}for(var i=0;i<b-1;i++){if(x>=a[i].x&&x<=a[i+1].x){return Math.abs(x-a[i].x)<Math.abs(x-a[i+1].x)?i:i+1}}},__onclick:function(a){var x=D.getX(a.event);var b=this._findChainIndex(x);if(b===this.currentIndex){return true}this.currentIndex=b;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(a,b){this.timelineOption.autoPlay&&this.stop();var c=this._chainPoint;var d=c.length;var e;if(a.style.x+b<=c[0].x-c[0].symbolSize){a.style.x=c[0].x-c[0].symbolSize;e=0}else if(a.style.x+b>=c[d-1].x-c[d-1].symbolSize){a.style.x=c[d-1].x-c[d-1].symbolSize;e=d-1}else{a.style.x+=b;e=this._findChainIndex(a.style.x)}var f=c[e];var g=f.symbolSize+2;a.style.iconType=f.symbol;a.style.n=f.n;a.style.textX=a.style.x+g/2;a.style.y=this._location.y+this._location.height/4-g;a.style.width=g*2;a.style.height=g*2;a.style.text=f.name;if(e===this.currentIndex){return true}this.currentIndex=e;if(this.timelineOption.realtime){clearTimeout(this.playTicket);var h=this;this.playTicket=setTimeout(function(){h._setCurrentOption()},200)}return true},__ondragend:function(){this.isDragend=true},ondragend:function(a,b){if(!this.isDragend||!a.target){return}!this.timelineOption.realtime&&this._setCurrentOption();b.dragOut=true;b.dragIn=true;b.needRefresh=false;this.isDragend=false;this._syncHandleShape();return},last:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex-=1;if(this.currentIndex<0){this.currentIndex=this.timelineOption.data.length-1}this._onFrame();return this.currentIndex},next:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex+=1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},play:function(a,b){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!='playing'){this._ctrPlayShape.style.status='playing';this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=b!=null?b:true;if(!this.timelineOption.autoPlay){clearTimeout(this.playTicket)}this.currentIndex=a!=null?a:this.currentIndex+1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},stop:function(){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!='stop'){this._ctrPlayShape.style.status='stop';this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=false;clearTimeout(this.playTicket);return this.currentIndex},resize:function(){if(this.timelineOption.show){this.clear();this._buildShape();this._syncHandleShape()}},setTheme:function(a){this.timelineOption=this.reformOption(B.clone(this.option.timeline));this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle);this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle);if(!this.myChart.canvasSupported){this.timelineOption.realtime=false}if(this.timelineOption.show&&a){this.clear();this._buildShape();this._syncHandleShape()}},onbeforDispose:function(){clearTimeout(this.playTicket)}};function timelineControl(a,b){var c=2;var x=b.x+c;var y=b.y+c+2;var d=b.width-c;var e=b.height-c;var f=b.symbol;if(f==='last'){a.moveTo(x+d-2,y+e/3);a.lineTo(x+d-2,y);a.lineTo(x+2,y+e/2);a.lineTo(x+d-2,y+e);a.lineTo(x+d-2,y+e/3*2);a.moveTo(x,y);a.lineTo(x,y)}else if(f==='next'){a.moveTo(x+2,y+e/3);a.lineTo(x+2,y);a.lineTo(x+d-2,y+e/2);a.lineTo(x+2,y+e);a.lineTo(x+2,y+e/3*2);a.moveTo(x,y);a.lineTo(x,y)}else if(f==='play'){if(b.status==='stop'){a.moveTo(x+2,y);a.lineTo(x+d-2,y+e/2);a.lineTo(x+2,y+e);a.lineTo(x+2,y)}else{var g=b.brushType==='both'?2:3;a.rect(x+2,y,g,e);a.rect(x+d-g-2,y,g,e)}}else if(f.match('image')){var h='';h=f.replace(new RegExp('^image:\\/\\/'),'');f=w.prototype.iconLibrary.image;f(a,{x:x,y:y,width:d,height:e,image:h})}}w.prototype.iconLibrary['timelineControl']=timelineControl;B.inherits(Timeline,u);t('../component').define('timeline',Timeline);return Timeline});define('zrender/shape/Image',['require','./Base','../tool/util'],function(n){var o=n('./Base');var p=function(a){o.call(this,a)};p.prototype={type:'image',brush:function(a,b,c){var d=this.style||{};if(b){d=this.getHighlightStyle(d,this.highlightStyle||{})}var e=d.image;var f=this;if(!this._imageCache){this._imageCache={}}if(typeof e==='string'){var g=e;if(this._imageCache[g]){e=this._imageCache[g]}else{e=new Image();e.onload=function(){e.onload=null;f.modSelf();c()};e.src=g;this._imageCache[g]=e}}if(e){if(e.nodeName.toUpperCase()=='IMG'){if(window.ActiveXObject){if(e.readyState!='complete'){return}}else{if(!e.complete){return}}}var h=d.width||e.width;var i=d.height||e.height;var x=d.x;var y=d.y;if(!e.width||!e.height){return}a.save();this.doClip(a);this.setContext(a,d);this.setTransform(a);if(d.sWidth&&d.sHeight){var j=d.sx||0;var k=d.sy||0;a.drawImage(e,j,k,d.sWidth,d.sHeight,x,y,h,i)}else if(d.sx&&d.sy){var j=d.sx;var k=d.sy;var l=h-j;var m=i-k;a.drawImage(e,j,k,l,m,x,y,h,i)}else{a.drawImage(e,x,y,h,i)}if(!d.width){d.width=h}if(!d.height){d.height=i}if(!this.style.width){this.style.width=h}if(!this.style.height){this.style.height=i}this.drawText(a,d,this.style);a.restore()}},getRect:function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}},clearCache:function(){this._imageCache={}}};n('../tool/util').inherits(p,o);return p});define('zrender/loadingEffect/Bar',['require','./Base','../tool/util','../tool/color','../shape/Rectangle'],function(h){var i=h('./Base');var j=h('../tool/util');var k=h('../tool/color');var l=h('../shape/Rectangle');function Bar(a){i.call(this,a)}j.inherits(Bar,i);Bar.prototype._start=function(a,b){var c=j.merge(this.options,{textStyle:{color:'#888'},backgroundColor:'rgba(250, 250, 250, 0.8)',effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:'fill',timeInterval:100}});var d=this.createTextShape(c.textStyle);var e=this.createBackgroundShape(c.backgroundColor);var f=c.effectOption;var g=new l({highlightStyle:j.clone(f)});g.highlightStyle.color=f.color||k.getLinearGradient(f.x,f.y,f.x+f.width,f.y+f.height,[[0,'#ff6400'],[0.5,'#ffe100'],[1,'#b1ff00']]);if(c.progress!=null){a(e);g.highlightStyle.width=this.adjust(c.progress,[0,1])*c.effectOption.width;a(g);a(d);b();return}else{g.highlightStyle.width=0;return setInterval(function(){a(e);if(g.highlightStyle.width<f.width){g.highlightStyle.width+=8}else{g.highlightStyle.width=0}a(g);a(d);b()},f.timeInterval)}};return Bar});define('zrender/loadingEffect/Bubble',['require','./Base','../tool/util','../tool/color','../shape/Circle'],function(p){var q=p('./Base');var r=p('../tool/util');var s=p('../tool/color');var t=p('../shape/Circle');function Bubble(a){q.call(this,a)}r.inherits(Bubble,q);Bubble.prototype._start=function(b,c){var d=r.merge(this.options,{textStyle:{color:'#888'},backgroundColor:'rgba(250, 250, 250, 0.8)',effect:{n:50,lineWidth:2,brushType:'stroke',color:'random',timeInterval:100}});var e=this.createTextShape(d.textStyle);var f=this.createBackgroundShape(d.backgroundColor);var g=d.effect;var n=g.n;var h=g.brushType;var j=g.lineWidth;var k=[];var l=this.canvasWidth;var m=this.canvasHeight;for(var i=0;i<n;i++){var o=g.color=='random'?s.alpha(s.random(),0.3):g.color;k[i]=new t({highlightStyle:{x:Math.ceil(Math.random()*l),y:Math.ceil(Math.random()*m),r:Math.ceil(Math.random()*40),brushType:h,color:o,strokeColor:o,lineWidth:j},animationY:Math.ceil(Math.random()*20)})}return setInterval(function(){b(f);for(var i=0;i<n;i++){var a=k[i].highlightStyle;if(a.y-k[i].animationY+a.r<=0){k[i].highlightStyle.y=m+a.r;k[i].highlightStyle.x=Math.ceil(Math.random()*l)}k[i].highlightStyle.y-=k[i].animationY;b(k[i])}b(e);c()},g.timeInterval)};return Bubble});define('zrender/loadingEffect/DynamicLine',['require','./Base','../tool/util','../tool/color','../shape/Line'],function(r){var s=r('./Base');var t=r('../tool/util');var u=r('../tool/color');var v=r('../shape/Line');function DynamicLine(a){s.call(this,a)}t.inherits(DynamicLine,s);DynamicLine.prototype._start=function(b,c){var d=t.merge(this.options,{textStyle:{color:'#fff'},backgroundColor:'rgba(0, 0, 0, 0.8)',effectOption:{n:30,lineWidth:1,color:'random',timeInterval:100}});var e=this.createTextShape(d.textStyle);var f=this.createBackgroundShape(d.backgroundColor);var g=d.effectOption;var n=g.n;var h=g.lineWidth;var j=[];var k=this.canvasWidth;var l=this.canvasHeight;for(var i=0;i<n;i++){var m=-Math.ceil(Math.random()*1000);var o=Math.ceil(Math.random()*400);var p=Math.ceil(Math.random()*l);var q=g.color=='random'?u.random():g.color;j[i]=new v({highlightStyle:{xStart:m,yStart:p,xEnd:m+o,yEnd:p,strokeColor:q,lineWidth:h},animationX:Math.ceil(Math.random()*100),len:o})}return setInterval(function(){b(f);for(var i=0;i<n;i++){var a=j[i].highlightStyle;if(a.xStart>=k){j[i].len=Math.ceil(Math.random()*400);a.xStart=-400;a.xEnd=-400+j[i].len;a.yStart=Math.ceil(Math.random()*l);a.yEnd=a.yStart}a.xStart+=j[i].animationX;a.xEnd+=j[i].animationX;b(j[i])}b(e);c()},g.timeInterval)};return DynamicLine});define('zrender/loadingEffect/Ring',['require','./Base','../tool/util','../tool/color','../shape/Ring','../shape/Sector'],function(s){var t=s('./Base');var u=s('../tool/util');var v=s('../tool/color');var w=s('../shape/Ring');var z=s('../shape/Sector');function Ring(a){t.call(this,a)}u.inherits(Ring,t);Ring.prototype._start=function(a,b){var c=u.merge(this.options,{textStyle:{color:'#07a'},backgroundColor:'rgba(250, 250, 250, 0.8)',effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:'#bbdcff',brushType:'fill',textPosition:'inside',textFont:'normal 30px verdana',textColor:'rgba(30, 144, 255, 0.6)',timeInterval:100}});var d=c.effect;var e=c.textStyle;if(e.x==null){e.x=d.x}if(e.y==null){e.y=d.y+(d.r0+d.r)/2-5}var f=this.createTextShape(c.textStyle);var g=this.createBackgroundShape(c.backgroundColor);var x=d.x;var y=d.y;var h=d.r0+6;var r=d.r-6;var j=d.color;var k=v.lift(j,0.1);var l=new w({highlightStyle:u.clone(d)});var m=[];var o=v.getGradientColors(['#ff6400','#ffe100','#97ff00'],25);var p=15;var q=240;for(var i=0;i<16;i++){m.push(new z({highlightStyle:{x:x,y:y,r0:h,r:r,startAngle:q-p,endAngle:q,brushType:'fill',color:k},_color:v.getLinearGradient(x+h*Math.cos(q,true),y-h*Math.sin(q,true),x+h*Math.cos(q-p,true),y-h*Math.sin(q-p,true),[[0,o[i*2]],[1,o[i*2+1]]])}));q-=p}q=360;for(var i=0;i<4;i++){m.push(new z({highlightStyle:{x:x,y:y,r0:h,r:r,startAngle:q-p,endAngle:q,brushType:'fill',color:k},_color:v.getLinearGradient(x+h*Math.cos(q,true),y-h*Math.sin(q,true),x+h*Math.cos(q-p,true),y-h*Math.sin(q-p,true),[[0,o[i*2+32]],[1,o[i*2+33]]])}));q-=p}var n=0;if(c.progress!=null){a(g);n=this.adjust(c.progress,[0,1]).toFixed(2)*100/5;l.highlightStyle.text=n*5+'%';a(l);for(var i=0;i<20;i++){m[i].highlightStyle.color=i<n?m[i]._color:k;a(m[i])}a(f);b();return}return setInterval(function(){a(g);n+=n>=20?-20:1;a(l);for(var i=0;i<20;i++){m[i].highlightStyle.color=i<n?m[i]._color:k;a(m[i])}a(f);b()},d.timeInterval)};return Ring});define('zrender/loadingEffect/Spin',['require','./Base','../tool/util','../tool/color','../tool/area','../shape/Sector'],function(s){var t=s('./Base');var u=s('../tool/util');var v=s('../tool/color');var w=s('../tool/area');var z=s('../shape/Sector');function Spin(a){t.call(this,a)}u.inherits(Spin,t);Spin.prototype._start=function(a,b){var c=u.merge(this.options,{textStyle:{color:'#fff',textAlign:'start'},backgroundColor:'rgba(0, 0, 0, 0.8)'});var d=this.createTextShape(c.textStyle);var e=10;var f=w.getTextWidth(d.highlightStyle.text,d.highlightStyle.textFont);var g=w.getTextHeight(d.highlightStyle.text,d.highlightStyle.textFont);var h=u.merge(this.options.effect||{},{r0:9,r:15,n:18,color:'#fff',timeInterval:100});var j=this.getLocation(this.options.textStyle,f+e+h.r*2,Math.max(h.r*2,g));h.x=j.x+h.r;h.y=d.highlightStyle.y=j.y+j.height/2;d.highlightStyle.x=h.x+h.r+e;var k=this.createBackgroundShape(c.backgroundColor);var n=h.n;var x=h.x;var y=h.y;var l=h.r0;var r=h.r;var m=h.color;var o=[];var p=Math.round(180/n);for(var i=0;i<n;i++){o[i]=new z({highlightStyle:{x:x,y:y,r0:l,r:r,startAngle:p*i*2,endAngle:p*i*2+p,color:v.alpha(m,(i+1)/n),brushType:'fill'}})}var q=[0,x,y];return setInterval(function(){a(k);q[0]-=0.3;for(var i=0;i<n;i++){o[i].rotation=q;a(o[i])}a(d);b()},h.timeInterval)};return Spin});define('zrender/loadingEffect/NullData',['require','./Base','../tool/util','../tool/area','../shape/Ring','../shape/Droplet','../shape/Circle'],function(k){var l=k('./Base');var m=k('../tool/util');var n=k('../tool/area');function NullData(a){l.call(this,a)}m.inherits(NullData,l);NullData.prototype._start=function(a,b){var c=m.merge(this.options,{textStyle:{color:'#888',textAlign:'start'},backgroundColor:'rgba(250, 250, 250, 0.8)'});var d=this.createTextShape(c.textStyle);var e=10;var f=n.getTextWidth(d.highlightStyle.text,d.highlightStyle.textFont);var g=n.getTextHeight(d.highlightStyle.text,d.highlightStyle.textFont);var h=m.merge(this.options.effect||{},{r:18,colorWhirl:'#6cf'});var i=this.getLocation(this.options.textStyle,f+e+h.r*2,Math.max(h.r*2,g));h.x=i.x+h.r;h.y=d.highlightStyle.y=i.y+i.height/2;d.highlightStyle.x=h.x+h.r+e;var j=this.createBackgroundShape(c.backgroundColor);return setInterval(function(){a(j);a(d);b()})};return NullData});define('zrender/loadingEffect/Whirling',['require','./Base','../tool/util','../tool/area','../shape/Ring','../shape/Droplet','../shape/Circle'],function(o){var p=o('./Base');var q=o('../tool/util');var r=o('../tool/area');var s=o('../shape/Ring');var t=o('../shape/Droplet');var u=o('../shape/Circle');function Whirling(a){p.call(this,a)}q.inherits(Whirling,p);Whirling.prototype._start=function(a,b){var c=q.merge(this.options,{textStyle:{color:'#888',textAlign:'start'},backgroundColor:'rgba(250, 250, 250, 0.8)'});var d=this.createTextShape(c.textStyle);var e=10;var f=r.getTextWidth(d.highlightStyle.text,d.highlightStyle.textFont);var g=r.getTextHeight(d.highlightStyle.text,d.highlightStyle.textFont);var h=q.merge(this.options.effect||{},{r:18,colorIn:'#fff',colorOut:'#555',colorWhirl:'#6cf',timeInterval:50});var i=this.getLocation(this.options.textStyle,f+e+h.r*2,Math.max(h.r*2,g));h.x=i.x+h.r;h.y=d.highlightStyle.y=i.y+i.height/2;d.highlightStyle.x=h.x+h.r+e;var j=this.createBackgroundShape(c.backgroundColor);var k=new t({highlightStyle:{a:Math.round(h.r/2),b:Math.round(h.r-h.r/6),brushType:'fill',color:h.colorWhirl}});var l=new u({highlightStyle:{r:Math.round(h.r/6),brushType:'fill',color:h.colorIn}});var m=new s({highlightStyle:{r0:Math.round(h.r-h.r/3),r:h.r,brushType:'fill',color:h.colorOut}});var n=[0,h.x,h.y];k.highlightStyle.x=l.highlightStyle.x=m.highlightStyle.x=n[1];k.highlightStyle.y=l.highlightStyle.y=m.highlightStyle.y=n[2];return setInterval(function(){a(j);a(m);n[0]-=0.3;k.rotation=n;a(k);a(l);a(d);b()},h.timeInterval)};return Whirling});define('echarts/theme/macarons',[],function(){var a={color:['#2ec7c9','#b6a2de','#5ab1ef','#ffb980','#d87a80','#8d98b3','#e5cf0d','#97b552','#95706d','#dc69aa','#07a2a4','#9a7fd1','#588dd5','#f5994e','#c05050','#59678c','#c9ab00','#7eb00a','#6f5553','#c14089'],title:{textStyle:{fontWeight:'normal',color:'#008acd'}},dataRange:{itemWidth:15,color:['#5ab1ef','#e0ffff']},toolbox:{color:['#1e90ff','#1e90ff','#1e90ff','#1e90ff'],effectiveColor:'#ff4500'},tooltip:{backgroundColor:'rgba(50,50,50,0.5)',axisPointer:{type:'line',lineStyle:{color:'#008acd'},crossStyle:{color:'#008acd'},shadowStyle:{color:'rgba(200,200,200,0.2)'}}},dataZoom:{dataBackgroundColor:'#efefff',fillerColor:'rgba(182,162,222,0.2)',handleColor:'#008acd'},grid:{borderColor:'#eee'},categoryAxis:{axisLine:{lineStyle:{color:'#008acd'}},splitLine:{lineStyle:{color:['#eee']}}},valueAxis:{axisLine:{lineStyle:{color:'#008acd'}},splitArea:{show:true,areaStyle:{color:['rgba(250,250,250,0.1)','rgba(200,200,200,0.1)']}},splitLine:{lineStyle:{color:['#eee']}}},polar:{axisLine:{lineStyle:{color:'#ddd'}},splitArea:{show:true,areaStyle:{color:['rgba(250,250,250,0.2)','rgba(200,200,200,0.2)']}},splitLine:{lineStyle:{color:'#ddd'}}},timeline:{lineStyle:{color:'#008acd'},controlStyle:{normal:{color:'#008acd'},emphasis:{color:'#008acd'}},symbol:'emptyCircle',symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:true,symbol:'emptyCircle',symbolSize:3},k:{itemStyle:{normal:{color:'#d87a80',color0:'#2ec7c9',lineStyle:{color:'#d87a80',color0:'#2ec7c9'}}}},scatter:{symbol:'circle',symbolSize:4},radar:{symbol:'emptyCircle',symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:'#ddd'},label:{textStyle:{color:'#d87a80'}}},emphasis:{areaStyle:{color:'#fe994e'}}}},force:{itemStyle:{normal:{linkStyle:{color:'#1e90ff'}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:'rgba(128, 128, 128, 0.5)',chordStyle:{lineStyle:{color:'rgba(128, 128, 128, 0.5)'}}},emphasis:{borderWidth:1,borderColor:'rgba(128, 128, 128, 0.5)',chordStyle:{lineStyle:{color:'rgba(128, 128, 128, 0.5)'}}}}},gauge:{axisLine:{lineStyle:{color:[[0.2,'#2ec7c9'],[0.8,'#5ab1ef'],[1,'#d87a80']],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:'auto'}},splitLine:{length:22,lineStyle:{color:'auto'}},pointer:{width:5}},textStyle:{fontFamily:'微软雅黑, Arial, Verdana, sans-serif'}};return a});define('echarts/theme/infographic',[],function(){var a={color:['#C1232B','#B5C334','#FCCE10','#E87C25','#27727B','#FE8463','#9BCA63','#FAD860','#F3A43B','#60C0DD','#D7504B','#C6E579','#F4E001','#F0805A','#26C0C0'],title:{textStyle:{fontWeight:'normal',color:'#27727B'}},dataRange:{x:'right',y:'center',itemWidth:5,itemHeight:25,color:['#C1232B','#FCCE10']},toolbox:{color:['#C1232B','#B5C334','#FCCE10','#E87C25','#27727B','#FE8463','#9BCA63','#FAD860','#F3A43B','#60C0DD'],effectiveColor:'#ff4500'},tooltip:{backgroundColor:'rgba(50,50,50,0.5)',axisPointer:{type:'line',lineStyle:{color:'#27727B',type:'dashed'},crossStyle:{color:'#27727B'},shadowStyle:{color:'rgba(200,200,200,0.3)'}}},dataZoom:{dataBackgroundColor:'rgba(181,195,52,0.3)',fillerColor:'rgba(181,195,52,0.2)',handleColor:'#27727B'},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:'#27727B'}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:['#ccc'],type:'dashed'}}},polar:{axisLine:{lineStyle:{color:'#ddd'}},splitArea:{show:true,areaStyle:{color:['rgba(250,250,250,0.2)','rgba(200,200,200,0.2)']}},splitLine:{lineStyle:{color:'#ddd'}}},timeline:{lineStyle:{color:'#27727B'},controlStyle:{normal:{color:'#27727B'},emphasis:{color:'#27727B'}},symbol:'emptyCircle',symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:'#fff',lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:'circle',symbolSize:3.5},k:{itemStyle:{normal:{color:'#C1232B',color0:'#B5C334',lineStyle:{width:1,color:'#C1232B',color0:'#B5C334'}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:'rgba(200,200,200,0.5)'},emphasis:{borderWidth:0}},symbol:'star4',symbolSize:4},radar:{symbol:'emptyCircle',symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:'#ddd'},label:{textStyle:{color:'#C1232B'}}},emphasis:{areaStyle:{color:'#fe994e'},label:{textStyle:{color:'rgb(100,0,0)'}}}}},force:{itemStyle:{normal:{linkStyle:{color:'#27727B'}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:'rgba(128, 128, 128, 0.5)',chordStyle:{lineStyle:{color:'rgba(128, 128, 128, 0.5)'}}},emphasis:{borderWidth:1,borderColor:'rgba(128, 128, 128, 0.5)',chordStyle:{lineStyle:{color:'rgba(128, 128, 128, 0.5)'}}}}},gauge:{center:['50%','80%'],radius:'100%',startAngle:180,endAngle:0,axisLine:{show:true,lineStyle:{color:[[0.2,'#B5C334'],[0.8,'#27727B'],[1,'#C1232B']],width:'40%'}},axisTick:{splitNumber:2,length:5,lineStyle:{color:'#fff'}},axisLabel:{textStyle:{color:'#fff',fontWeight:'bolder'}},splitLine:{length:'5%',lineStyle:{color:'#fff'}},pointer:{width:'40%',length:'80%',color:'#fff'},title:{offsetCenter:[0,-20],textStyle:{color:'auto',fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:'auto',fontSize:40}}},textStyle:{fontFamily:'微软雅黑, Arial, Verdana, sans-serif'}};return a});define('zrender/dep/excanvas',['require'],function(be){if(!document.createElement('canvas').getContext){(function(){var m=Math;var M=m.round;var N=m.sin;var O=m.cos;var P=m.abs;var Q=m.sqrt;var Z=10;var R=Z/2;var S=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function getContext(){return this.context_||(this.context_=new CanvasRenderingContext2D_(this))}var T=Array.prototype.slice;function bind(f,b,c){var a=T.call(arguments,2);return function(){return f.apply(b,a.concat(T.call(arguments)))}}function encodeHtmlAttribute(s){return String(s).replace(/&/g,'&amp;').replace(/"/g,'&quot;')}function addNamespace(a,b,c){if(!a.namespaces[b]){a.namespaces.add(b,c,'#default#VML')}}function addNamespacesAndStylesheet(a){addNamespace(a,'g_vml_','urn:schemas-microsoft-com:vml');addNamespace(a,'g_o_','urn:schemas-microsoft-com:office:office');if(!a.styleSheets['ex_canvas_']){var b=a.createStyleSheet();b.owningElement.id='ex_canvas_';b.cssText='canvas{display:inline-block;overflow:hidden;'+'text-align:left;width:300px;height:150px}'}}addNamespacesAndStylesheet(document);var U={init:function(a){var b=a||document;b.createElement('canvas');b.attachEvent('onreadystatechange',bind(this.init_,this,b))},init_:function(a){var b=a.getElementsByTagName('canvas');for(var i=0;i<b.length;i++){this.initElement(b[i])}},initElement:function(a){if(!a.getContext){a.getContext=getContext;addNamespacesAndStylesheet(a.ownerDocument);a.innerHTML='';a.attachEvent('onpropertychange',onPropertyChange);a.attachEvent('onresize',onResize);var b=a.attributes;if(b.width&&b.width.specified){a.style.width=b.width.nodeValue+'px'}else{a.width=a.clientWidth}if(b.height&&b.height.specified){a.style.height=b.height.nodeValue+'px'}else{a.height=a.clientHeight}}return a}};function onPropertyChange(e){var a=e.srcElement;switch(e.propertyName){case'width':a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+'px';a.firstChild.style.width=a.clientWidth+'px';break;case'height':a.getContext().clearRect();a.style.height=a.attributes.height.nodeValue+'px';a.firstChild.style.height=a.clientHeight+'px';break}}function onResize(e){var a=e.srcElement;if(a.firstChild){a.firstChild.style.width=a.clientWidth+'px';a.firstChild.style.height=a.clientHeight+'px'}}U.init();var V=[];for(var i=0;i<16;i++){for(var j=0;j<16;j++){V[i*16+j]=i.toString(16)+j.toString(16)}}function createMatrixIdentity(){return[[1,0,0],[0,1,0],[0,0,1]]}function matrixMultiply(a,b){var c=createMatrixIdentity();for(var x=0;x<3;x++){for(var y=0;y<3;y++){var d=0;for(var z=0;z<3;z++){d+=a[x][z]*b[z][y]}c[x][y]=d}}return c}function copyState(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.scaleX_=a.scaleX_;b.scaleY_=a.scaleY_;b.lineScale_=a.lineScale_}var X={aliceblue:'#F0F8FF',antiquewhite:'#FAEBD7',aquamarine:'#7FFFD4',azure:'#F0FFFF',beige:'#F5F5DC',bisque:'#FFE4C4',black:'#000000',blanchedalmond:'#FFEBCD',blueviolet:'#8A2BE2',brown:'#A52A2A',burlywood:'#DEB887',cadetblue:'#5F9EA0',chartreuse:'#7FFF00',chocolate:'#D2691E',coral:'#FF7F50',cornflowerblue:'#6495ED',cornsilk:'#FFF8DC',crimson:'#DC143C',cyan:'#00FFFF',darkblue:'#00008B',darkcyan:'#008B8B',darkgoldenrod:'#B8860B',darkgray:'#A9A9A9',darkgreen:'#006400',darkgrey:'#A9A9A9',darkkhaki:'#BDB76B',darkmagenta:'#8B008B',darkolivegreen:'#556B2F',darkorange:'#FF8C00',darkorchid:'#9932CC',darkred:'#8B0000',darksalmon:'#E9967A',darkseagreen:'#8FBC8F',darkslateblue:'#483D8B',darkslategray:'#2F4F4F',darkslategrey:'#2F4F4F',darkturquoise:'#00CED1',darkviolet:'#9400D3',deeppink:'#FF1493',deepskyblue:'#00BFFF',dimgray:'#696969',dimgrey:'#696969',dodgerblue:'#1E90FF',firebrick:'#B22222',floralwhite:'#FFFAF0',forestgreen:'#228B22',gainsboro:'#DCDCDC',ghostwhite:'#F8F8FF',gold:'#FFD700',goldenrod:'#DAA520',grey:'#808080',greenyellow:'#ADFF2F',honeydew:'#F0FFF0',hotpink:'#FF69B4',indianred:'#CD5C5C',indigo:'#4B0082',ivory:'#FFFFF0',khaki:'#F0E68C',lavender:'#E6E6FA',lavenderblush:'#FFF0F5',lawngreen:'#7CFC00',lemonchiffon:'#FFFACD',lightblue:'#ADD8E6',lightcoral:'#F08080',lightcyan:'#E0FFFF',lightgoldenrodyellow:'#FAFAD2',lightgreen:'#90EE90',lightgrey:'#D3D3D3',lightpink:'#FFB6C1',lightsalmon:'#FFA07A',lightseagreen:'#20B2AA',lightskyblue:'#87CEFA',lightslategray:'#778899',lightslategrey:'#778899',lightsteelblue:'#B0C4DE',lightyellow:'#FFFFE0',limegreen:'#32CD32',linen:'#FAF0E6',magenta:'#FF00FF',mediumaquamarine:'#66CDAA',mediumblue:'#0000CD',mediumorchid:'#BA55D3',mediumpurple:'#9370DB',mediumseagreen:'#3CB371',mediumslateblue:'#7B68EE',mediumspringgreen:'#00FA9A',mediumturquoise:'#48D1CC',mediumvioletred:'#C71585',midnightblue:'#191970',mintcream:'#F5FFFA',mistyrose:'#FFE4E1',moccasin:'#FFE4B5',navajowhite:'#FFDEAD',oldlace:'#FDF5E6',olivedrab:'#6B8E23',orange:'#FFA500',orangered:'#FF4500',orchid:'#DA70D6',palegoldenrod:'#EEE8AA',palegreen:'#98FB98',paleturquoise:'#AFEEEE',palevioletred:'#DB7093',papayawhip:'#FFEFD5',peachpuff:'#FFDAB9',peru:'#CD853F',pink:'#FFC0CB',plum:'#DDA0DD',powderblue:'#B0E0E6',rosybrown:'#BC8F8F',royalblue:'#4169E1',saddlebrown:'#8B4513',salmon:'#FA8072',sandybrown:'#F4A460',seagreen:'#2E8B57',seashell:'#FFF5EE',sienna:'#A0522D',skyblue:'#87CEEB',slateblue:'#6A5ACD',slategray:'#708090',slategrey:'#708090',snow:'#FFFAFA',springgreen:'#00FF7F',steelblue:'#4682B4',tan:'#D2B48C',thistle:'#D8BFD8',tomato:'#FF6347',turquoise:'#40E0D0',violet:'#EE82EE',wheat:'#F5DEB3',whitesmoke:'#F5F5F5',yellowgreen:'#9ACD32'};function getRgbHslContent(a){var b=a.indexOf('(',3);var c=a.indexOf(')',b+1);var d=a.substring(b+1,c).split(',');if(d.length!=4||a.charAt(3)!='a'){d[3]=1}return d}function percent(s){return parseFloat(s)/100}function clamp(v,a,b){return Math.min(b,Math.max(a,v))}function hslToRgb(a){var r,g,b,h,s,l;h=parseFloat(a[0])/360%360;if(h<0)h++;s=clamp(percent(a[1]),0,1);l=clamp(percent(a[2]),0,1);if(s==0){r=g=b=l}else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hueToRgb(p,q,h+1/3);g=hueToRgb(p,q,h);b=hueToRgb(p,q,h-1/3)}return'#'+V[Math.floor(r*255)]+V[Math.floor(g*255)]+V[Math.floor(b*255)]}function hueToRgb(a,b,h){if(h<0)h++;if(h>1)h--;if(6*h<1)return a+(b-a)*6*h;else if(2*h<1)return b;else if(3*h<2)return a+(b-a)*(2/3-h)*6;else return a}var Y={};function processStyle(a){if(a in Y){return Y[a]}var b,alpha=1;a=String(a);if(a.charAt(0)=='#'){b=a}else if(/^rgb/.test(a)){var c=getRgbHslContent(a);var b='#',n;for(var i=0;i<3;i++){if(c[i].indexOf('%')!=-1){n=Math.floor(percent(c[i])*255)}else{n=+c[i]}b+=V[clamp(n,0,255)]}alpha=+c[3]}else if(/^hsl/.test(a)){var c=getRgbHslContent(a);b=hslToRgb(c);alpha=c[3]}else{b=X[a]||a}return Y[a]={color:b,alpha:alpha}}var bf={style:'normal',variant:'normal',weight:'normal',size:12,family:'微软雅黑'};var bg={};function processFontStyle(a){if(bg[a]){return bg[a]}var b=document.createElement('div');var c=b.style;var d;try{c.font=a;d=c.fontFamily.split(',')[0]}catch(ex){}return bg[a]={style:c.fontStyle||bf.style,variant:c.fontVariant||bf.variant,weight:c.fontWeight||bf.weight,size:c.fontSize||bf.size,family:d||bf.family}}function getComputedStyle(a,b){var c={};for(var p in a){c[p]=a[p]}var d=parseFloat(b.currentStyle.fontSize),fontSize=parseFloat(a.size);if(typeof a.size=='number'){c.size=a.size}else if(a.size.indexOf('px')!=-1){c.size=fontSize}else if(a.size.indexOf('em')!=-1){c.size=d*fontSize}else if(a.size.indexOf('%')!=-1){c.size=d/100*fontSize}else if(a.size.indexOf('pt')!=-1){c.size=fontSize/0.75}else{c.size=d}return c}function buildStyle(a){return a.style+' '+a.variant+' '+a.weight+' '+a.size+'px \''+a.family+'\''}var bh={'butt':'flat','round':'round'};function processLineCap(a){return bh[a]||'square'}function CanvasRenderingContext2D_(a){this.m_=createMatrixIdentity();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle='#000';this.fillStyle='#000';this.lineWidth=1;this.lineJoin='miter';this.lineCap='butt';this.miterLimit=Z*1;this.globalAlpha=1;this.font='12px 微软雅黑';this.textAlign='left';this.textBaseline='alphabetic';this.canvas=a;var b='width:'+a.clientWidth+'px;height:'+a.clientHeight+'px;overflow:hidden;position:absolute';var c=a.ownerDocument.createElement('div');c.style.cssText=b;a.appendChild(c);var d=c.cloneNode(false);d.style.backgroundColor='#fff';d.style.filter='alpha(opacity=0)';a.appendChild(d);this.element_=c;this.scaleX_=1;this.scaleY_=1;this.lineScale_=1}var bi=CanvasRenderingContext2D_.prototype;bi.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=''};bi.beginPath=function(){this.currentPath_=[]};bi.moveTo=function(a,b){var p=getCoords(this,a,b);this.currentPath_.push({type:'moveTo',x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y};bi.lineTo=function(a,b){var p=getCoords(this,a,b);this.currentPath_.push({type:'lineTo',x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y};bi.bezierCurveTo=function(a,b,c,d,e,f){var p=getCoords(this,e,f);var g=getCoords(this,a,b);var h=getCoords(this,c,d);bezierCurveTo(this,g,h,p)};function bezierCurveTo(a,b,c,p){a.currentPath_.push({type:'bezierCurveTo',cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:p.x,y:p.y});a.currentX_=p.x;a.currentY_=p.y}bi.quadraticCurveTo=function(a,b,c,d){var e=getCoords(this,a,b);var p=getCoords(this,c,d);var f={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)};var g={x:f.x+(p.x-this.currentX_)/3,y:f.y+(p.y-this.currentY_)/3};bezierCurveTo(this,f,g,p)};bi.arc=function(a,b,c,d,e,f){c*=Z;var g=f?'at':'wa';var h=a+O(d)*c-R;var i=b+N(d)*c-R;var j=a+O(e)*c-R;var k=b+N(e)*c-R;if(h==j&&!f){h+=0.125}var p=getCoords(this,a,b);var l=getCoords(this,h,i);var m=getCoords(this,j,k);this.currentPath_.push({type:g,x:p.x,y:p.y,radius:c,xStart:l.x,yStart:l.y,xEnd:m.x,yEnd:m.y})};bi.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};bi.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=e};bi.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=e};bi.createLinearGradient=function(a,b,c,d){var e=new CanvasGradient_('gradient');e.x0_=a;e.y0_=b;e.x1_=c;e.y1_=d;return e};bi.createRadialGradient=function(a,b,c,d,e,f){var g=new CanvasGradient_('gradientradial');g.x0_=a;g.y0_=b;g.r0_=c;g.x1_=d;g.y1_=e;g.r1_=f;return g};bi.drawImage=function(a,b){var c,dy,dw,dh,sx,sy,sw,sh;var e=a.runtimeStyle.width;var f=a.runtimeStyle.height;a.runtimeStyle.width='auto';a.runtimeStyle.height='auto';var w=a.width;var h=a.height;a.runtimeStyle.width=e;a.runtimeStyle.height=f;if(arguments.length==3){c=arguments[1];dy=arguments[2];sx=sy=0;sw=dw=w;sh=dh=h}else if(arguments.length==5){c=arguments[1];dy=arguments[2];dw=arguments[3];dh=arguments[4];sx=sy=0;sw=w;sh=h}else if(arguments.length==9){sx=arguments[1];sy=arguments[2];sw=arguments[3];sh=arguments[4];c=arguments[5];dy=arguments[6];dw=arguments[7];dh=arguments[8]}else{throw Error('Invalid number of arguments');}var d=getCoords(this,c,dy);var g=sw/2;var i=sh/2;var j=[];var W=10;var H=10;var k=n=1;j.push(' <g_vml_:group',' coordsize="',Z*W,',',Z*H,'"',' coordorigin="0,0"',' style="width:',W,'px;height:',H,'px;position:absolute;');if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var l=[];var k=this.scaleX_;var n=this.scaleY_;l.push('M11=',this.m_[0][0]/k,',','M12=',this.m_[1][0]/n,',','M21=',this.m_[0][1]/k,',','M22=',this.m_[1][1]/n,',','Dx=',M(d.x/Z),',','Dy=',M(d.y/Z),'');var o=d;var p=getCoords(this,c+dw,dy);var q=getCoords(this,c,dy+dh);var r=getCoords(this,c+dw,dy+dh);o.x=m.max(o.x,p.x,q.x,r.x);o.y=m.max(o.y,p.y,q.y,r.y);j.push('padding:0 ',M(o.x/Z),'px ',M(o.y/Z),'px 0;filter:progid:DXImageTransform.Microsoft.Matrix(',l.join(''),', SizingMethod=\'clip\');')}else{j.push('top:',M(d.y/Z),'px;left:',M(d.x/Z),'px;')}j.push(' ">');if(sx||sy){j.push('<div style="overflow: hidden; width:',Math.ceil((dw+sx*dw/sw)*k),'px;',' height:',Math.ceil((dh+sy*dh/sh)*n),'px;',' filter:progid:DxImageTransform.Microsoft.Matrix(Dx=',-sx*dw/sw*k,',Dy=',-sy*dh/sh*n,');">')}j.push('<div style="width:',Math.round(k*w*dw/sw),'px;',' height:',Math.round(n*h*dh/sh),'px;',' filter:');if(this.globalAlpha<1){j.push(' progid:DXImageTransform.Microsoft.Alpha(opacity='+this.globalAlpha*100+')')}j.push(' progid:DXImageTransform.Microsoft.AlphaImageLoader(src=',a.src,',sizingMethod=scale)">');if(sx||sy)j.push('</div>');j.push('</div></div>');this.element_.insertAdjacentHTML('BeforeEnd',j.join(''))};bi.stroke=function(a){var b=[];var d=false;var W=10;var H=10;b.push('<g_vml_:shape',' filled="',!!a,'"',' style="position:absolute;width:',W,'px;height:',H,'px;"',' coordorigin="0,0"',' coordsize="',Z*W,',',Z*H,'"',' stroked="',!a,'"',' path="');var e=false;var f={x:null,y:null};var g={x:null,y:null};for(var i=0;i<this.currentPath_.length;i++){var p=this.currentPath_[i];var c;switch(p.type){case'moveTo':c=p;b.push(' m ',M(p.x),',',M(p.y));break;case'lineTo':b.push(' l ',M(p.x),',',M(p.y));break;case'close':b.push(' x ');p=null;break;case'bezierCurveTo':b.push(' c ',M(p.cp1x),',',M(p.cp1y),',',M(p.cp2x),',',M(p.cp2y),',',M(p.x),',',M(p.y));break;case'at':case'wa':b.push(' ',p.type,' ',M(p.x-this.scaleX_*p.radius),',',M(p.y-this.scaleY_*p.radius),' ',M(p.x+this.scaleX_*p.radius),',',M(p.y+this.scaleY_*p.radius),' ',M(p.xStart),',',M(p.yStart),' ',M(p.xEnd),',',M(p.yEnd));break}if(p){if(f.x==null||p.x<f.x){f.x=p.x}if(g.x==null||p.x>g.x){g.x=p.x}if(f.y==null||p.y<f.y){f.y=p.y}if(g.y==null||p.y>g.y){g.y=p.y}}}b.push(' ">');if(!a){appendStroke(this,b)}else{appendFill(this,b,f,g)}b.push('</g_vml_:shape>');this.element_.insertAdjacentHTML('beforeEnd',b.join(''))};function appendStroke(b,c){var a=processStyle(b.strokeStyle);var d=a.color;var e=a.alpha*b.globalAlpha;var f=b.lineScale_*b.lineWidth;if(f<1){e*=f}c.push('<g_vml_:stroke',' opacity="',e,'"',' joinstyle="',b.lineJoin,'"',' miterlimit="',b.miterLimit,'"',' endcap="',processLineCap(b.lineCap),'"',' weight="',f,'px"',' color="',d,'" />')}function appendFill(c,d,e,f){var g=c.fillStyle;var h=c.scaleX_;var j=c.scaleY_;var k=f.x-e.x;var l=f.y-e.y;if(g instanceof CanvasGradient_){var n=0;var o={x:0,y:0};var p=0;var q=1;if(g.type_=='gradient'){var r=g.x0_/h;var s=g.y0_/j;var t=g.x1_/h;var u=g.y1_/j;var v=getCoords(c,r,s);var w=getCoords(c,t,u);var x=w.x-v.x;var y=w.y-v.y;n=Math.atan2(x,y)*180/Math.PI;if(n<0){n+=360}if(n<0.000001){n=0}}else{var v=getCoords(c,g.x0_,g.y0_);o={x:(v.x-e.x)/k,y:(v.y-e.y)/l};k/=h*Z;l/=j*Z;var z=m.max(k,l);p=2*g.r0_/z;q=2*g.r1_/z-p}var A=g.colors_;A.sort(function(a,b){return a.offset-b.offset});var B=A.length;var C=A[0].color;var D=A[B-1].color;var E=A[0].alpha*c.globalAlpha;var F=A[B-1].alpha*c.globalAlpha;var G=[];for(var i=0;i<B;i++){var H=A[i];G.push(H.offset*q+p+' '+H.color)}d.push('<g_vml_:fill type="',g.type_,'"',' method="none" focus="100%"',' color="',C,'"',' color2="',D,'"',' colors="',G.join(','),'"',' opacity="',F,'"',' g_o_:opacity2="',E,'"',' angle="',n,'"',' focusposition="',o.x,',',o.y,'" />')}else if(g instanceof CanvasPattern_){if(k&&l){var I=-e.x;var J=-e.y;d.push('<g_vml_:fill',' position="',I/k*h*h,',',J/l*j*j,'"',' type="tile"',' src="',g.src_,'" />')}}else{var a=processStyle(c.fillStyle);var K=a.color;var L=a.alpha*c.globalAlpha;d.push('<g_vml_:fill color="',K,'" opacity="',L,'" />')}}bi.fill=function(){this.stroke(true)};bi.closePath=function(){this.currentPath_.push({type:'close'})};function getCoords(a,b,c){var m=a.m_;return{x:Z*(b*m[0][0]+c*m[1][0]+m[2][0])-R,y:Z*(b*m[0][1]+c*m[1][1]+m[2][1])-R}};bi.save=function(){var o={};copyState(this,o);this.aStack_.push(o);this.mStack_.push(this.m_);this.m_=matrixMultiply(createMatrixIdentity(),this.m_)};bi.restore=function(){if(this.aStack_.length){copyState(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function matrixIsFinite(m){return isFinite(m[0][0])&&isFinite(m[0][1])&&isFinite(m[1][0])&&isFinite(m[1][1])&&isFinite(m[2][0])&&isFinite(m[2][1])}function setM(a,m,b){if(!matrixIsFinite(m)){return}a.m_=m;a.scaleX_=Math.sqrt(m[0][0]*m[0][0]+m[0][1]*m[0][1]);a.scaleY_=Math.sqrt(m[1][0]*m[1][0]+m[1][1]*m[1][1]);if(b){var c=m[0][0]*m[1][1]-m[0][1]*m[1][0];a.lineScale_=Q(P(c))}}bi.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];setM(this,matrixMultiply(c,this.m_),false)};bi.rotate=function(a){var c=O(a);var s=N(a);var b=[[c,s,0],[-s,c,0],[0,0,1]];setM(this,matrixMultiply(b,this.m_),false)};bi.scale=function(a,b){var c=[[a,0,0],[0,b,0],[0,0,1]];setM(this,matrixMultiply(c,this.m_),true)};bi.transform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];setM(this,matrixMultiply(g,this.m_),true)};bi.setTransform=function(a,b,c,d,e,f){var m=[[a,b,0],[c,d,0],[e,f,1]];setM(this,m,true)};bi.drawText_=function(a,x,y,b,c){var m=this.m_,delta=1000,left=0,right=delta,offset={x:0,y:0},lineStr=[];var e=getComputedStyle(processFontStyle(this.font),this.element_);var f=buildStyle(e);var g=this.element_.currentStyle;var h=this.textAlign.toLowerCase();switch(h){case'left':case'center':case'right':break;case'end':h=g.direction=='ltr'?'right':'left';break;case'start':h=g.direction=='rtl'?'right':'left';break;default:h='left'}switch(this.textBaseline){case'hanging':case'top':offset.y=e.size/1.75;break;case'middle':break;default:case null:case'alphabetic':case'ideographic':case'bottom':offset.y=-e.size/2.25;break}switch(h){case'right':left=delta;right=0.05;break;case'center':left=right=delta/2;break}var d=getCoords(this,x+offset.x,y+offset.y);lineStr.push('<g_vml_:line from="',-left,' 0" to="',right,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!c,'" stroked="',!!c,'" style="position:absolute;width:1px;height:1px;">');if(c){appendStroke(this,lineStr)}else{appendFill(this,lineStr,{x:-left,y:0},{x:right,y:e.size})}var i=m[0][0].toFixed(3)+','+m[1][0].toFixed(3)+','+m[0][1].toFixed(3)+','+m[1][1].toFixed(3)+',0,0';var j=M(d.x/Z)+','+M(d.y/Z);lineStr.push('<g_vml_:skew on="t" matrix="',i,'" ',' offset="',j,'" origin="',left,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',encodeHtmlAttribute(a),'" style="v-text-align:',h,';font:',encodeHtmlAttribute(f),'" /></g_vml_:line>');this.element_.insertAdjacentHTML('beforeEnd',lineStr.join(''))};bi.fillText=function(a,x,y,b){this.drawText_(a,x,y,b,false)};bi.strokeText=function(a,x,y,b){this.drawText_(a,x,y,b,true)};bi.measureText=function(a){if(!this.textMeasureEl_){var s='<span style="position:absolute;'+'top:-20000px;left:0;padding:0;margin:0;border:none;'+'white-space:pre;"></span>';this.element_.insertAdjacentHTML('beforeEnd',s);this.textMeasureEl_=this.element_.lastChild}var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML='';try{this.textMeasureEl_.style.font=this.font}catch(ex){}this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};bi.clip=function(){};bi.arcTo=function(){};bi.createPattern=function(a,b){return new CanvasPattern_(a,b)};function CanvasGradient_(a){this.type_=a;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}CanvasGradient_.prototype.addColorStop=function(a,b){b=processStyle(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};function CanvasPattern_(a,b){assertImageIsValid(a);switch(b){case'repeat':case null:case'':this.repetition_='repeat';break;case'repeat-x':case'repeat-y':case'no-repeat':this.repetition_=b;break;default:throwException('SYNTAX_ERR');}this.src_=a.src;this.width_=a.width;this.height_=a.height}function throwException(s){throw new DOMException_(s);}function assertImageIsValid(a){if(!a||a.nodeType!=1||a.tagName!='IMG'){throwException('TYPE_MISMATCH_ERR');}if(a.readyState!='complete'){throwException('INVALID_STATE_ERR');}}function DOMException_(s){this.code=this[s];this.message=s+': DOM Exception '+this.code}var p=DOMException_.prototype=new Error();p.INDEX_SIZE_ERR=1;p.DOMSTRING_SIZE_ERR=2;p.HIERARCHY_REQUEST_ERR=3;p.WRONG_DOCUMENT_ERR=4;p.INVALID_CHARACTER_ERR=5;p.NO_DATA_ALLOWED_ERR=6;p.NO_MODIFICATION_ALLOWED_ERR=7;p.NOT_FOUND_ERR=8;p.NOT_SUPPORTED_ERR=9;p.INUSE_ATTRIBUTE_ERR=10;p.INVALID_STATE_ERR=11;p.SYNTAX_ERR=12;p.INVALID_MODIFICATION_ERR=13;p.NAMESPACE_ERR=14;p.INVALID_ACCESS_ERR=15;p.VALIDATION_ERR=16;p.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=U;CanvasRenderingContext2D=CanvasRenderingContext2D_;CanvasGradient=CanvasGradient_;CanvasPattern=CanvasPattern_;DOMException=DOMException_}())}else{G_vmlCanvasManager=false}return G_vmlCanvasManager});define('zrender/mixin/Eventful',['require'],function(g){var h=function(){this._handlers={}};h.prototype.one=function(a,b,c){var d=this._handlers;if(!b||!a){return this}if(!d[a]){d[a]=[]}d[a].push({h:b,one:true,ctx:c||this});return this};h.prototype.bind=function(a,b,c){var d=this._handlers;if(!b||!a){return this}if(!d[a]){d[a]=[]}d[a].push({h:b,one:false,ctx:c||this});return this};h.prototype.unbind=function(a,b){var c=this._handlers;if(!a){this._handlers={};return this}if(b){if(c[a]){var d=[];for(var i=0,l=c[a].length;i<l;i++){if(c[a][i]['h']!=b){d.push(c[a][i])}}c[a]=d}if(c[a]&&c[a].length===0){delete c[a]}}else{delete c[a]}return this};h.prototype.dispatch=function(a){if(this._handlers[a]){var b=arguments;var c=b.length;if(c>3){b=Array.prototype.slice.call(b,1)}var d=this._handlers[a];var e=d.length;for(var i=0;i<e;){switch(c){case 1:d[i]['h'].call(d[i]['ctx']);break;case 2:d[i]['h'].call(d[i]['ctx'],b[1]);break;case 3:d[i]['h'].call(d[i]['ctx'],b[1],b[2]);break;default:d[i]['h'].apply(d[i]['ctx'],b);break}if(d[i]['one']){d.splice(i,1);e--}else{i++}}}return this};h.prototype.dispatchWithContext=function(a){if(this._handlers[a]){var b=arguments;var c=b.length;if(c>4){b=Array.prototype.slice.call(b,1,b.length-1)}var d=b[b.length-1];var e=this._handlers[a];var f=e.length;for(var i=0;i<f;){switch(c){case 1:e[i]['h'].call(d);break;case 2:e[i]['h'].call(d,b[1]);break;case 3:e[i]['h'].call(d,b[1],b[2]);break;default:e[i]['h'].apply(d,b);break}if(e[i]['one']){e.splice(i,1);f--}else{i++}}}return this};return h});define('zrender/tool/log',['require','../config'],function(a){var b=a('../config');return function(){if(b.debugMode===0){return}else if(b.debugMode==1){for(var k in arguments){throw new Error(arguments[k]);}}else if(b.debugMode>1){for(var k in arguments){console.log(arguments[k])}}}});define('zrender/tool/guid',[],function(){var a=2311;return function(){return'zrender__'+a++}});define('zrender/Handler',['require','./config','./tool/env','./tool/event','./tool/util','./tool/vector','./tool/matrix','./mixin/Eventful'],function(j){'use strict';var k=j('./config');var l=j('./tool/env');var m=j('./tool/event');var n=j('./tool/util');var o=j('./tool/vector');var q=j('./tool/matrix');var r=k.EVENT;var s=j('./mixin/Eventful');var t=['resize','click','dblclick','mousewheel','mousemove','mouseout','mouseup','mousedown','touchstart','touchend','touchmove'];var u={resize:function(a){a=a||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(r.RESIZE,a)},click:function(a){a=this._zrenderEventFixed(a);var b=this._lastHover;if(b&&b.clickable||!b){if(this._clickThreshold<5){this._dispatchAgency(b,r.CLICK,a)}}this._mousemoveHandler(a)},dblclick:function(a){a=a||window.event;a=this._zrenderEventFixed(a);var b=this._lastHover;if(b&&b.clickable||!b){if(this._clickThreshold<5){this._dispatchAgency(b,r.DBLCLICK,a)}}this._mousemoveHandler(a)},mousewheel:function(d){d=this._zrenderEventFixed(d);var e=d.wheelDelta||-d.detail;var f=e>0?1.1:1/1.1;var g=false;var h=this._mouseX;var i=this._mouseY;this.painter.eachBuildinLayer(function(a){var b=a.position;if(a.zoomable){a.__zoom=a.__zoom||1;var c=a.__zoom;c*=f;c=Math.max(Math.min(a.maxZoom,c),a.minZoom);f=c/a.__zoom;a.__zoom=c;b[0]-=(h-b[0])*(f-1);b[1]-=(i-b[1])*(f-1);a.scale[0]*=f;a.scale[1]*=f;a.dirty=true;g=true;m.stop(d)}});if(g){this.painter.refresh()}this._dispatchAgency(this._lastHover,r.MOUSEWHEEL,d);this._mousemoveHandler(d)},mousemove:function(b){if(this.painter.isLoading()){return}b=this._zrenderEventFixed(b);this._lastX=this._mouseX;this._lastY=this._mouseY;this._mouseX=m.getX(b);this._mouseY=m.getY(b);var c=this._mouseX-this._lastX;var d=this._mouseY-this._lastY;this._processDragStart(b);this._hasfound=0;this._event=b;this._iterateAndFindHover();if(!this._hasfound){if(!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget){this._processOutShape(b);this._processDragLeave(b)}this._lastHover=null;this.storage.delHover();this.painter.clearHover()}var e='default';if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,c,d);this._draggingTarget.modSelf();this.storage.addHover(this._draggingTarget);this._clickThreshold++}else if(this._isMouseDown){var f=false;this.painter.eachBuildinLayer(function(a){if(a.panable){e='move';a.position[0]+=c;a.position[1]+=d;f=true;a.dirty=true}});if(f){this.painter.refresh()}}if(this._draggingTarget||this._hasfound&&this._lastHover.draggable){e='move'}else if(this._hasfound&&this._lastHover.clickable){e='pointer'}this.root.style.cursor=e;this._dispatchAgency(this._lastHover,r.MOUSEMOVE,b);if(this._draggingTarget||this._hasfound||this.storage.hasHoverShape()){this.painter.refreshHover()}},mouseout:function(a){a=this._zrenderEventFixed(a);var b=a.toElement||a.relatedTarget;if(b!=this.root){while(b&&b.nodeType!=9){if(b==this.root){this._mousemoveHandler(a);return}b=b.parentNode}}a.zrenderX=this._lastX;a.zrenderY=this._lastY;this.root.style.cursor='default';this._isMouseDown=0;this._processOutShape(a);this._processDrop(a);this._processDragEnd(a);if(!this.painter.isLoading()){this.painter.refreshHover()}this.dispatch(r.GLOBALOUT,a)},mousedown:function(a){this._clickThreshold=0;if(this._lastDownButton==2){this._lastDownButton=a.button;this._mouseDownTarget=null;return}this._lastMouseDownMoment=new Date();a=this._zrenderEventFixed(a);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,r.MOUSEDOWN,a);this._lastDownButton=a.button},mouseup:function(a){a=this._zrenderEventFixed(a);this.root.style.cursor='default';this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,r.MOUSEUP,a);this._processDrop(a);this._processDragEnd(a)},touchstart:function(a){a=this._zrenderEventFixed(a,true);this._lastTouchMoment=new Date();this._mobileFindFixed(a);this._mousedownHandler(a)},touchmove:function(a){a=this._zrenderEventFixed(a,true);this._mousemoveHandler(a);if(this._isDragging){m.stop(a)}},touchend:function(a){a=this._zrenderEventFixed(a,true);this._mouseupHandler(a);var b=new Date();if(b-this._lastTouchMoment<r.touchClickDelay){this._mobileFindFixed(a);this._clickHandler(a);if(b-this._lastClickMoment<r.touchClickDelay/2){this._dblclickHandler(a);if(this._lastHover&&this._lastHover.clickable){m.stop(a)}}this._lastClickMoment=b}this.painter.clearHover()}};function bind1Arg(a,b){return function(e){return a.call(b,e)}}function bind3Arg(d,e){return function(a,b,c){return d.call(e,a,b,c)}}function initDomHandler(a){var b=t.length;while(b--){var c=t[b];a['_'+c+'Handler']=bind1Arg(u[c],a)}}var v=function(a,b,c){s.call(this);this.root=a;this.storage=b;this.painter=c;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=bind3Arg(findHover,this);this._domHover=c.getDomHover();initDomHandler(this);if(window.addEventListener){window.addEventListener('resize',this._resizeHandler);if(l.os.tablet||l.os.phone){a.addEventListener('touchstart',this._touchstartHandler);a.addEventListener('touchmove',this._touchmoveHandler);a.addEventListener('touchend',this._touchendHandler)}else{a.addEventListener('click',this._clickHandler);a.addEventListener('dblclick',this._dblclickHandler);a.addEventListener('mousewheel',this._mousewheelHandler);a.addEventListener('mousemove',this._mousemoveHandler);a.addEventListener('mousedown',this._mousedownHandler);a.addEventListener('mouseup',this._mouseupHandler)}a.addEventListener('DOMMouseScroll',this._mousewheelHandler);a.addEventListener('mouseout',this._mouseoutHandler)}else{window.attachEvent('onresize',this._resizeHandler);a.attachEvent('onclick',this._clickHandler);a.ondblclick=this._dblclickHandler;a.attachEvent('onmousewheel',this._mousewheelHandler);a.attachEvent('onmousemove',this._mousemoveHandler);a.attachEvent('onmouseout',this._mouseoutHandler);a.attachEvent('onmousedown',this._mousedownHandler);a.attachEvent('onmouseup',this._mouseupHandler)}};v.prototype.on=function(a,b,c){this.bind(a,b,c);return this};v.prototype.un=function(a,b){this.unbind(a,b);return this};v.prototype.trigger=function(a,b){switch(a){case r.RESIZE:case r.CLICK:case r.DBLCLICK:case r.MOUSEWHEEL:case r.MOUSEMOVE:case r.MOUSEDOWN:case r.MOUSEUP:case r.MOUSEOUT:this['_'+a+'Handler'](b);break}};v.prototype.dispose=function(){var a=this.root;if(window.removeEventListener){window.removeEventListener('resize',this._resizeHandler);if(l.os.tablet||l.os.phone){a.removeEventListener('touchstart',this._touchstartHandler);a.removeEventListener('touchmove',this._touchmoveHandler);a.removeEventListener('touchend',this._touchendHandler)}else{a.removeEventListener('click',this._clickHandler);a.removeEventListener('dblclick',this._dblclickHandler);a.removeEventListener('mousewheel',this._mousewheelHandler);a.removeEventListener('mousemove',this._mousemoveHandler);a.removeEventListener('mousedown',this._mousedownHandler);a.removeEventListener('mouseup',this._mouseupHandler)}a.removeEventListener('DOMMouseScroll',this._mousewheelHandler);a.removeEventListener('mouseout',this._mouseoutHandler)}else{window.detachEvent('onresize',this._resizeHandler);a.detachEvent('onclick',this._clickHandler);a.detachEvent('dblclick',this._dblclickHandler);a.detachEvent('onmousewheel',this._mousewheelHandler);a.detachEvent('onmousemove',this._mousemoveHandler);a.detachEvent('onmouseout',this._mouseoutHandler);a.detachEvent('onmousedown',this._mousedownHandler);a.detachEvent('onmouseup',this._mouseupHandler)}this.root=this._domHover=this.storage=this.painter=null;this.un()};v.prototype._processDragStart=function(a){var b=this._lastHover;if(this._isMouseDown&&b&&b.draggable&&!this._draggingTarget&&this._mouseDownTarget==b){if(b.dragEnableTime&&new Date()-this._lastMouseDownMoment<b.dragEnableTime){return}var c=b;this._draggingTarget=c;this._isDragging=1;c.invisible=true;this.storage.mod(c.id);this._dispatchAgency(c,r.DRAGSTART,a);this.painter.refresh()}};v.prototype._processDragEnter=function(a){if(this._draggingTarget){this._dispatchAgency(this._lastHover,r.DRAGENTER,a,this._draggingTarget)}};v.prototype._processDragOver=function(a){if(this._draggingTarget){this._dispatchAgency(this._lastHover,r.DRAGOVER,a,this._draggingTarget)}};v.prototype._processDragLeave=function(a){if(this._draggingTarget){this._dispatchAgency(this._lastHover,r.DRAGLEAVE,a,this._draggingTarget)}};v.prototype._processDrop=function(a){if(this._draggingTarget){this._draggingTarget.invisible=false;this.storage.mod(this._draggingTarget.id);this.painter.refresh();this._dispatchAgency(this._lastHover,r.DROP,a,this._draggingTarget)}};v.prototype._processDragEnd=function(a){if(this._draggingTarget){this._dispatchAgency(this._draggingTarget,r.DRAGEND,a);this._lastHover=null}this._isDragging=0;this._draggingTarget=null};v.prototype._processOverShape=function(a){this._dispatchAgency(this._lastHover,r.MOUSEOVER,a)};v.prototype._processOutShape=function(a){this._dispatchAgency(this._lastHover,r.MOUSEOUT,a)};v.prototype._dispatchAgency=function(b,c,d,e){var f='on'+c;var g={type:c,event:d,target:b,cancelBubble:false};var h=b;if(e){g.dragged=e}while(h){h[f]&&(g.cancelBubble=h[f](g));h.dispatch(c,g);h=h.parent;if(g.cancelBubble){break}}if(b){if(!g.cancelBubble){this.dispatch(c,g)}}else if(!e){var i={type:c,event:d};this.dispatch(c,i);this.painter.eachOtherLayer(function(a){if(typeof a[f]=='function'){a[f](i)}if(a.dispatch){a.dispatch(c,i)}})}};v.prototype._iterateAndFindHover=function(){var f=q.create();return function(){var a=this.storage.getShapeList();var b;var c;var d=[0,0];for(var i=a.length-1;i>=0;i--){var e=a[i];if(b!==e.zlevel){c=this.painter.getLayer(e.zlevel,c);d[0]=this._mouseX;d[1]=this._mouseY;if(c.needTransform){q.invert(f,c.transform);o.applyTransform(d,d,f)}}if(this._findHover(e,d[0],d[1])){break}}}}();var w=[{x:10},{x:-20},{x:10,y:10},{y:-20}];v.prototype._mobileFindFixed=function(a){this._lastHover=null;this._mouseX=a.zrenderX;this._mouseY=a.zrenderY;this._event=a;this._iterateAndFindHover();for(var i=0;!this._lastHover&&i<w.length;i++){var b=w[i];b.x&&(this._mouseX+=b.x);b.y&&(this._mouseY+=b.y);this._iterateAndFindHover()}if(this._lastHover){a.zrenderX=this._mouseX;a.zrenderY=this._mouseY}};function findHover(a,x,y){if(this._draggingTarget&&this._draggingTarget.id==a.id||a.isSilent()){return false}var b=this._event;if(a.isCover(x,y)){if(a.hoverable){this.storage.addHover(a)}var p=a.parent;while(p){if(p.clipShape&&!p.clipShape.isCover(this._mouseX,this._mouseY)){return false}p=p.parent}if(this._lastHover!=a){this._processOutShape(b);this._processDragLeave(b);this._lastHover=a;this._processDragEnter(b)}this._processOverShape(b);this._processDragOver(b);this._hasfound=1;return true}return false}v.prototype._zrenderEventFixed=function(a,b){if(a.zrenderFixed){return a}if(!b){a=a||window.event;var c=a.toElement||a.relatedTarget||a.srcElement||a.target;if(c&&c!=this._domHover){a.zrenderX=(typeof a.offsetX!='undefined'?a.offsetX:a.layerX)+c.offsetLeft;a.zrenderY=(typeof a.offsetY!='undefined'?a.offsetY:a.layerY)+c.offsetTop}}else{var d=a.type!='touchend'?a.targetTouches[0]:a.changedTouches[0];if(d){var e=this.painter._domRoot.getBoundingClientRect();a.zrenderX=d.clientX-e.left;a.zrenderY=d.clientY-e.top}}a.zrenderFixed=1;return a};n.merge(v.prototype,s.prototype,true);return v});define('zrender/Painter',['require','./config','./tool/util','./tool/log','./loadingEffect/Base','./Layer','./shape/Image'],function(k){'use strict';var m=k('./config');var n=k('./tool/util');var o=k('./tool/log');var p=k('./loadingEffect/Base');var q=k('./Layer');function returnFalse(){return false}function doNothing(){}function isLayerValid(a){if(!a){return false}if(a.isBuildin){return true}if(typeof a.resize!=='function'||typeof a.refresh!=='function'){return false}return true}var r=function(a,b){this.root=a;a.style['-webkit-tap-highlight-color']='transparent';a.style['-webkit-user-select']='none';a.style['user-select']='none';a.style['-webkit-touch-callout']='none';this.storage=b;a.innerHTML='';this._width=this._getWidth();this._height=this._getHeight();var c=document.createElement('div');this._domRoot=c;c.style.position='relative';c.style.overflow='hidden';c.style.width=this._width+'px';c.style.height=this._height+'px';a.appendChild(c);this._layers={};this._zlevelList=[];this._layerConfig={};this._loadingEffect=new p({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=document.createElement('div');this._bgDom.style.cssText=['position:absolute;left:0px;top:0px;width:',this._width,'px;height:',this._height+'px;','-webkit-user-select:none;user-select;none;','-webkit-touch-callout:none;'].join('');this._bgDom.setAttribute('data-zr-dom-id','bg');c.appendChild(this._bgDom);this._bgDom.onselectstart=returnFalse;var d=new q('_zrender_hover_',this);this._layers['hover']=d;c.appendChild(d.dom);d.initContext();d.dom.onselectstart=returnFalse;d.dom.style['-webkit-user-select']='none';d.dom.style['user-select']='none';d.dom.style['-webkit-touch-callout']='none';this.refreshNextFrame=null};r.prototype.render=function(a){if(this.isLoading()){this.hideLoading()}this.refresh(a,true);return this};r.prototype.refresh=function(a,b){var c=this.storage.getShapeList(true);this._paintList(c,b);for(var i=0;i<this._zlevelList.length;i++){var z=this._zlevelList[i];var d=this._layers[z];if(!d.isBuildin&&d.refresh){d.refresh()}}if(typeof a=='function'){a()}return this};r.prototype._preProcessLayer=function(a){a.unusedCount++;a.updateTransform()};r.prototype._postProcessLayer=function(a){a.dirty=false;if(a.unusedCount==1){a.clear()}};r.prototype._paintList=function(a,b){if(typeof b=='undefined'){b=false}this._updateLayerStatus(a);var c;var d;var e;this.eachBuildinLayer(this._preProcessLayer);for(var i=0,l=a.length;i<l;i++){var f=a[i];if(d!==f.zlevel){if(c){if(c.needTransform){e.restore()}e.flush&&e.flush()}d=f.zlevel;c=this.getLayer(d);if(!c.isBuildin){o('ZLevel '+d+' has been used by unkown layer '+c.id)}e=c.ctx;c.unusedCount=0;if(c.dirty||b){c.clear()}if(c.needTransform){e.save();c.setTransform(e)}}if((c.dirty||b)&&!f.invisible){if(!f.onbrush||f.onbrush&&!f.onbrush(e,false)){if(m.catchBrushException){try{f.brush(e,false,this.refreshNextFrame)}catch(error){o(error,'brush error of '+f.type,f)}}else{f.brush(e,false,this.refreshNextFrame)}}}f.__dirty=false}if(c){if(c.needTransform){e.restore()}e.flush&&e.flush()}this.eachBuildinLayer(this._postProcessLayer)};r.prototype.getLayer=function(a){var b=this._layers[a];if(!b){b=new q(a,this);b.isBuildin=true;if(this._layerConfig[a]){n.merge(b,this._layerConfig[a],true)}b.updateTransform();this.insertLayer(a,b);b.initContext()}return b};r.prototype.insertLayer=function(a,b){if(this._layers[a]){o('ZLevel '+a+' has been used already');return}if(!isLayerValid(b)){o('Layer of zlevel '+a+' is not valid');return}var c=this._zlevelList.length;var d=null;var i=-1;if(c>0&&a>this._zlevelList[0]){for(i=0;i<c-1;i++){if(this._zlevelList[i]<a&&this._zlevelList[i+1]>a){break}}d=this._layers[this._zlevelList[i]]}this._zlevelList.splice(i+1,0,a);var e=d?d.dom:this._bgDom;if(e.nextSibling){e.parentNode.insertBefore(b.dom,e.nextSibling)}else{e.parentNode.appendChild(b.dom)}this._layers[a]=b};r.prototype.eachLayer=function(a,b){for(var i=0;i<this._zlevelList.length;i++){var z=this._zlevelList[i];a.call(b,this._layers[z],z)}};r.prototype.eachBuildinLayer=function(a,b){for(var i=0;i<this._zlevelList.length;i++){var z=this._zlevelList[i];var c=this._layers[z];if(c.isBuildin){a.call(b,c,z)}}};r.prototype.eachOtherLayer=function(a,b){for(var i=0;i<this._zlevelList.length;i++){var z=this._zlevelList[i];var c=this._layers[z];if(!c.isBuildin){a.call(b,c,z)}}};r.prototype.getLayers=function(){return this._layers};r.prototype._updateLayerStatus=function(b){var c=this._layers;var d={};this.eachBuildinLayer(function(a,z){d[z]=a.elCount;a.elCount=0});for(var i=0,l=b.length;i<l;i++){var e=b[i];var f=e.zlevel;var g=c[f];if(g){g.elCount++;if(g.dirty){continue}g.dirty=e.__dirty}}this.eachBuildinLayer(function(a,z){if(d[z]!==a.elCount){a.dirty=true}})};r.prototype.refreshShapes=function(a,b){for(var i=0,l=a.length;i<l;i++){var c=a[i];c.modSelf()}this.refresh(b);return this};r.prototype.setLoadingEffect=function(a){this._loadingEffect=a;return this};r.prototype.clear=function(){this.eachBuildinLayer(this._clearLayer);return this};r.prototype._clearLayer=function(a){a.clear()};r.prototype.modLayer=function(a,b){if(b){if(!this._layerConfig[a]){this._layerConfig[a]=b}else{n.merge(this._layerConfig[a],b,true)}var c=this._layers[a];if(c){n.merge(c,this._layerConfig[a],true)}}};r.prototype.delLayer=function(a){var b=this._layers[a];if(!b){return}this.modLayer(a,{position:b.position,rotation:b.rotation,scale:b.scale});b.dom.parentNode.removeChild(b.dom);delete this._layers[a];this._zlevelList.splice(n.indexOf(this._zlevelList,a),1)};r.prototype.refreshHover=function(){this.clearHover();var a=this.storage.getHoverShapes(true);for(var i=0,l=a.length;i<l;i++){this._brushHover(a[i])}var b=this._layers.hover.ctx;b.flush&&b.flush();this.storage.delHover();return this};r.prototype.clearHover=function(){var a=this._layers.hover;a&&a.clear();return this};r.prototype.showLoading=function(a){this._loadingEffect&&this._loadingEffect.stop();a&&this.setLoadingEffect(a);this._loadingEffect.start(this);this.loading=true;return this};r.prototype.hideLoading=function(){this._loadingEffect.stop();this.clearHover();this.loading=false;return this};r.prototype.isLoading=function(){return this.loading};r.prototype.resize=function(){var a=this._domRoot;a.style.display='none';var b=this._getWidth();var c=this._getHeight();a.style.display='';if(this._width!=b||c!=this._height){this._width=b;this._height=c;a.style.width=b+'px';a.style.height=c+'px';for(var d in this._layers){this._layers[d].resize(b,c)}this.refresh(null,true)}return this};r.prototype.clearLayer=function(a){var b=this._layers[a];if(b){b.clear()}};r.prototype.dispose=function(){if(this.isLoading()){this.hideLoading()}this.root.innerHTML='';this.root=this.storage=this._domRoot=this._layers=null};r.prototype.getDomHover=function(){return this._layers.hover.dom};r.prototype.toDataURL=function(b,c,d){if(window['G_vmlCanvasManager']){return null}var e=new q('image',this);this._bgDom.appendChild(e.dom);e.initContext();var f=e.ctx;e.clearColor=c||'#fff';e.clear();var g=this;this.storage.iterShape(function(a){if(!a.invisible){if(!a.onbrush||a.onbrush&&!a.onbrush(f,false)){if(m.catchBrushException){try{a.brush(f,false,g.refreshNextFrame)}catch(error){o(error,'brush error of '+a.type,a)}}else{a.brush(f,false,g.refreshNextFrame)}}}},{normal:'up',update:true});var h=e.dom.toDataURL(b,d);f=null;this._bgDom.removeChild(e.dom);return h};r.prototype.getWidth=function(){return this._width};r.prototype.getHeight=function(){return this._height};r.prototype._getWidth=function(){var a=this.root;var b=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)).toFixed(0)-0};r.prototype._getHeight=function(){var a=this.root;var b=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)).toFixed(0)-0};r.prototype._brushHover=function(a){var b=this._layers.hover.ctx;if(!a.onbrush||a.onbrush&&!a.onbrush(b,true)){var c=this.getLayer(a.zlevel);if(c.needTransform){b.save();c.setTransform(b)}if(m.catchBrushException){try{a.brush(b,true,this.refreshNextFrame)}catch(error){o(error,'hoverBrush error of '+a.type,a)}}else{a.brush(b,true,this.refreshNextFrame)}if(c.needTransform){b.restore()}}};r.prototype._shapeToImage=function(a,b,c,d,e){var f=document.createElement('canvas');var g=f.getContext('2d');f.style.width=c+'px';f.style.height=d+'px';f.setAttribute('width',c*e);f.setAttribute('height',d*e);g.clearRect(0,0,c*e,d*e);var h={position:b.position,rotation:b.rotation,scale:b.scale};b.position=[0,0,0];b.rotation=0;b.scale=[1,1];if(b){b.brush(g,false)}var i=k('./shape/Image');var j=new i({id:a,style:{x:0,y:0,image:f}});if(h.position!=null){j.position=b.position=h.position}if(h.rotation!=null){j.rotation=b.rotation=h.rotation}if(h.scale!=null){j.scale=b.scale=h.scale}return j};r.prototype._createShapeToImageProcessor=function(){if(window['G_vmlCanvasManager']){return doNothing}var d=this;return function(a,e,b,c){return d._shapeToImage(a,e,b,c,m.devicePixelRatio)}};return r});define('zrender/Storage',['require','./tool/util','./Group'],function(e){'use strict';var f=e('./tool/util');var g=e('./Group');var h={hover:false,normal:'down',update:false};function shapeCompareFunc(a,b){if(a.zlevel==b.zlevel){if(a.z==b.z){return a.__renderidx-b.__renderidx}return a.z-b.z}return a.zlevel-b.zlevel}var m=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};m.prototype.iterShape=function(a,b){if(!b){b=h}if(b.hover){for(var i=0,l=this._hoverElements.length;i<l;i++){var c=this._hoverElements[i];c.updateTransform();if(a(c)){return this}}}if(b.update){this.updateShapeList()}switch(b.normal){case'down':var l=this._shapeList.length;while(l--){if(a(this._shapeList[l])){return this}}break;default:for(var i=0,l=this._shapeList.length;i<l;i++){if(a(this._shapeList[i])){return this}}break}return this};m.prototype.getHoverShapes=function(a){var b=[];for(var i=0,l=this._hoverElements.length;i<l;i++){b.push(this._hoverElements[i]);var c=this._hoverElements[i].hoverConnect;if(c){var d;c=c instanceof Array?c:[c];for(var j=0,k=c.length;j<k;j++){d=c[j].id?c[j]:this.get(c[j]);if(d){b.push(d)}}}}b.sort(shapeCompareFunc);if(a){for(var i=0,l=b.length;i<l;i++){b[i].updateTransform()}}return b};m.prototype.getShapeList=function(a){if(a){this.updateShapeList()}return this._shapeList};m.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var i=0,len=this._roots.length;i<len;i++){var a=this._roots[i];this._updateAndAddShape(a)}this._shapeList.length=this._shapeListOffset;for(var i=0,len=this._shapeList.length;i<len;i++){this._shapeList[i].__renderidx=i}this._shapeList.sort(shapeCompareFunc)};m.prototype._updateAndAddShape=function(a,b){if(a.ignore){return}a.updateTransform();if(a.clipShape){a.clipShape.parent=a;a.clipShape.updateTransform();if(b){b=b.slice();b.push(a.clipShape)}else{b=[a.clipShape]}}if(a.type=='group'){for(var i=0;i<a._children.length;i++){var c=a._children[i];c.__dirty=a.__dirty||c.__dirty;this._updateAndAddShape(c,b)}a.__dirty=false}else{a.__clipShapes=b;this._shapeList[this._shapeListOffset++]=a}};m.prototype.mod=function(a,b){if(typeof a==='string'){a=this._elements[a]}if(a){a.modSelf();if(b){if(b.parent||b._storage||b.__clipShapes){var c={};for(var d in b){if(d==='parent'||d==='_storage'||d==='__clipShapes'){continue}if(b.hasOwnProperty(d)){c[d]=b[d]}}f.merge(a,c,true)}else{f.merge(a,b,true)}}}return this};m.prototype.drift=function(a,b,c){var d=this._elements[a];if(d){d.needTransform=true;if(d.draggable==='horizontal'){c=0}else if(d.draggable==='vertical'){b=0}if(!d.ondrift||d.ondrift&&!d.ondrift(b,c)){d.drift(b,c)}}return this};m.prototype.addHover=function(a){a.updateNeedTransform();this._hoverElements.push(a);return this};m.prototype.delHover=function(){this._hoverElements=[];return this};m.prototype.hasHoverShape=function(){return this._hoverElements.length>0};m.prototype.addRoot=function(a){if(this._elements[a.id]){return}if(a instanceof g){a.addChildrenToStorage(this)}this.addToMap(a);this._roots.push(a)};m.prototype.delRoot=function(a){if(typeof a=='undefined'){for(var i=0;i<this._roots.length;i++){var b=this._roots[i];if(b instanceof g){b.delChildrenFromStorage(this)}}this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0;return}if(a instanceof Array){for(var i=0,l=a.length;i<l;i++){this.delRoot(a[i])}return}var c;if(typeof a=='string'){c=this._elements[a]}else{c=a}var d=f.indexOf(this._roots,c);if(d>=0){this.delFromMap(c.id);this._roots.splice(d,1);if(c instanceof g){c.delChildrenFromStorage(this)}}};m.prototype.addToMap=function(a){if(a instanceof g){a._storage=this}a.modSelf();this._elements[a.id]=a;return this};m.prototype.get=function(a){return this._elements[a]};m.prototype.delFromMap=function(a){var b=this._elements[a];if(b){delete this._elements[a];if(b instanceof g){b._storage=null}}return this};m.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null};return m});define('zrender/animation/Animation',['require','./Clip','../tool/color','../tool/util','../tool/event'],function(J){'use strict';var K=J('./Clip');var L=J('../tool/color');var M=J('../tool/util');var N=J('../tool/event').Dispatcher;var O=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)};var P=Array.prototype.slice;var Q=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=false;this._time=0;N.call(this)};Q.prototype={add:function(a){this._clips.push(a)},remove:function(a){var b=M.indexOf(this._clips,a);if(b>=0){this._clips.splice(b,1)}},_update:function(){var a=new Date().getTime();var b=a-this._time;var c=this._clips;var d=c.length;var f=[];var g=[];for(var i=0;i<d;i++){var h=c[i];var e=h.step(a);if(e){f.push(e);g.push(h)}}for(var i=0;i<d;){if(c[i]._needsRemove){c[i]=c[d-1];c.pop();d--}else{i++}}d=f.length;for(var i=0;i<d;i++){g[i].fire(f[i])}this._time=a;this.onframe(b);this.dispatch('frame',b);if(this.stage.update){this.stage.update()}},start:function(){var a=this;this._running=true;function step(){if(a._running){O(step);a._update()}}this._time=new Date().getTime();O(step)},stop:function(){this._running=false},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new R(a,b.loop,b.getter,b.setter);c.animation=this;return c},constructor:Q};M.merge(Q.prototype,N.prototype,true);function _defaultGetter(a,b){return a[b]}function _defaultSetter(a,b,c){a[b]=c}function _interpolateNumber(a,b,c){return(b-a)*c+a}function _interpolateArray(a,b,c,d,e){var f=a.length;if(e==1){for(var i=0;i<f;i++){d[i]=_interpolateNumber(a[i],b[i],c)}}else{var g=a[0].length;for(var i=0;i<f;i++){for(var j=0;j<g;j++){d[i][j]=_interpolateNumber(a[i][j],b[i][j],c)}}}}function _isArrayLike(a){switch(typeof a){case'undefined':case'string':return false}return typeof a.length!=='undefined'}function _catmullRomInterpolateArray(a,b,c,d,t,e,f,g,h){var k=a.length;if(h==1){for(var i=0;i<k;i++){g[i]=_catmullRomInterpolate(a[i],b[i],c[i],d[i],t,e,f)}}else{var l=a[0].length;for(var i=0;i<k;i++){for(var j=0;j<l;j++){g[i][j]=_catmullRomInterpolate(a[i][j],b[i][j],c[i][j],d[i][j],t,e,f)}}}}function _catmullRomInterpolate(a,b,c,d,t,e,f){var g=(c-a)*0.5;var h=(d-b)*0.5;return(2*(b-c)+g+h)*f+(-3*(b-c)-2*g-h)*e+g*t+b}function _cloneValue(a){if(_isArrayLike(a)){var b=a.length;if(_isArrayLike(a[0])){var c=[];for(var i=0;i<b;i++){c.push(P.call(a[i]))}return c}else{return P.call(a)}}else{return a}}function rgba2String(a){a[0]=Math.floor(a[0]);a[1]=Math.floor(a[1]);a[2]=Math.floor(a[2]);return'rgba('+a.join(',')+')'}var R=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||false;this._getter=c||_defaultGetter;this._setter=d||_defaultSetter;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};R.prototype={when:function(a,b){for(var c in b){if(!this._tracks[c]){this._tracks[c]=[];if(a!==0){this._tracks[c].push({time:0,value:_cloneValue(this._getter(this._target,c))})}}this._tracks[c].push({time:parseInt(a,10),value:b[c]})}return this},during:function(a){this._onframeList.push(a);return this},start:function(B){var C=this;var D=this._setter;var E=this._getter;var F=B==='spline';var G=function(){C._clipCount--;if(C._clipCount===0){C._tracks={};var a=C._doneList.length;for(var i=0;i<a;i++){C._doneList[i].call(C)}}};var H=function(e,f){var g=e.length;if(!g){return}var h=e[0].value;var j=_isArrayLike(h);var k=false;var l=j&&_isArrayLike(h[0])?2:1;e.sort(function(a,b){return a.time-b.time});var m;if(g){m=e[g-1].time}else{return}var n=[];var o=[];for(var i=0;i<g;i++){n.push(e[i].time/m);var p=e[i].value;if(typeof p=='string'){p=L.toArray(p);if(p.length===0){p[0]=p[1]=p[2]=0;p[3]=1}k=true}o.push(p)}var q=0;var r=0;var s;var i;var w;var t;var u;var v;var x;if(k){var y=[0,0,0,0]}var z=function(a,b){if(b<r){s=Math.min(q+1,g-1);for(i=s;i>=0;i--){if(n[i]<=b){break}}i=Math.min(i,g-2)}else{for(i=q;i<g;i++){if(n[i]>b){break}}i=Math.min(i-1,g-2)}q=i;r=b;var c=n[i+1]-n[i];if(c===0){return}else{w=(b-n[i])/c}if(F){u=o[i];t=o[i===0?i:i-1];v=o[i>g-2?g-1:i+1];x=o[i>g-3?g-1:i+2];if(j){_catmullRomInterpolateArray(t,u,v,x,w,w*w,w*w*w,E(a,f),l)}else{var d;if(k){d=_catmullRomInterpolateArray(t,u,v,x,w,w*w,w*w*w,y,1);d=rgba2String(y)}else{d=_catmullRomInterpolate(t,u,v,x,w,w*w,w*w*w)}D(a,f,d)}}else{if(j){_interpolateArray(o[i],o[i+1],w,E(a,f),l)}else{var d;if(k){_interpolateArray(o[i],o[i+1],w,y,1);d=rgba2String(y)}else{d=_interpolateNumber(o[i],o[i+1],w)}D(a,f,d)}}for(i=0;i<C._onframeList.length;i++){C._onframeList[i](a,b)}};var A=new K({target:C._target,life:m,loop:C._loop,delay:C._delay,onframe:z,ondestroy:G});if(B&&B!=='spline'){A.easing=B}C._clipList.push(A);C._clipCount++;C.animation.add(A)};for(var I in this._tracks){H(this._tracks[I],I)}return this},stop:function(){for(var i=0;i<this._clipList.length;i++){var a=this._clipList[i];this.animation.remove(a)}this._clipList=[]},delay:function(a){this._delay=a;return this},done:function(a){if(a){this._doneList.push(a)}return this}};return Q});define('zrender/tool/vector',[],function(){var e=typeof Float32Array==='undefined'?Array:Float32Array;var f={create:function(x,y){var a=new e(2);a[0]=x||0;a[1]=y||0;return a},copy:function(a,v){a[0]=v[0];a[1]=v[1];return a},clone:function(v){var a=new e(2);a[0]=v[0];a[1]=v[1];return a},set:function(c,a,b){c[0]=a;c[1]=b;return c},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a},scaleAndAdd:function(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;return b},sub:function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a},len:function(v){return Math.sqrt(this.lenSquare(v))},lenSquare:function(v){return v[0]*v[0]+v[1]*v[1]},mul:function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a},div:function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:function(a,v,s){a[0]=v[0]*s;a[1]=v[1]*s;return a},normalize:function(a,v){var d=f.len(v);if(d===0){a[0]=0;a[1]=0}else{a[0]=v[0]/d;a[1]=v[1]/d}return a},distance:function(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))},distanceSquare:function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])},negate:function(a,v){a[0]=-v[0];a[1]=-v[1];return a},lerp:function(a,b,c,t){a[0]=b[0]+t*(c[0]-b[0]);a[1]=b[1]+t*(c[1]-b[1]);return a},applyTransform:function(a,v,m){var x=v[0];var y=v[1];a[0]=m[0]*x+m[2]*y+m[4];a[1]=m[1]*x+m[3]*y+m[5];return a},min:function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a},max:function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}};f.length=f.len;f.lengthSquare=f.lenSquare;f.dist=f.distance;f.distSquare=f.distanceSquare;return f});define('zrender/tool/matrix',[],function(){var l=typeof Float32Array==='undefined'?Array:Float32Array;var n={create:function(){var a=new l(6);n.identity(a);return a},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},copy:function(a,m){a[0]=m[0];a[1]=m[1];a[2]=m[2];a[3]=m[3];a[4]=m[4];a[5]=m[5];return a},mul:function(a,b,c){a[0]=b[0]*c[0]+b[2]*c[1];a[1]=b[1]*c[0]+b[3]*c[1];a[2]=b[0]*c[2]+b[2]*c[3];a[3]=b[1]*c[2]+b[3]*c[3];a[4]=b[0]*c[4]+b[2]*c[5]+b[4];a[5]=b[1]*c[4]+b[3]*c[5]+b[5];return a},translate:function(b,a,v){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4]+v[0];b[5]=a[5]+v[1];return b},rotate:function(b,a,c){var d=a[0];var e=a[2];var f=a[4];var g=a[1];var h=a[3];var i=a[5];var j=Math.sin(c);var k=Math.cos(c);b[0]=d*k+g*j;b[1]=-d*j+g*k;b[2]=e*k+h*j;b[3]=-e*j+k*h;b[4]=k*f+j*i;b[5]=k*i-j*f;return b},scale:function(b,a,v){var c=v[0];var d=v[1];b[0]=a[0]*c;b[1]=a[1]*d;b[2]=a[2]*c;b[3]=a[3]*d;b[4]=a[4]*c;b[5]=a[5]*d;return b},invert:function(b,a){var c=a[0];var d=a[2];var e=a[4];var f=a[1];var g=a[3];var h=a[5];var i=c*g-f*d;if(!i){return null}i=1/i;b[0]=g*i;b[1]=-f*i;b[2]=-d*i;b[3]=c*i;b[4]=(d*h-g*e)*i;b[5]=(f*e-c*h)*i;return b}};return n});define('zrender/loadingEffect/Base',['require','../tool/util','../shape/Text','../shape/Rectangle'],function(d){var e=d('../tool/util');var f=d('../shape/Text');var g=d('../shape/Rectangle');var h='Loading...';var i='normal 16px Arial';function Base(a){this.setOptions(a)}Base.prototype.createTextShape=function(a){return new f({highlightStyle:e.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:h,textAlign:'center',textBaseline:'middle',textFont:i,color:'#333',brushType:'fill'},a,true)})};Base.prototype.createBackgroundShape=function(a){return new g({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:'fill',color:a}})};Base.prototype.start=function(b){this.canvasWidth=b._width;this.canvasHeight=b._height;function addShapeHandle(a){b.storage.addHover(a)}function refreshHandle(){b.refreshHover()}this.loadingTimer=this._start(addShapeHandle,refreshHandle)};Base.prototype._start=function(){return setInterval(function(){},10000)};Base.prototype.stop=function(){clearInterval(this.loadingTimer)};Base.prototype.setOptions=function(a){this.options=a||{}};Base.prototype.adjust=function(a,b){if(a<=b[0]){a=b[0]}else if(a>=b[1]){a=b[1]}return a};Base.prototype.getLocation=function(a,b,c){var x=a.x!=null?a.x:'center';switch(x){case'center':x=Math.floor((this.canvasWidth-b)/2);break;case'left':x=0;break;case'right':x=this.canvasWidth-b;break}var y=a.y!=null?a.y:'center';switch(y){case'center':y=Math.floor((this.canvasHeight-c)/2);break;case'top':y=0;break;case'bottom':y=this.canvasHeight-c;break}return{x:x,y:y,width:b,height:c}};return Base});define('zrender/Layer',['require','./mixin/Transformable','./tool/util','./config'],function(j){var k=j('./mixin/Transformable');var l=j('./tool/util');var m=window['G_vmlCanvasManager'];var n=j('./config');function returnFalse(){return false}function createDom(a,b,c){var d=document.createElement(b);var e=c.getWidth();var f=c.getHeight();d.style.position='absolute';d.style.left=0;d.style.top=0;d.style.width=e+'px';d.style.height=f+'px';d.width=e*n.devicePixelRatio;d.height=f*n.devicePixelRatio;d.setAttribute('data-zr-dom-id',a);return d}var o=function(a,b){this.id=a;this.dom=createDom(a,'canvas',b);this.dom.onselectstart=returnFalse;this.dom.style['-webkit-user-select']='none';this.dom.style['user-select']='none';this.dom.style['-webkit-touch-callout']='none';this.dom.style['-webkit-tap-highlight-color']='rgba(0,0,0,0)';m&&m.initElement(this.dom);this.domBack=null;this.ctxBack=null;this.painter=b;this.unusedCount=0;this.config=null;this.dirty=true;this.elCount=0;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.zoomable=false;this.panable=false;this.maxZoom=Infinity;this.minZoom=0;k.call(this)};o.prototype.initContext=function(){this.ctx=this.dom.getContext('2d');var a=n.devicePixelRatio;if(a!=1){this.ctx.scale(a,a)}};o.prototype.createBackBuffer=function(){if(m){return}this.domBack=createDom('back-'+this.id,'canvas',this.painter);this.ctxBack=this.domBack.getContext('2d');var a=n.devicePixelRatio;if(a!=1){this.ctxBack.scale(a,a)}};o.prototype.resize=function(a,b){var c=n.devicePixelRatio;this.dom.style.width=a+'px';this.dom.style.height=b+'px';this.dom.setAttribute('width',a*c);this.dom.setAttribute('height',b*c);if(c!=1){this.ctx.scale(c,c)}if(this.domBack){this.domBack.setAttribute('width',a*c);this.domBack.setAttribute('height',b*c);if(c!=1){this.ctxBack.scale(c,c)}}};o.prototype.clear=function(){var a=this.dom;var b=this.ctx;var c=a.width;var d=a.height;var e=this.clearColor&&!m;var f=this.motionBlur&&!m;var g=this.lastFrameAlpha;var h=n.devicePixelRatio;if(f){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation='copy';this.ctxBack.drawImage(a,0,0,c/h,d/h)}b.clearRect(0,0,c/h,d/h);if(e){b.save();b.fillStyle=this.clearColor;b.fillRect(0,0,c/h,d/h);b.restore()}if(f){var i=this.domBack;b.save();b.globalAlpha=g;b.drawImage(i,0,0,c/h,d/h);b.restore()}};l.merge(o.prototype,k.prototype);return o});define('zrender/shape/Text',['require','../tool/area','./Base','../tool/util'],function(g){var h=g('../tool/area');var j=g('./Base');var k=function(a){j.call(this,a)};k.prototype={type:'text',brush:function(a,b){var c=this.style;if(b){c=this.getHighlightStyle(c,this.highlightStyle||{})}if(typeof c.text=='undefined'||c.text===false){return}a.save();this.doClip(a);this.setContext(a,c);this.setTransform(a);if(c.textFont){a.font=c.textFont}a.textAlign=c.textAlign||'start';a.textBaseline=c.textBaseline||'middle';var d=(c.text+'').split('\n');var e=h.getTextHeight('国',c.textFont);var f=this.getRect(c);var x=c.x;var y;if(c.textBaseline=='top'){y=f.y}else if(c.textBaseline=='bottom'){y=f.y+e}else{y=f.y+e/2}for(var i=0,l=d.length;i<l;i++){if(c.maxWidth){switch(c.brushType){case'fill':a.fillText(d[i],x,y,c.maxWidth);break;case'stroke':a.strokeText(d[i],x,y,c.maxWidth);break;case'both':a.fillText(d[i],x,y,c.maxWidth);a.strokeText(d[i],x,y,c.maxWidth);break;default:a.fillText(d[i],x,y,c.maxWidth)}}else{switch(c.brushType){case'fill':a.fillText(d[i],x,y);break;case'stroke':a.strokeText(d[i],x,y);break;case'both':a.fillText(d[i],x,y);a.strokeText(d[i],x,y);break;default:a.fillText(d[i],x,y)}}y+=e}a.restore();return},getRect:function(a){if(a.__rect){return a.__rect}var b=h.getTextWidth(a.text,a.textFont);var c=h.getTextHeight(a.text,a.textFont);var d=a.x;if(a.textAlign=='end'||a.textAlign=='right'){d-=b}else if(a.textAlign=='center'){d-=b/2}var e;if(a.textBaseline=='top'){e=a.y}else if(a.textBaseline=='bottom'){e=a.y-c}else{e=a.y-c/2}a.__rect={x:d,y:e,width:b,height:c};return a.__rect}};g('../tool/util').inherits(k,j);return k});define('zrender/shape/Rectangle',['require','./Base','../tool/util'],function(j){var k=j('./Base');var l=function(a){k.call(this,a)};l.prototype={type:'rectangle',_buildRadiusPath:function(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;var r=b.radius;var e;var f;var g;var h;if(typeof r==='number'){e=f=g=h=r}else if(r instanceof Array){if(r.length===1){e=f=g=h=r[0]}else if(r.length===2){e=g=r[0];f=h=r[1]}else if(r.length===3){e=r[0];f=h=r[1];g=r[2]}else{e=r[0];f=r[1];g=r[2];h=r[3]}}else{e=f=g=h=0}var i;if(e+f>c){i=e+f;e*=c/i;f*=c/i}if(g+h>c){i=g+h;g*=c/i;h*=c/i}if(f+g>d){i=f+g;f*=d/i;g*=d/i}if(e+h>d){i=e+h;e*=d/i;h*=d/i}a.moveTo(x+e,y);a.lineTo(x+c-f,y);f!==0&&a.quadraticCurveTo(x+c,y,x+c,y+f);a.lineTo(x+c,y+d-g);g!==0&&a.quadraticCurveTo(x+c,y+d,x+c-g,y+d);a.lineTo(x+h,y+d);h!==0&&a.quadraticCurveTo(x,y+d,x,y+d-h);a.lineTo(x,y+e);e!==0&&a.quadraticCurveTo(x,y,x+e,y)},buildPath:function(a,b){if(!b.radius){a.moveTo(b.x,b.y);a.lineTo(b.x+b.width,b.y);a.lineTo(b.x+b.width,b.y+b.height);a.lineTo(b.x,b.y+b.height);a.lineTo(b.x,b.y)}else{this._buildRadiusPath(a,b)}a.closePath();return},getRect:function(a){if(a.__rect){return a.__rect}var b;if(a.brushType=='stroke'||a.brushType=='fill'){b=a.lineWidth||1}else{b=0}a.__rect={x:Math.round(a.x-b/2),y:Math.round(a.y-b/2),width:a.width+b,height:a.height+b};return a.__rect}};j('../tool/util').inherits(l,k);return l});define('zrender/tool/area',['require','./util','./curve'],function(A){'use strict';var B=A('./util');var C=A('./curve');var D;var E={};var F={};var G=0;var H=0;var I=5000;var J=Math.PI*2;function normalizeRadian(a){a%=J;if(a<0){a+=J}return a}function isInside(a,b,x,y){if(!b||!a){return false}var c=a.type;D=D||B.getContext();var d=_mathMethod(a,b,x,y);if(typeof d!='undefined'){return d}if(a.buildPath&&D.isPointInPath){return _buildPathMethod(a,D,b,x,y)}switch(c){case'ellipse':return true;case'trochoid':var e=b.location=='out'?b.r1+b.r2+b.d:b.r1-b.r2+b.d;return isInsideCircle(b,x,y,e);case'rose':return isInsideCircle(b,x,y,b.maxr);default:return false}}function _mathMethod(a,b,x,y){var c=a.type;switch(c){case'bezier-curve':if(typeof b.cpX2==='undefined'){return isInsideQuadraticStroke(b.xStart,b.yStart,b.cpX1,b.cpY1,b.xEnd,b.yEnd,b.lineWidth,x,y)}return isInsideCubicStroke(b.xStart,b.yStart,b.cpX1,b.cpY1,b.cpX2,b.cpY2,b.xEnd,b.yEnd,b.lineWidth,x,y);case'line':return isInsideLine(b.xStart,b.yStart,b.xEnd,b.yEnd,b.lineWidth,x,y);case'polyline':return isInsidePolyline(b.pointList,b.lineWidth,x,y);case'ring':return isInsideRing(b.x,b.y,b.r0,b.r,x,y);case'circle':return isInsideCircle(b.x,b.y,b.r,x,y);case'sector':var d=b.startAngle*Math.PI/180;var e=b.endAngle*Math.PI/180;if(!b.clockWise){d=-d;e=-e}return isInsideSector(b.x,b.y,b.r0,b.r,d,e,!b.clockWise,x,y);case'path':return b.pathArray&&isInsidePath(b.pathArray,Math.max(b.lineWidth,5),b.brushType,x,y);case'polygon':case'star':case'isogon':return isInsidePolygon(b.pointList,x,y);case'text':var f=b.__rect||a.getRect(b);return isInsideRect(f.x,f.y,f.width,f.height,x,y);case'rectangle':case'image':return isInsideRect(b.x,b.y,b.width,b.height,x,y)}}function _buildPathMethod(a,b,c,x,y){b.beginPath();a.buildPath(b,c);b.closePath();return b.isPointInPath(x,y)}function isOutside(a,b,x,y){return!isInside(a,b,x,y)}function isInsideLine(a,b,c,d,e,x,y){if(e===0){return false}var f=Math.max(e,5);var g=0;var h=a;if(y>b+f&&y>d+f||y<b-f&&y<d-f||x>a+f&&x>c+f||x<a-f&&x<c-f){return false}if(a!==c){g=(b-d)/(a-c);h=(a*d-c*b)/(a-c)}else{return Math.abs(x-a)<=f/2}var i=g*x-y+h;var j=i*i/(g*g+1);return j<=f/2*f/2}function isInsideCubicStroke(a,b,c,e,f,g,h,i,j,x,y){if(j===0){return false}var k=Math.max(j,5);if(y>b+k&&y>e+k&&y>g+k&&y>i+k||y<b-k&&y<e-k&&y<g-k&&y<i-k||x>a+k&&x>c+k&&x>f+k&&x>h+k||x<a-k&&x<c-k&&x<f-k&&x<h-k){return false}var d=C.cubicProjectPoint(a,b,c,e,f,g,h,i,x,y,null);return d<=k/2}function isInsideQuadraticStroke(a,b,c,e,f,g,h,x,y){if(h===0){return false}var i=Math.max(h,5);if(y>b+i&&y>e+i&&y>g+i||y<b-i&&y<e-i&&y<g-i||x>a+i&&x>c+i&&x>f+i||x<a-i&&x<c-i&&x<f-i){return false}var d=C.quadraticProjectPoint(a,b,c,e,f,g,x,y,null);return d<=i/2}function isInsideArcStroke(a,b,r,c,e,f,g,x,y){if(g===0){return false}var h=Math.max(g,5);x-=a;y-=b;var d=Math.sqrt(x*x+y*y);if(d-h>r||d+h<r){return false}if(Math.abs(c-e)>=J){return true}if(f){var i=c;c=normalizeRadian(e);e=normalizeRadian(i)}else{c=normalizeRadian(c);e=normalizeRadian(e)}if(c>e){e+=J}var j=Math.atan2(y,x);if(j<0){j+=J}return j>=c&&j<=e||j+J>=c&&j+J<=e}function isInsidePolyline(a,b,x,y){var b=Math.max(b,10);for(var i=0,l=a.length-1;i<l;i++){var c=a[i][0];var d=a[i][1];var e=a[i+1][0];var f=a[i+1][1];if(isInsideLine(c,d,e,f,b,x,y)){return true}}return false}function isInsideRing(a,b,c,r,x,y){var d=(x-a)*(x-a)+(y-b)*(y-b);return d<r*r&&d>c*c}function isInsideRect(a,b,c,d,x,y){return x>=a&&x<=a+c&&y>=b&&y<=b+d}function isInsideCircle(a,b,r,x,y){return(x-a)*(x-a)+(y-b)*(y-b)<r*r}function isInsideSector(a,b,c,r,d,e,f,x,y){return isInsideArcStroke(a,b,(c+r)/2,d,e,f,r-c,x,y)}function isInsidePolygon(a,x,y){var N=a.length;var w=0;for(var i=0,j=N-1;i<N;i++){var b=a[j][0];var c=a[j][1];var d=a[i][0];var e=a[i][1];w+=windingLine(b,c,d,e,x,y);j=i}return w!==0}function windingLine(a,b,c,d,x,y){if(y>b&&y>d||y<b&&y<d){return 0}if(d==b){return 0}var e=d<b?1:-1;var t=(y-b)/(d-b);var f=t*(c-a)+a;return f>x?e:0}var K=[-1,-1,-1];var L=[-1,-1];function swapExtrema(){var a=L[0];L[0]=L[1];L[1]=a}function windingCubic(a,b,c,d,e,f,g,h,x,y){if(y>b&&y>d&&y>f&&y>h||y<b&&y<d&&y<f&&y<h){return 0}var j=C.cubicRootAt(b,d,f,h,y,K);if(j===0){return 0}else{var w=0;var k=-1;var l,y1_;for(var i=0;i<j;i++){var t=K[i];var m=C.cubicAt(a,c,e,g,t);if(m<x){continue}if(k<0){k=C.cubicExtrema(b,d,f,h,L);if(L[1]<L[0]&&k>1){swapExtrema()}l=C.cubicAt(b,d,f,h,L[0]);if(k>1){y1_=C.cubicAt(b,d,f,h,L[1])}}if(k==2){if(t<L[0]){w+=l<b?1:-1}else if(t<L[1]){w+=y1_<l?1:-1}else{w+=h<y1_?1:-1}}else{if(t<L[0]){w+=l<b?1:-1}else{w+=h<l?1:-1}}}return w}}function windingQuadratic(a,b,c,d,e,f,x,y){if(y>b&&y>d&&y>f||y<b&&y<d&&y<f){return 0}var g=C.quadraticRootAt(b,d,f,y,K);if(g===0){return 0}else{var t=C.quadraticExtremum(b,d,f);if(t>=0&&t<=1){var w=0;var h=C.quadraticAt(b,d,f,t);for(var i=0;i<g;i++){var j=C.quadraticAt(a,c,e,K[i]);if(j<x){continue}if(K[i]<t){w+=h<b?1:-1}else{w+=f<h?1:-1}}return w}else{var j=C.quadraticAt(a,c,e,K[0]);if(j<x){return 0}return f<b?1:-1}}}function windingArc(a,b,r,c,d,e,x,y){y-=b;if(y>r||y<-r){return 0}var f=Math.sqrt(r*r-y*y);K[0]=-f;K[1]=f;if(Math.abs(c-d)>=J){c=0;d=J;var g=e?1:-1;if(x>=K[0]+a&&x<=K[1]+a){return g}else{return 0}}if(e){var f=c;c=normalizeRadian(d);d=normalizeRadian(f)}else{c=normalizeRadian(c);d=normalizeRadian(d)}if(c>d){d+=J}var w=0;for(var i=0;i<2;i++){var h=K[i];if(h+a>x){var j=Math.atan2(y,h);var g=e?1:-1;if(j<0){j=J+j}if(j>=c&&j<=d||j+J>=c&&j+J<=d){if(j>Math.PI/2&&j<Math.PI*1.5){g=-g}w+=g}}}return w}function isInsidePath(a,b,c,x,y){var w=0;var d=0;var e=0;var f=0;var g=0;var h=true;var j=true;c=c||'fill';var k=c==='stroke'||c==='both';var l=c==='fill'||c==='both';for(var i=0;i<a.length;i++){var m=a[i];var p=m.points;if(h||m.command==='M'){if(i>0){if(l){w+=windingLine(d,e,f,g,x,y)}if(w!==0){return true}}f=p[p.length-2];g=p[p.length-1];h=false;if(j&&m.command!=='A'){j=false;d=f;e=g}}switch(m.command){case'M':d=p[0];e=p[1];break;case'L':if(k){if(isInsideLine(d,e,p[0],p[1],b,x,y)){return true}}if(l){w+=windingLine(d,e,p[0],p[1],x,y)}d=p[0];e=p[1];break;case'C':if(k){if(isInsideCubicStroke(d,e,p[0],p[1],p[2],p[3],p[4],p[5],b,x,y)){return true}}if(l){w+=windingCubic(d,e,p[0],p[1],p[2],p[3],p[4],p[5],x,y)}d=p[4];e=p[5];break;case'Q':if(k){if(isInsideQuadraticStroke(d,e,p[0],p[1],p[2],p[3],b,x,y)){return true}}if(l){w+=windingQuadratic(d,e,p[0],p[1],p[2],p[3],x,y)}d=p[2];e=p[3];break;case'A':var n=p[0];var o=p[1];var q=p[2];var r=p[3];var s=p[4];var t=p[5];var u=Math.cos(s)*q+n;var v=Math.sin(s)*r+o;if(!j){w+=windingLine(d,e,u,v)}else{j=false;f=u;g=v}var z=(x-n)*r/q+n;if(k){if(isInsideArcStroke(n,o,r,s,s+t,1-p[7],b,z,y)){return true}}if(l){w+=windingArc(n,o,r,s,s+t,1-p[7],z,y)}d=Math.cos(s+t)*q+n;e=Math.sin(s+t)*r+o;break;case'z':if(k){if(isInsideLine(d,e,f,g,b,x,y)){return true}}h=true;break}}if(l){w+=windingLine(d,e,f,g,x,y)}return w!==0}function getTextWidth(a,b){var c=a+':'+b;if(E[c]){return E[c]}D=D||B.getContext();D.save();if(b){D.font=b}a=(a+'').split('\n');var d=0;for(var i=0,l=a.length;i<l;i++){d=Math.max(D.measureText(a[i]).width,d)}D.restore();E[c]=d;if(++G>I){G=0;E={}}return d}function getTextHeight(a,b){var c=a+':'+b;if(F[c]){return F[c]}D=D||B.getContext();D.save();if(b){D.font=b}a=(a+'').split('\n');var d=(D.measureText('国').width+2)*a.length;D.restore();F[c]=d;if(++H>I){H=0;F={}}return d}return{isInside:isInside,isOutside:isOutside,getTextWidth:getTextWidth,getTextHeight:getTextHeight,isInsidePath:isInsidePath,isInsidePolygon:isInsidePolygon,isInsideSector:isInsideSector,isInsideCircle:isInsideCircle,isInsideLine:isInsideLine,isInsideRect:isInsideRect,isInsidePolyline:isInsidePolyline,isInsideCubicStroke:isInsideCubicStroke,isInsideQuadraticStroke:isInsideQuadraticStroke}});define('zrender/shape/Base',['require','../tool/matrix','../tool/guid','../tool/util','../tool/log','../mixin/Transformable','../mixin/Eventful','../tool/area','../tool/color'],function(s){var t=window['G_vmlCanvasManager'];var u=s('../tool/matrix');var v=s('../tool/guid');var w=s('../tool/util');var z=s('../tool/log');var A=s('../mixin/Transformable');var B=s('../mixin/Eventful');function _fillText(a,b,x,y,c,d,e){if(c){a.font=c}a.textAlign=d;a.textBaseline=e;var f=_getTextRect(b,x,y,c,d,e);b=(b+'').split('\n');var g=s('../tool/area').getTextHeight('国',c);switch(e){case'top':y=f.y;break;case'bottom':y=f.y+g;break;default:y=f.y+g/2}for(var i=0,l=b.length;i<l;i++){a.fillText(b[i],x,y);y+=g}}function _getTextRect(a,x,y,b,c,d){var e=s('../tool/area');var f=e.getTextWidth(a,b);var g=e.getTextHeight('国',b);a=(a+'').split('\n');switch(c){case'end':case'right':x-=f;break;case'center':x-=f/2;break}switch(d){case'top':break;case'bottom':y-=g*a.length;break;default:y-=g*a.length/2}return{x:x,y:y,width:f,height:g*a.length}}var C=function(a){a=a||{};this.id=a.id||v();for(var b in a){this[b]=a[b]}this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=true;this.__clipShapes=[];A.call(this);B.call(this)};C.prototype.invisible=false;C.prototype.ignore=false;C.prototype.zlevel=0;C.prototype.draggable=false;C.prototype.clickable=false;C.prototype.hoverable=true;C.prototype.z=0;C.prototype.brush=function(a,b){var c=this.beforeBrush(a,b);a.beginPath();this.buildPath(a,c);switch(c.brushType){case'both':a.fill();case'stroke':c.lineWidth>0&&a.stroke();break;default:a.fill()}this.drawText(a,c,this.style);this.afterBrush(a)};C.prototype.beforeBrush=function(a,b){var c=this.style;if(this.brushTypeOnly){c.brushType=this.brushTypeOnly}if(b){c=this.getHighlightStyle(c,this.highlightStyle||{},this.brushTypeOnly)}if(this.brushTypeOnly=='stroke'){c.strokeColor=c.strokeColor||c.color}a.save();this.doClip(a);this.setContext(a,c);this.setTransform(a);return c};C.prototype.afterBrush=function(a){a.restore()};var D=[['color','fillStyle'],['strokeColor','strokeStyle'],['opacity','globalAlpha'],['lineCap','lineCap'],['lineJoin','lineJoin'],['miterLimit','miterLimit'],['lineWidth','lineWidth'],['shadowBlur','shadowBlur'],['shadowColor','shadowColor'],['shadowOffsetX','shadowOffsetX'],['shadowOffsetY','shadowOffsetY']];C.prototype.setContext=function(a,b){for(var i=0,len=D.length;i<len;i++){var c=D[i][0];var d=b[c];var e=D[i][1];if(typeof d!='undefined'){a[e]=d}}};var E=u.create();C.prototype.doClip=function(a){if(this.__clipShapes&&!t){for(var i=0;i<this.__clipShapes.length;i++){var b=this.__clipShapes[i];if(b.needTransform){var m=b.transform;u.invert(E,m);a.transform(m[0],m[1],m[2],m[3],m[4],m[5])}a.beginPath();b.buildPath(a,b.style);a.clip();if(b.needTransform){var m=E;a.transform(m[0],m[1],m[2],m[3],m[4],m[5])}}}};C.prototype.getHighlightStyle=function(a,b,c){var d={};for(var k in a){d[k]=a[k]}var e=s('../tool/color');var f=e.getHighlightColor();if(a.brushType!='stroke'){d.strokeColor=f;d.lineWidth=(a.lineWidth||1)+this.getHighlightZoom();d.brushType='both'}else{if(c!='stroke'){d.strokeColor=f;d.lineWidth=(a.lineWidth||1)+this.getHighlightZoom()}else{d.strokeColor=b.strokeColor||e.mix(a.strokeColor,e.toRGB(f))}}for(var k in b){if(typeof b[k]!='undefined'){d[k]=b[k]}}return d};C.prototype.getHighlightZoom=function(){return this.type!='text'?6:2};C.prototype.drift=function(a,b){this.position[0]+=a;this.position[1]+=b};C.prototype.buildPath=function(a,b){z('buildPath not implemented in '+this.type)};C.prototype.getRect=function(a){z('getRect not implemented in '+this.type)};C.prototype.isCover=function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];if(this.isCoverRect(x,y)){return s('../tool/area').isInside(this,this.style,x,y)}return false};C.prototype.isCoverRect=function(x,y){var a=this.style.__rect;if(!a){a=this.style.__rect=this.getRect(this.style)}return x>=a.x&&x<=a.x+a.width&&y>=a.y&&y<=a.y+a.height};C.prototype.drawText=function(a,b,c){if(typeof b.text=='undefined'||b.text===false){return}var d=b.textColor||b.color||b.strokeColor;a.fillStyle=d;var e=10;var f;var g;var h;var i;var j=b.textPosition||this.textPosition||'top';switch(j){case'inside':case'top':case'bottom':case'left':case'right':if(this.getRect){var k=(c||b).__rect||this.getRect(c||b);switch(j){case'inside':h=k.x+k.width/2;i=k.y+k.height/2;f='center';g='middle';if(b.brushType!='stroke'&&d==b.color){a.fillStyle='#fff'}break;case'left':h=k.x-e;i=k.y+k.height/2;f='end';g='middle';break;case'right':h=k.x+k.width+e;i=k.y+k.height/2;f='start';g='middle';break;case'top':h=k.x+k.width/2;i=k.y-e;f='center';g='bottom';break;case'bottom':h=k.x+k.width/2;i=k.y+k.height+e;f='center';g='top';break}}break;case'start':case'end':var l=b.pointList||[[b.xStart||0,b.yStart||0],[b.xEnd||0,b.yEnd||0]];var m=l.length;if(m<2){return}var n;var o;var p;var q;switch(j){case'start':n=l[1][0];o=l[0][0];p=l[1][1];q=l[0][1];break;case'end':n=l[m-2][0];o=l[m-1][0];p=l[m-2][1];q=l[m-1][1];break}h=o;i=q;var r=Math.atan((p-q)/(o-n))/Math.PI*180;if(o-n<0){r+=180}else if(p-q<0){r+=360}e=5;if(r>=30&&r<=150){f='center';g='bottom';i-=e}else if(r>150&&r<210){f='right';g='middle';h-=e}else if(r>=210&&r<=330){f='center';g='top';i+=e}else{f='left';g='middle';h+=e}break;case'specific':h=b.textX||0;i=b.textY||0;f='start';g='middle';break}if(h!=null&&i!=null){_fillText(a,b.text,h,i,b.textFont,b.textAlign||f,b.textBaseline||g)}};C.prototype.modSelf=function(){this.__dirty=true;if(this.style){this.style.__rect=null}if(this.highlightStyle){this.highlightStyle.__rect=null}};C.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)};w.merge(C.prototype,A.prototype,true);w.merge(C.prototype,B.prototype,true);return C});define('zrender/tool/curve',['require','./vector'],function(v){var w=v('./vector');'use strict';var z=0.0001;var D=Math.sqrt(3);var E=1/3;var F=w.create();var G=w.create();var H=w.create();function isAroundZero(a){return a>-z&&a<z}function isNotAroundZero(a){return a>z||a<-z}function cubicAt(a,b,c,d,t){var e=1-t;return e*e*(e*a+3*t*b)+t*t*(t*d+3*e*c)}function cubicDerivativeAt(a,b,c,d,t){var e=1-t;return 3*(((b-a)*e+2*(c-b)*t)*e+(d-c)*t*t)}function cubicRootAt(e,f,g,h,i,j){var a=h+3*(f-g)-e;var b=3*(g-f*2+e);var c=3*(f-e);var d=e-i;var A=b*b-3*a*c;var B=b*c-9*a*d;var C=c*c-3*b*d;var n=0;if(isAroundZero(A)&&isAroundZero(B)){if(isAroundZero(b)){j[0]=0}else{var k=-c/b;if(k>=0&&k<=1){j[n++]=k}}}else{var l=B*B-4*A*C;if(isAroundZero(l)){var K=B/A;var k=-b/a+K;var m=-K/2;if(k>=0&&k<=1){j[n++]=k}if(m>=0&&m<=1){j[n++]=m}}else if(l>0){var o=Math.sqrt(l);var p=A*b+1.5*a*(-B+o);var q=A*b+1.5*a*(-B-o);if(p<0){p=-Math.pow(-p,E)}else{p=Math.pow(p,E)}if(q<0){q=-Math.pow(-q,E)}else{q=Math.pow(q,E)}var k=(-b-(p+q))/(3*a);if(k>=0&&k<=1){j[n++]=k}}else{var T=(2*A*b-3*a*B)/(2*Math.sqrt(A*A*A));var r=Math.acos(T)/3;var s=Math.sqrt(A);var t=Math.cos(r);var k=(-b-2*s*t)/(3*a);var m=(-b+s*(t+D*Math.sin(r)))/(3*a);var u=(-b+s*(t-D*Math.sin(r)))/(3*a);if(k>=0&&k<=1){j[n++]=k}if(m>=0&&m<=1){j[n++]=m}if(u>=0&&u<=1){j[n++]=u}}}return n}function cubicExtrema(d,e,f,g,h){var b=6*f-12*e+6*d;var a=9*e+3*g-3*d-9*f;var c=3*e-3*d;var n=0;if(isAroundZero(a)){if(isNotAroundZero(b)){var i=-c/b;if(i>=0&&i<=1){h[n++]=i}}}else{var j=b*b-4*a*c;if(isAroundZero(j)){h[0]=-b/(2*a)}else if(j>0){var k=Math.sqrt(j);var i=(-b+k)/(2*a);var l=(-b-k)/(2*a);if(i>=0&&i<=1){h[n++]=i}if(l>=0&&l<=1){h[n++]=l}}}return n}function cubicSubdivide(a,b,c,d,t,e){var f=(b-a)*t+a;var g=(c-b)*t+b;var h=(d-c)*t+c;var i=(g-f)*t+f;var j=(h-g)*t+g;var k=(j-i)*t+i;e[0]=a;e[1]=f;e[2]=i;e[3]=k;e[4]=k;e[5]=j;e[6]=h;e[7]=d}function cubicProjectPoint(a,b,c,e,f,g,h,j,x,y,k){var t;var l=0.005;var d=Infinity;F[0]=x;F[1]=y;for(var m=0;m<1;m+=0.05){G[0]=cubicAt(a,c,f,h,m);G[1]=cubicAt(b,e,g,j,m);var n=w.distSquare(F,G);if(n<d){t=m;d=n}}d=Infinity;for(var i=0;i<32;i++){if(l<z){break}var o=t-l;var p=t+l;G[0]=cubicAt(a,c,f,h,o);G[1]=cubicAt(b,e,g,j,o);var n=w.distSquare(G,F);if(o>=0&&n<d){t=o;d=n}else{H[0]=cubicAt(a,c,f,h,p);H[1]=cubicAt(b,e,g,j,p);var q=w.distSquare(H,F);if(p<=1&&q<d){t=p;d=q}else{l*=0.5}}}if(k){k[0]=cubicAt(a,c,f,h,t);k[1]=cubicAt(b,e,g,j,t)}return Math.sqrt(d)}function quadraticAt(a,b,c,t){var d=1-t;return d*(d*a+2*t*b)+t*t*c}function quadraticDerivativeAt(a,b,c,t){return 2*((1-t)*(b-a)+t*(c-b))}function quadraticRootAt(d,e,f,g,h){var a=d-2*e+f;var b=2*(e-d);var c=d-g;var n=0;if(isAroundZero(a)){if(isNotAroundZero(b)){var i=-c/b;if(i>=0&&i<=1){h[n++]=i}}}else{var j=b*b-4*a*c;if(isAroundZero(j)){var i=-b/(2*a);if(i>=0&&i<=1){h[n++]=i}}else if(j>0){var k=Math.sqrt(j);var i=(-b+k)/(2*a);var l=(-b-k)/(2*a);if(i>=0&&i<=1){h[n++]=i}if(l>=0&&l<=1){h[n++]=l}}}return n}function quadraticExtremum(a,b,c){var d=a+c-2*b;if(d===0){return 0.5}else{return(a-b)/d}}function quadraticSubdivide(a,b,c,t,d){var e=(b-a)*t+a;var f=(c-b)*t+b;var g=(f-e)*t+e;d[0]=a;d[1]=e;d[2]=g;d[3]=g;d[4]=f;d[5]=c}function quadraticProjectPoint(a,b,c,e,f,g,x,y,h){var t;var j=0.005;var d=Infinity;F[0]=x;F[1]=y;for(var k=0;k<1;k+=0.05){G[0]=quadraticAt(a,c,f,k);G[1]=quadraticAt(b,e,g,k);var l=w.distSquare(F,G);if(l<d){t=k;d=l}}d=Infinity;for(var i=0;i<32;i++){if(j<z){break}var m=t-j;var n=t+j;G[0]=quadraticAt(a,c,f,m);G[1]=quadraticAt(b,e,g,m);var l=w.distSquare(G,F);if(m>=0&&l<d){t=m;d=l}else{H[0]=quadraticAt(a,c,f,n);H[1]=quadraticAt(b,e,g,n);var o=w.distSquare(H,F);if(n<=1&&o<d){t=n;d=o}else{j*=0.5}}}if(h){h[0]=quadraticAt(a,c,f,t);h[1]=quadraticAt(b,e,g,t)}return Math.sqrt(d)}return{cubicAt:cubicAt,cubicDerivativeAt:cubicDerivativeAt,cubicRootAt:cubicRootAt,cubicExtrema:cubicExtrema,cubicSubdivide:cubicSubdivide,cubicProjectPoint:cubicProjectPoint,quadraticAt:quadraticAt,quadraticDerivativeAt:quadraticDerivativeAt,quadraticRootAt:quadraticRootAt,quadraticExtremum:quadraticExtremum,quadraticSubdivide:quadraticSubdivide,quadraticProjectPoint:quadraticProjectPoint}});define('zrender/mixin/Transformable',['require','../tool/matrix','../tool/vector'],function(f){'use strict';var g=f('../tool/matrix');var h=f('../tool/vector');var i=[0,0];var j=g.translate;var k=0.00005;function isAroundZero(a){return a>-k&&a<k}function isNotAroundZero(a){return a>k||a<-k}var l=function(){if(!this.position){this.position=[0,0]}if(typeof this.rotation=='undefined'){this.rotation=[0,0,0]}if(!this.scale){this.scale=[1,1,0,0]}this.needLocalTransform=false;this.needTransform=false};l.prototype={constructor:l,updateNeedTransform:function(){this.needLocalTransform=isNotAroundZero(this.rotation[0])||isNotAroundZero(this.position[0])||isNotAroundZero(this.position[1])||isNotAroundZero(this.scale[0]-1)||isNotAroundZero(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var a=this.parent&&this.parent.needTransform;this.needTransform=this.needLocalTransform||a;if(!this.needTransform){return}var m=this.transform||g.create();g.identity(m);if(this.needLocalTransform){var b=this.scale;if(isNotAroundZero(b[0])||isNotAroundZero(b[1])){i[0]=-b[2]||0;i[1]=-b[3]||0;var c=isNotAroundZero(i[0])||isNotAroundZero(i[1]);if(c){j(m,m,i)}g.scale(m,m,b);if(c){i[0]=-i[0];i[1]=-i[1];j(m,m,i)}}if(this.rotation instanceof Array){if(this.rotation[0]!==0){i[0]=-this.rotation[1]||0;i[1]=-this.rotation[2]||0;var c=isNotAroundZero(i[0])||isNotAroundZero(i[1]);if(c){j(m,m,i)}g.rotate(m,m,this.rotation[0]);if(c){i[0]=-i[0];i[1]=-i[1];j(m,m,i)}}}else{if(this.rotation!==0){g.rotate(m,m,this.rotation)}}if(isNotAroundZero(this.position[0])||isNotAroundZero(this.position[1])){j(m,m,this.position)}}if(a){if(this.needLocalTransform){g.mul(m,this.parent.transform,m)}else{g.copy(m,this.parent.transform)}}this.transform=m;this.invTransform=this.invTransform||g.create();g.invert(this.invTransform,m)},setTransform:function(a){if(this.needTransform){var m=this.transform;a.transform(m[0],m[1],m[2],m[3],m[4],m[5])}},lookAt:function(){var v=h.create();return function(a){if(!this.transform){this.transform=g.create()}var m=this.transform;h.sub(v,a,this.position);if(isAroundZero(v[0])&&isAroundZero(v[1])){return}h.normalize(v,v);var b=this.scale;m[2]=v[0]*b[1];m[3]=v[1]*b[1];m[0]=v[1]*b[0];m[1]=-v[0]*b[0];m[4]=this.position[0];m[5]=this.position[1];this.decomposeTransform()}}(),decomposeTransform:function(){if(!this.transform){return}var m=this.transform;var a=m[0]*m[0]+m[1]*m[1];var b=this.position;var c=this.scale;var d=this.rotation;if(isNotAroundZero(a-1)){a=Math.sqrt(a)}var e=m[2]*m[2]+m[3]*m[3];if(isNotAroundZero(e-1)){e=Math.sqrt(e)}b[0]=m[4];b[1]=m[5];c[0]=a;c[1]=e;c[2]=c[3]=0;d[0]=Math.atan2(-m[1]/e,m[0]/a);d[1]=d[2]=0},transformCoordToLocal:function(x,y){var a=[x,y];if(this.needTransform&&this.invTransform){h.applyTransform(a,a,this.invTransform)}return a}};return l});define('zrender/Group',['require','./tool/guid','./tool/util','./mixin/Transformable','./mixin/Eventful'],function(e){var f=e('./tool/guid');var g=e('./tool/util');var h=e('./mixin/Transformable');var j=e('./mixin/Eventful');var k=function(a){a=a||{};this.id=a.id||f();for(var b in a){this[b]=a[b]}this.type='group';this.clipShape=null;this._children=[];this._storage=null;this.__dirty=true;h.call(this);j.call(this)};k.prototype.ignore=false;k.prototype.children=function(){return this._children.slice()};k.prototype.childAt=function(a){return this._children[a]};k.prototype.addChild=function(a){if(a==this){return}if(a.parent==this){return}if(a.parent){a.parent.removeChild(a)}this._children.push(a);a.parent=this;if(this._storage&&this._storage!==a._storage){this._storage.addToMap(a);if(a instanceof k){a.addChildrenToStorage(this._storage)}}};k.prototype.removeChild=function(a){var b=g.indexOf(this._children,a);if(b>=0){this._children.splice(b,1)}a.parent=null;if(this._storage){this._storage.delFromMap(a.id);if(a instanceof k){a.delChildrenFromStorage(this._storage)}}};k.prototype.clearChildren=function(){for(var i=0;i<this._children.length;i++){var a=this._children[i];if(this._storage){this._storage.delFromMap(a.id);if(a instanceof k){a.delChildrenFromStorage(this._storage)}}}this._children.length=0};k.prototype.eachChild=function(a,b){var c=!!b;for(var i=0;i<this._children.length;i++){var d=this._children[i];if(c){a.call(b,d)}else{a(d)}}};k.prototype.traverse=function(a,b){var c=!!b;for(var i=0;i<this._children.length;i++){var d=this._children[i];if(c){a.call(b,d)}else{a(d)}if(d.type==='group'){d.traverse(a,b)}}};k.prototype.addChildrenToStorage=function(a){for(var i=0;i<this._children.length;i++){var b=this._children[i];a.addToMap(b);if(b instanceof k){b.addChildrenToStorage(a)}}};k.prototype.delChildrenFromStorage=function(a){for(var i=0;i<this._children.length;i++){var b=this._children[i];a.delFromMap(b.id);if(b instanceof k){b.delChildrenFromStorage(a)}}};k.prototype.modSelf=function(){this.__dirty=true};g.merge(k.prototype,h.prototype,true);g.merge(k.prototype,j.prototype,true);return k});define('zrender/animation/Clip',['require','./easing'],function(e){var f=e('./easing');function Clip(a){this._targetPool=a.target||{};if(!(this._targetPool instanceof Array)){this._targetPool=[this._targetPool]}this._life=a.life||1000;this._delay=a.delay||0;this._startTime=new Date().getTime()+this._delay;this._endTime=this._startTime+this._life*1000;this.loop=typeof a.loop=='undefined'?false:a.loop;this.gap=a.gap||0;this.easing=a.easing||'Linear';this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart}Clip.prototype={step:function(a){var b=(a-this._startTime)/this._life;if(b<0){return}b=Math.min(b,1);var c=typeof this.easing=='string'?f[this.easing]:this.easing;var d=typeof c==='function'?c(b):b;this.fire('frame',d);if(b==1){if(this.loop){this.restart();return'restart'}this._needsRemove=true;return'destroy'}return null},restart:function(){var a=new Date().getTime();var b=(a-this._startTime)%this._life;this._startTime=new Date().getTime()-b+this.gap;this._needsRemove=false},fire:function(a,b){for(var i=0,len=this._targetPool.length;i<len;i++){if(this['on'+a]){this['on'+a](this._targetPool[i],b)}}},constructor:Clip};return Clip});define('zrender/animation/easing',[],function(){var b={Linear:function(k){return k},QuadraticIn:function(k){return k*k},QuadraticOut:function(k){return k*(2-k)},QuadraticInOut:function(k){if((k*=2)<1){return 0.5*k*k}return-0.5*(--k*(k-2)-1)},CubicIn:function(k){return k*k*k},CubicOut:function(k){return--k*k*k+1},CubicInOut:function(k){if((k*=2)<1){return 0.5*k*k*k}return 0.5*((k-=2)*k*k+2)},QuarticIn:function(k){return k*k*k*k},QuarticOut:function(k){return 1- --k*k*k*k},QuarticInOut:function(k){if((k*=2)<1){return 0.5*k*k*k*k}return-0.5*((k-=2)*k*k*k-2)},QuinticIn:function(k){return k*k*k*k*k},QuinticOut:function(k){return--k*k*k*k*k+1},QuinticInOut:function(k){if((k*=2)<1){return 0.5*k*k*k*k*k}return 0.5*((k-=2)*k*k*k*k+2)},SinusoidalIn:function(k){return 1-Math.cos(k*Math.PI/2)},SinusoidalOut:function(k){return Math.sin(k*Math.PI/2)},SinusoidalInOut:function(k){return 0.5*(1-Math.cos(Math.PI*k))},ExponentialIn:function(k){return k===0?0:Math.pow(1024,k-1)},ExponentialOut:function(k){return k===1?1:1-Math.pow(2,-10*k)},ExponentialInOut:function(k){if(k===0){return 0}if(k===1){return 1}if((k*=2)<1){return 0.5*Math.pow(1024,k-1)}return 0.5*(-Math.pow(2,-10*(k-1))+2)},CircularIn:function(k){return 1-Math.sqrt(1-k*k)},CircularOut:function(k){return Math.sqrt(1- --k*k)},CircularInOut:function(k){if((k*=2)<1){return-0.5*(Math.sqrt(1-k*k)-1)}return 0.5*(Math.sqrt(1-(k-=2)*k)+1)},ElasticIn:function(k){var s;var a=0.1;var p=0.4;if(k===0){return 0}if(k===1){return 1}if(!a||a<1){a=1;s=p/4}else{s=p*Math.asin(1/a)/(2*Math.PI)}return-(a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p))},ElasticOut:function(k){var s;var a=0.1;var p=0.4;if(k===0){return 0}if(k===1){return 1}if(!a||a<1){a=1;s=p/4}else{s=p*Math.asin(1/a)/(2*Math.PI)}return a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/p)+1},ElasticInOut:function(k){var s;var a=0.1;var p=0.4;if(k===0){return 0}if(k===1){return 1}if(!a||a<1){a=1;s=p/4}else{s=p*Math.asin(1/a)/(2*Math.PI)}if((k*=2)<1){return-0.5*(a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p))}return a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*0.5+1},BackIn:function(k){var s=1.70158;return k*k*((s+1)*k-s)},BackOut:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},BackInOut:function(k){var s=1.70158*1.525;if((k*=2)<1){return 0.5*(k*k*((s+1)*k-s))}return 0.5*((k-=2)*k*((s+1)*k+s)+2)},BounceIn:function(k){return 1-b.BounceOut(1-k)},BounceOut:function(k){if(k<1/2.75){return 7.5625*k*k}else if(k<2/2.75){return 7.5625*(k-=1.5/2.75)*k+0.75}else if(k<2.5/2.75){return 7.5625*(k-=2.25/2.75)*k+0.9375}else{return 7.5625*(k-=2.625/2.75)*k+0.984375}},BounceInOut:function(k){if(k<0.5){return b.BounceIn(k*2)*0.5}return b.BounceOut(k*2-1)*0.5+0.5}};return b});define('echarts/chart/base',['require','zrender/shape/Image','../util/shape/Icon','../util/shape/MarkLine','../util/shape/Symbol','zrender/shape/Polyline','zrender/shape/ShapeBundle','../config','../util/ecData','../util/ecAnimation','../util/ecEffect','../util/accMath','../component/base','../layout/EdgeBundling','zrender/tool/util','zrender/tool/area'],function(B){var C=B('zrender/shape/Image');var D=B('../util/shape/Icon');var E=B('../util/shape/MarkLine');var F=B('../util/shape/Symbol');var G=B('zrender/shape/Polyline');var H=B('zrender/shape/ShapeBundle');var I=B('../config');var J=B('../util/ecData');var K=B('../util/ecAnimation');var L=B('../util/ecEffect');var M=B('../util/accMath');var N=B('../component/base');var O=B('../layout/EdgeBundling');var P=B('zrender/tool/util');var Q=B('zrender/tool/area');function isCoordAvailable(a){return a.x!=null&&a.y!=null}function Base(g,h,i,j,k){N.call(this,g,h,i,j,k);var l=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){l.isClick=true},ondragover:function(a){var b=a.target;b.highlightStyle=b.highlightStyle||{};var c=b.highlightStyle;var d=c.brushTyep;var e=c.strokeColor;var f=c.lineWidth;c.brushType='stroke';c.strokeColor=l.ecTheme.calculableColor||I.calculableColor;c.lineWidth=b.type==='icon'?30:10;l.zr.addHoverShape(b);setTimeout(function(){if(c){c.brushType=d;c.strokeColor=e;c.lineWidth=f}},20)},ondrop:function(a){if(J.get(a.dragged,'data')!=null){l.isDrop=true}},ondragend:function(){l.isDragend=true}}}Base.prototype={setCalculable:function(a){a.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||I.DRAG_ENABLE_TIME;a.ondragover=this.shapeHandler.ondragover;a.ondragend=this.shapeHandler.ondragend;a.ondrop=this.shapeHandler.ondrop;return a},ondrop:function(a,b){if(!this.isDrop||!a.target||b.dragIn){return}var c=a.target;var d=a.dragged;var e=J.get(c,'seriesIndex');var f=J.get(c,'dataIndex');var g=this.series;var h;var j=this.component.legend;if(f===-1){if(J.get(d,'seriesIndex')==e){b.dragOut=b.dragIn=b.needRefresh=true;this.isDrop=false;return}h={value:J.get(d,'value'),name:J.get(d,'name')};if(this.type===I.CHART_TYPE_PIE&&h.value<0){h.value=0}var k=false;var m=g[e].data;for(var i=0,l=m.length;i<l;i++){if(m[i].name===h.name&&m[i].value==='-'){g[e].data[i].value=h.value;k=true}}!k&&g[e].data.push(h);j&&j.add(h.name,d.style.color||d.style.strokeColor)}else{h=g[e].data[f]||'-';if(h.value!=null){if(h.value!='-'){g[e].data[f].value=M.accAdd(g[e].data[f].value,J.get(d,'value'))}else{g[e].data[f].value=J.get(d,'value')}if(this.type===I.CHART_TYPE_FUNNEL||this.type===I.CHART_TYPE_PIE){j&&j.getRelatedAmount(h.name)===1&&this.component.legend.del(h.name);h.name+=this.option.nameConnector+J.get(d,'name');j&&j.add(h.name,d.style.color||d.style.strokeColor)}}else{if(h!='-'){g[e].data[f]=M.accAdd(g[e].data[f],J.get(d,'value'))}else{g[e].data[f]=J.get(d,'value')}}}b.dragIn=b.dragIn||true;this.isDrop=false;var n=this;setTimeout(function(){n.zr.trigger('mousemove',a.event)},300);return},ondragend:function(a,b){if(!this.isDragend||!a.target||b.dragOut){return}var c=a.target;var d=J.get(c,'seriesIndex');var e=J.get(c,'dataIndex');var f=this.series;if(f[d].data[e].value!=null){f[d].data[e].value='-';var g=f[d].data[e].name;var h=this.component.legend;if(h&&h.getRelatedAmount(g)===0){h.del(g)}}else{f[d].data[e]='-'}b.dragOut=true;b.needRefresh=true;this.isDragend=false;return},onlegendSelected:function(a,b){var c=a.selected;for(var d in this.selectedMap){if(this.selectedMap[d]!=c[d]){b.needRefresh=true}this.selectedMap[d]=c[d]}return},_buildPosition:function(){this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this._sIndex2ColorMap={};this.selectedMap={};this.xMarkMap={};var a=this.series;var b={top:[],bottom:[],left:[],right:[],other:[]};var c;var d;var e;var f;for(var i=0,l=a.length;i<l;i++){if(a[i].type===this.type){a[i]=this.reformOption(a[i]);this.legendHoverLink=a[i].legendHoverLink||this.legendHoverLink;c=a[i].xAxisIndex;d=a[i].yAxisIndex;e=this.component.xAxis.getAxis(c);f=this.component.yAxis.getAxis(d);if(e.type===I.COMPONENT_TYPE_AXIS_CATEGORY){b[e.getPosition()].push(i)}else if(f.type===I.COMPONENT_TYPE_AXIS_CATEGORY){b[f.getPosition()].push(i)}else{b.other.push(i)}}}for(var g in b){if(b[g].length>0){this._buildSinglePosition(g,b[g])}}this.addShapeList()},_buildSinglePosition:function(a,b){var c=this._mapData(b);var d=c.locationMap;var e=c.maxDataLength;if(e===0||d.length===0){return}switch(a){case'bottom':case'top':this._buildHorizontal(b,e,d,this.xMarkMap);break;case'left':case'right':this._buildVertical(b,e,d,this.xMarkMap);break;case'other':this._buildOther(b,e,d,this.xMarkMap);break}for(var i=0,l=b.length;i<l;i++){this.buildMark(b[i])}},_mapData:function(a){var b=this.series;var c;var d=0;var e={};var f='__kener__stack__';var g;var h;var j=this.component.legend;var k=[];var m=0;var n;for(var i=0,l=a.length;i<l;i++){c=b[a[i]];h=c.name;this._sIndex2ShapeMap[a[i]]=this._sIndex2ShapeMap[a[i]]||this.query(c,'symbol')||this._symbol[i%this._symbol.length];if(j){this.selectedMap[h]=j.isSelected(h);this._sIndex2ColorMap[a[i]]=j.getColor(h);n=j.getItemShape(h);if(n){var o=n.style;if(this.type==I.CHART_TYPE_LINE){o.iconType='legendLineIcon';o.symbol=this._sIndex2ShapeMap[a[i]]}else if(c.itemStyle.normal.barBorderWidth>0){var p=n.highlightStyle;o.brushType='both';o.x+=1;o.y+=1;o.width-=2;o.height-=2;o.strokeColor=p.strokeColor=c.itemStyle.normal.barBorderColor;p.lineWidth=3}j.setItemShape(h,n)}}else{this.selectedMap[h]=true;this._sIndex2ColorMap[a[i]]=this.zr.getColor(a[i])}if(this.selectedMap[h]){g=c.stack||f+a[i];if(e[g]==null){e[g]=d;k[d]=[a[i]];d++}else{k[e[g]].push(a[i])}}m=Math.max(m,c.data.length)}return{locationMap:k,maxDataLength:m}},_calculMarkMapXY:function(a,b,c){var d=this.series;for(var j=0,k=b.length;j<k;j++){for(var m=0,n=b[j].length;m<n;m++){var e=b[j][m];var f=c=='xy'?0:'';var g=this.component.grid;var h=a[e];if(c.indexOf('x')!='-1'){if(h['counter'+f]>0){h['average'+f]=h['sum'+f]/h['counter'+f]}var x=this.component.xAxis.getAxis(d[e].xAxisIndex||0).getCoord(h['average'+f]);h['averageLine'+f]=[[x,g.getYend()],[x,g.getY()]];h['minLine'+f]=[[h['minX'+f],g.getYend()],[h['minX'+f],g.getY()]];h['maxLine'+f]=[[h['maxX'+f],g.getYend()],[h['maxX'+f],g.getY()]];h.isHorizontal=false}f=c=='xy'?1:'';if(c.indexOf('y')!='-1'){if(h['counter'+f]>0){h['average'+f]=h['sum'+f]/h['counter'+f]}var y=this.component.yAxis.getAxis(d[e].yAxisIndex||0).getCoord(h['average'+f]);h['averageLine'+f]=[[g.getX(),y],[g.getXend(),y]];h['minLine'+f]=[[g.getX(),h['minY'+f]],[g.getXend(),h['minY'+f]]];h['maxLine'+f]=[[g.getX(),h['maxY'+f]],[g.getXend(),h['maxY'+f]]];h.isHorizontal=true}}}},addLabel:function(a,b,c,d,e){var f=[c,b];var g=this.deepMerge(f,'itemStyle.normal.label');var h=this.deepMerge(f,'itemStyle.emphasis.label');var i=g.textStyle||{};var j=h.textStyle||{};if(g.show){var k=a.style;k.text=this._getLabelText(b,c,d,'normal');k.textPosition=g.position==null?e==='horizontal'?'right':'top':g.position;k.textColor=i.color;k.textFont=this.getFont(i);k.textAlign=i.align;k.textBaseline=i.baseline}if(h.show){var l=a.highlightStyle;l.text=this._getLabelText(b,c,d,'emphasis');l.textPosition=g.show?a.style.textPosition:h.position==null?e==='horizontal'?'right':'top':h.position;l.textColor=j.color;l.textFont=this.getFont(j);l.textAlign=j.align;l.textBaseline=j.baseline}return a},_getLabelText:function(a,b,c,d){var e=this.deepQuery([b,a],'itemStyle.'+d+'.label.formatter');if(!e&&d==='emphasis'){e=this.deepQuery([b,a],'itemStyle.normal.label.formatter')}var f=this.getDataFromOption(b,'-');if(e){if(typeof e==='function'){return e.call(this.myChart,{seriesName:a.name,series:a,name:c,value:f,data:b,status:d})}else if(typeof e==='string'){e=e.replace('{a}','{a0}').replace('{b}','{b0}').replace('{c}','{c0}').replace('{a0}',a.name).replace('{b0}',c).replace('{c0}',this.numAddCommas(f));return e}}else{if(f instanceof Array){return f[2]!=null?this.numAddCommas(f[2]):f[0]+' , '+f[1]}else{return this.numAddCommas(f)}}},buildMark:function(a){var b=this.series[a];if(this.selectedMap[b.name]){b.markLine&&this._buildMarkLine(a);b.markPoint&&this._buildMarkPoint(a)}},_buildMarkPoint:function(a){var b=(this.markAttachStyle||{})[a];var c=this.series[a];var d;var e;var f=P.clone(c.markPoint);for(var i=0,l=f.data.length;i<l;i++){d=f.data[i];e=this.getMarkCoord(a,d);d.x=d.x!=null?d.x:e[0];d.y=d.y!=null?d.y:e[1];if(d.type&&(d.type==='max'||d.type==='min')){d.value=e[3];d.name=d.name||d.type;d.symbolSize=d.symbolSize||Q.getTextWidth(e[3],this.getFont())/2+5}}var g=this._markPoint(a,f);for(var i=0,l=g.length;i<l;i++){var h=g[i];h.zlevel=this.getZlevelBase();h.z=this.getZBase()+1;for(var j in b){h[j]=P.clone(b[j])}this.shapeList.push(h)}if(this.type===I.CHART_TYPE_FORCE||this.type===I.CHART_TYPE_CHORD){for(var i=0,l=g.length;i<l;i++){this.zr.addShape(g[i])}}},_buildMarkLine:function(a){var b=(this.markAttachStyle||{})[a];var c=this.series[a];var d;var e=P.clone(c.markLine);for(var i=0,l=e.data.length;i<l;i++){var f=e.data[i];if(f.type&&(f.type==='max'||f.type==='min'||f.type==='average')){d=this.getMarkCoord(a,f);e.data[i]=[P.clone(f),{}];e.data[i][0].name=f.name||f.type;e.data[i][0].value=f.type!=='average'?d[3]:+d[3].toFixed(e.precision!=null?e.precision:this.deepQuery([this.ecTheme,I],'markLine.precision'));d=d[2];f=[{},{}]}else{d=[this.getMarkCoord(a,f[0]),this.getMarkCoord(a,f[1])]}if(d==null||d[0]==null||d[1]==null){continue}e.data[i][0].x=f[0].x!=null?f[0].x:d[0][0];e.data[i][0].y=f[0].y!=null?f[0].y:d[0][1];e.data[i][1].x=f[1].x!=null?f[1].x:d[1][0];e.data[i][1].y=f[1].y!=null?f[1].y:d[1][1]}var g=this._markLine(a,e);var h=e.large;if(h){var j=new H({style:{shapeList:g}});var k=g[0];if(k){P.merge(j.style,k.style);P.merge(j.highlightStyle={},k.highlightStyle);j.style.brushType='stroke';j.zlevel=this.getZlevelBase();j.z=this.getZBase()+1;j.hoverable=false;for(var m in b){j[m]=P.clone(b[m])}}this.shapeList.push(j);this.zr.addShape(j);j._mark='largeLine';var n=e.effect;if(n.show){j.effect=n}}else{for(var i=0,l=g.length;i<l;i++){var o=g[i];o.zlevel=this.getZlevelBase();o.z=this.getZBase()+1;for(var m in b){o[m]=P.clone(b[m])}this.shapeList.push(o)}if(this.type===I.CHART_TYPE_FORCE||this.type===I.CHART_TYPE_CHORD){for(var i=0,l=g.length;i<l;i++){this.zr.addShape(g[i])}}}},_markPoint:function(a,b){var c=this.series[a];var d=this.component;P.merge(P.merge(b,P.clone(this.ecTheme.markPoint||{})),P.clone(I.markPoint));b.name=c.name;var e=[];var f=b.data;var g;var h=d.dataRange;var j=d.legend;var k;var m;var n;var o;var p;var q;var r=this.zr.getWidth();var s=this.zr.getHeight();if(!b.large){for(var i=0,l=f.length;i<l;i++){if(f[i].x==null||f[i].y==null){continue}m=f[i].value!=null?f[i].value:'';if(j){k=j.getColor(c.name)}if(h){k=isNaN(m)?k:h.getColor(m);n=[f[i],b];o=this.deepQuery(n,'itemStyle.normal.color')||k;p=this.deepQuery(n,'itemStyle.emphasis.color')||o;if(o==null&&p==null){continue}}k=k==null?this.zr.getColor(a):k;f[i].tooltip=f[i].tooltip||b.tooltip||{trigger:'item'};f[i].name=f[i].name!=null?f[i].name:'';f[i].value=m;g=this.getSymbolShape(b,a,f[i],i,f[i].name,this.parsePercent(f[i].x,r),this.parsePercent(f[i].y,s),'pin',k,'rgba(0,0,0,0)','horizontal');g._mark='point';q=this.deepMerge([f[i],b],'effect');if(q.show){g.effect=q}if(c.type===I.CHART_TYPE_MAP){g._geo=this.getMarkGeo(f[i])}J.pack(g,c,a,f[i],i,f[i].name,m);e.push(g)}}else{g=this.getLargeMarkPointShape(a,b);g._mark='largePoint';g&&e.push(g)}return e},_markLine:function(){function normalizeOptionValue(a,b){a[b]=a[b]instanceof Array?a[b].length>1?a[b]:[a[b][0],a[b][0]]:[a[b],a[b]]}return function(a,b){var c=this.series[a];var d=this.component;var e=d.dataRange;var f=d.legend;P.merge(P.merge(b,P.clone(this.ecTheme.markLine||{})),P.clone(I.markLine));var g=f?f.getColor(c.name):this.zr.getColor(a);normalizeOptionValue(b,'symbol');normalizeOptionValue(b,'symbolSize');normalizeOptionValue(b,'symbolRotate');var h=b.data;var j=[];var k=this.zr.getWidth();var m=this.zr.getHeight();for(var i=0;i<h.length;i++){var n=h[i];if(isCoordAvailable(n[0])&&isCoordAvailable(n[1])){var o=this.deepMerge(n);var p=[o,b];var q=g;var r=o.value!=null?o.value:'';if(e){q=isNaN(r)?q:e.getColor(r);var s=this.deepQuery(p,'itemStyle.normal.color')||q;var t=this.deepQuery(p,'itemStyle.emphasis.color')||s;if(s==null&&t==null){continue}}n[0].tooltip=o.tooltip||b.tooltip||{trigger:'item'};n[0].name=n[0].name||'';n[1].name=n[1].name||'';n[0].value=r;j.push({points:[[this.parsePercent(n[0].x,k),this.parsePercent(n[0].y,m)],[this.parsePercent(n[1].x,k),this.parsePercent(n[1].y,m)]],rawData:n,color:q})}}var u=this.query(b,'bundling.enable');if(u){var v=new O();v.maxTurningAngle=this.query(b,'bundling.maxTurningAngle')/180*Math.PI;j=v.run(j)}b.name=c.name;var w=[];for(var i=0,l=j.length;i<l;i++){var x=j[i];var y=x.rawEdge||x;var n=y.rawData;var r=n.value!=null?n.value:'';var z=this.getMarkLineShape(b,a,n,i,x.points,u,y.color);z._mark='line';var A=this.deepMerge([n[0],n[1],b],'effect');if(A.show){z.effect=A;z.effect.large=b.large}if(c.type===I.CHART_TYPE_MAP){z._geo=[this.getMarkGeo(n[0]),this.getMarkGeo(n[1])]}J.pack(z,c,a,n[0],i,n[0].name+(n[1].name!==''?' > '+n[1].name:''),r);w.push(z)}return w}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(a,b,c,d,e,x,y,f,g,h,i){var j=[c,a];var k=this.getDataFromOption(c,'-');f=this.deepQuery(j,'symbol')||f;var l=this.deepQuery(j,'symbolSize');l=typeof l==='function'?l(k):l;if(typeof l==='number'){l=[l,l]}var m=this.deepQuery(j,'symbolRotate');var n=this.deepMerge(j,'itemStyle.normal');var o=this.deepMerge(j,'itemStyle.emphasis');var p=n.borderWidth!=null?n.borderWidth:n.lineStyle&&n.lineStyle.width;if(p==null){p=f.match('empty')?2:0}var q=o.borderWidth!=null?o.borderWidth:o.lineStyle&&o.lineStyle.width;if(q==null){q=p+2}var r=this.getItemStyleColor(n.color,b,d,c);var s=this.getItemStyleColor(o.color,b,d,c);var t=l[0];var u=l[1];var v=new D({style:{iconType:f.replace('empty','').toLowerCase(),x:x-t,y:y-u,width:t*2,height:u*2,brushType:'both',color:f.match('empty')?h:r||g,strokeColor:n.borderColor||r||g,lineWidth:p},highlightStyle:{color:f.match('empty')?h:s||r||g,strokeColor:o.borderColor||n.borderColor||s||r||g,lineWidth:q},clickable:this.deepQuery(j,'clickable')});if(f.match('image')){v.style.image=f.replace(new RegExp('^image:\\/\\/'),'');v=new C({style:v.style,highlightStyle:v.highlightStyle,clickable:this.deepQuery(j,'clickable')})}if(m!=null){v.rotation=[m*Math.PI/180,x,y]}if(f.match('star')){v.style.iconType='star';v.style.n=f.replace('empty','').replace('star','')-0||5}if(f==='none'){v.invisible=true;v.hoverable=false}v=this.addLabel(v,a,c,e,i);if(f.match('empty')){if(v.style.textColor==null){v.style.textColor=v.style.strokeColor}if(v.highlightStyle.textColor==null){v.highlightStyle.textColor=v.highlightStyle.strokeColor}}J.pack(v,a,b,c,d,e);v._x=x;v._y=y;v._dataIndex=d;v._seriesIndex=b;return v},getMarkLineShape:function(a,b,c,d,e,f,g){var h=c[0].value!=null?c[0].value:'-';var i=c[1].value!=null?c[1].value:'-';var j=[c[0].symbol||a.symbol[0],c[1].symbol||a.symbol[1]];var k=[c[0].symbolSize||a.symbolSize[0],c[1].symbolSize||a.symbolSize[1]];k[0]=typeof k[0]==='function'?k[0](h):k[0];k[1]=typeof k[1]==='function'?k[1](i):k[1];var l=[this.query(c[0],'symbolRotate')||a.symbolRotate[0],this.query(c[1],'symbolRotate')||a.symbolRotate[1]];var m=[c[0],c[1],a];var n=this.deepMerge(m,'itemStyle.normal');n.color=this.getItemStyleColor(n.color,b,d,c);var o=this.deepMerge(m,'itemStyle.emphasis');o.color=this.getItemStyleColor(o.color,b,d,c);var p=n.lineStyle;var q=o.lineStyle;var r=p.width;if(r==null){r=n.borderWidth}var s=q.width;if(s==null){s=o.borderWidth!=null?o.borderWidth:r+2}var t=this.deepQuery(m,'smoothness');if(!this.deepQuery(m,'smooth')){t=0}var u=f?G:E;var v=new u({style:{symbol:j,symbolSize:k,symbolRotate:l,brushType:'both',lineType:p.type,shadowColor:p.shadowColor||p.color||n.borderColor||n.color||g,shadowBlur:p.shadowBlur,shadowOffsetX:p.shadowOffsetX,shadowOffsetY:p.shadowOffsetY,color:n.color||g,strokeColor:p.color||n.borderColor||n.color||g,lineWidth:r,symbolBorderColor:n.borderColor||n.color||g,symbolBorder:n.borderWidth},highlightStyle:{shadowColor:q.shadowColor,shadowBlur:q.shadowBlur,shadowOffsetX:q.shadowOffsetX,shadowOffsetY:q.shadowOffsetY,color:o.color||n.color||g,strokeColor:q.color||p.color||o.borderColor||n.borderColor||o.color||n.color||g,lineWidth:s,symbolBorderColor:o.borderColor||n.borderColor||o.color||n.color||g,symbolBorder:o.borderWidth==null?n.borderWidth+2:o.borderWidth},clickable:this.deepQuery(m,'clickable')});var w=v.style;if(f){w.pointList=e;w.smooth=t}else{w.xStart=e[0][0];w.yStart=e[0][1];w.xEnd=e[1][0];w.yEnd=e[1][1];w.curveness=t;v.updatePoints(v.style)}v=this.addLabel(v,a,c[0],c[0].name+' : '+c[1].name);return v},getLargeMarkPointShape:function(a,b){var c=this.series[a];var d=this.component;var e=b.data;var f;var g=d.dataRange;var h=d.legend;var i;var j;var k=[e[0],b];var l;var m;var n;if(h){i=h.getColor(c.name)}if(g){j=e[0].value!=null?e[0].value:'';i=isNaN(j)?i:g.getColor(j);l=this.deepQuery(k,'itemStyle.normal.color')||i;m=this.deepQuery(k,'itemStyle.emphasis.color')||l;if(l==null&&m==null){return}}i=this.deepMerge(k,'itemStyle.normal').color||i;var o=this.deepQuery(k,'symbol')||'circle';o=o.replace('empty','').replace(/\d/g,'');n=this.deepMerge([e[0],b],'effect');var p=window.devicePixelRatio||1;f=new F({style:{pointList:e,color:i,strokeColor:i,shadowColor:n.shadowColor||i,shadowBlur:(n.shadowBlur!=null?n.shadowBlur:8)*p,size:this.deepQuery(k,'symbolSize'),iconType:o,brushType:'fill',lineWidth:1},draggable:false,hoverable:false});if(n.show){f.effect=n}return f},backupShapeList:function(){if(this.shapeList&&this.shapeList.length>0){this.lastShapeList=this.shapeList;this.shapeList=[]}else{this.lastShapeList=[]}},addShapeList:function(){var a=this.option.animationThreshold/(this.canvasSupported?2:4);var b=this.lastShapeList;var c=this.shapeList;var d=b.length>0;var e=d?this.query(this.option,'animationDurationUpdate'):this.query(this.option,'animationDuration');var f=this.query(this.option,'animationEasing');var g;var h;var j={};var k={};if(this.option.animation&&!this.option.renderAsImage&&c.length<a&&!this.motionlessOnce){for(var i=0,l=b.length;i<l;i++){h=this._getAnimationKey(b[i]);if(h.match('undefined')){this.zr.delShape(b[i].id)}else{h+=b[i].type;if(j[h]){this.zr.delShape(b[i].id)}else{j[h]=b[i]}}}for(var i=0,l=c.length;i<l;i++){h=this._getAnimationKey(c[i]);if(h.match('undefined')){this.zr.addShape(c[i])}else{h+=c[i].type;k[h]=c[i]}}for(h in j){if(!k[h]){this.zr.delShape(j[h].id)}}for(h in k){if(j[h]){this.zr.delShape(j[h].id);this._animateMod(j[h],k[h],e,f,0,d)}else{g=(this.type==I.CHART_TYPE_LINE||this.type==I.CHART_TYPE_RADAR)&&h.indexOf('icon')!==0?e/2:0;this._animateMod(false,k[h],e,f,g,d)}}this.zr.refresh();this.animationEffect()}else{this.motionlessOnce=false;this.zr.delShape(b);for(var i=0,l=c.length;i<l;i++){this.zr.addShape(c[i])}}},_getAnimationKey:function(a){if(this.type!=I.CHART_TYPE_MAP&&this.type!=I.CHART_TYPE_TREEMAP&&this.type!=I.CHART_TYPE_VENN&&this.type!=I.CHART_TYPE_TREE){return J.get(a,'seriesIndex')+'_'+J.get(a,'dataIndex')+(a._mark?a._mark:'')+(this.type===I.CHART_TYPE_RADAR?J.get(a,'special'):'')}else{return J.get(a,'seriesIndex')+'_'+J.get(a,'dataIndex')+(a._mark?a._mark:'undefined')}},_animateMod:function(a,b,c,d,e,f){switch(b.type){case'polyline':case'half-smooth-polygon':K.pointList(this.zr,a,b,c,d);break;case'rectangle':K.rectangle(this.zr,a,b,c,d);break;case'image':case'icon':K.icon(this.zr,a,b,c,d,e);break;case'candle':if(!f){K.candle(this.zr,a,b,c,d)}else{this.zr.addShape(b)}break;case'ring':case'sector':case'circle':if(!f){K.ring(this.zr,a,b,c+(J.get(b,'dataIndex')||0)%20*100,d)}else if(b.type==='sector'){K.sector(this.zr,a,b,c,d)}else{this.zr.addShape(b)}break;case'text':K.text(this.zr,a,b,c,d);break;case'polygon':if(!f){K.polygon(this.zr,a,b,c,d)}else{K.pointList(this.zr,a,b,c,d)}break;case'ribbon':K.ribbon(this.zr,a,b,c,d);break;case'gauge-pointer':K.gaugePointer(this.zr,a,b,c,d);break;case'mark-line':K.markline(this.zr,a,b,c,d);break;case'bezier-curve':case'line':K.line(this.zr,a,b,c,d);break;default:this.zr.addShape(b);break}},animationMark:function(a,b,c){var c=c||this.shapeList;for(var i=0,l=c.length;i<l;i++){if(!c[i]._mark){continue}this._animateMod(false,c[i],a,b,0,true)}this.animationEffect(c)},animationEffect:function(a){!a&&this.clearEffectShape();a=a||this.shapeList;if(a==null){return}var b=I.EFFECT_ZLEVEL;if(this.canvasSupported){this.zr.modLayer(b,{motionBlur:true,lastFrameAlpha:0.95})}var c;for(var i=0,l=a.length;i<l;i++){c=a[i];if(!(c._mark&&c.effect&&c.effect.show&&L[c._mark])){continue}L[c._mark](this.zr,this.effectList,c,b);this.effectList[this.effectList.length-1]._mark=c._mark}},clearEffectShape:function(a){var b=this.effectList;if(this.zr&&b&&b.length>0){a&&this.zr.modLayer(I.EFFECT_ZLEVEL,{motionBlur:false});this.zr.delShape(b);for(var i=0;i<b.length;i++){if(b[i].effectAnimator){b[i].effectAnimator.stop()}}}this.effectList=[]},addMark:function(a,b,c){var d=this.series[a];if(this.selectedMap[d.name]){var e=this.query(this.option,'animationDurationUpdate');var f=this.query(this.option,'animationEasing');var g=d[c].data;var h=this.shapeList.length;d[c].data=b.data;this['_build'+c.replace('m','M')](a);if(this.option.animation&&!this.option.renderAsImage){this.animationMark(e,f,this.shapeList.slice(h))}else{for(var i=h,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}this.zr.refreshNextFrame()}d[c].data=g}},delMark:function(a,b,c){c=c.replace('mark','').replace('large','').toLowerCase();var d=this.series[a];if(this.selectedMap[d.name]){var e=false;var f=[this.shapeList,this.effectList];var g=2;while(g--){for(var i=0,l=f[g].length;i<l;i++){if(f[g][i]._mark==c&&J.get(f[g][i],'seriesIndex')==a&&J.get(f[g][i],'name')==b){this.zr.delShape(f[g][i].id);f[g].splice(i,1);e=true;break}}}e&&this.zr.refreshNextFrame()}}};P.inherits(Base,N);return Base});define('zrender/shape/Circle',['require','./Base','../tool/util'],function(c){'use strict';var d=c('./Base');var e=function(a){d.call(this,a)};e.prototype={type:'circle',buildPath:function(a,b){a.moveTo(b.x+b.r,b.y);a.arc(b.x,b.y,b.r,0,Math.PI*2,true);return},getRect:function(a){if(a.__rect){return a.__rect}var b;if(a.brushType=='stroke'||a.brushType=='fill'){b=a.lineWidth||1}else{b=0}a.__rect={x:Math.round(a.x-a.r-b/2),y:Math.round(a.y-a.r-b/2),width:a.r*2+b,height:a.r*2+b};return a.__rect}};c('../tool/util').inherits(e,d);return e});define('echarts/util/accMath',[],function(){function accDiv(a,b){var c=a.toString();var d=b.toString();var m=0;try{m=d.split('.')[1].length}catch(e){}try{m-=c.split('.')[1].length}catch(e){}return(c.replace('.','')-0)/(d.replace('.','')-0)*Math.pow(10,m)}function accMul(a,b){var c=a.toString();var d=b.toString();var m=0;try{m+=c.split('.')[1].length}catch(e){}try{m+=d.split('.')[1].length}catch(e){}return(c.replace('.','')-0)*(d.replace('.','')-0)/Math.pow(10,m)}function accAdd(a,b){var c=0;var d=0;try{c=a.toString().split('.')[1].length}catch(e){}try{d=b.toString().split('.')[1].length}catch(e){}var m=Math.pow(10,Math.max(c,d));return(Math.round(a*m)+Math.round(b*m))/m}function accSub(a,b){return accAdd(a,-b)}return{accDiv:accDiv,accMul:accMul,accAdd:accAdd,accSub:accSub}});define('echarts/util/shape/Icon',['require','zrender/tool/util','zrender/shape/Star','zrender/shape/Heart','zrender/shape/Droplet','zrender/shape/Image','zrender/shape/Base'],function(h){var i=h('zrender/tool/util');function _iconMark(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x,y+b.height);a.lineTo(x+5*c,y+14*d);a.lineTo(x+b.width,y+3*d);a.lineTo(x+13*c,y);a.lineTo(x+2*c,y+11*d);a.lineTo(x,y+b.height);a.moveTo(x+6*c,y+10*d);a.lineTo(x+14*c,y+2*d);a.moveTo(x+10*c,y+13*d);a.lineTo(x+b.width,y+13*d);a.moveTo(x+13*c,y+10*d);a.lineTo(x+13*c,y+b.height)}function _iconMarkUndo(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x,y+b.height);a.lineTo(x+5*c,y+14*d);a.lineTo(x+b.width,y+3*d);a.lineTo(x+13*c,y);a.lineTo(x+2*c,y+11*d);a.lineTo(x,y+b.height);a.moveTo(x+6*c,y+10*d);a.lineTo(x+14*c,y+2*d);a.moveTo(x+10*c,y+13*d);a.lineTo(x+b.width,y+13*d)}function _iconMarkClear(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x+4*c,y+15*d);a.lineTo(x+9*c,y+13*d);a.lineTo(x+14*c,y+8*d);a.lineTo(x+11*c,y+5*d);a.lineTo(x+6*c,y+10*d);a.lineTo(x+4*c,y+15*d);a.moveTo(x+5*c,y);a.lineTo(x+11*c,y);a.moveTo(x+5*c,y+d);a.lineTo(x+11*c,y+d);a.moveTo(x,y+2*d);a.lineTo(x+b.width,y+2*d);a.moveTo(x,y+5*d);a.lineTo(x+3*c,y+b.height);a.lineTo(x+13*c,y+b.height);a.lineTo(x+b.width,y+5*d)}function _iconInnerView(a,b){_iconDataZoom(a,b)}function _iconDataZoom(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.lineWidth=1.5;a.moveTo(x,y+3*d);a.lineTo(x+6*c,y+3*d);a.moveTo(x+3*c,y);a.lineTo(x+3*c,y+6*d);a.moveTo(x+3*c,y+8*d);a.lineTo(x+3*c,y+b.height);a.lineTo(x+b.width,y+b.height);a.lineTo(x+b.width,y+3*d);a.lineTo(x+8*c,y+3*d)}function _iconDataZoomReset(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;var r=b.width/2;a.lineWidth=1.5;a.moveTo(x+6*c,y);a.lineTo(x+2*c,y+3*d);a.lineTo(x+6*c,y+6*d);a.moveTo(x+2*c,y+3*d);a.lineTo(x+14*c,y+3*d);a.lineTo(x+14*c,y+11*d);a.moveTo(x+2*c,y+5*d);a.lineTo(x+2*c,y+13*d);a.lineTo(x+14*c,y+13*d);a.moveTo(x+10*c,y+10*d);a.lineTo(x+14*c,y+13*d);a.lineTo(x+10*c,y+b.height)}function _iconOutView(a,b){_iconDataZoomReset(a,b)}function _iconRestore(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;var r=b.width/2;a.lineWidth=1.5;a.arc(x+r,y+r,r-c,0,Math.PI*2/3);a.moveTo(x+3*c,y+b.height);a.lineTo(x+0*c,y+12*d);a.lineTo(x+5*c,y+11*d);a.moveTo(x,y+8*d);a.arc(x+r,y+r,r-c,Math.PI,Math.PI*5/3);a.moveTo(x+13*c,y);a.lineTo(x+b.width,y+4*d);a.lineTo(x+11*c,y+5*d)}function _iconLineChart(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x,y);a.lineTo(x,y+b.height);a.lineTo(x+b.width,y+b.height);a.moveTo(x+2*c,y+14*d);a.lineTo(x+7*c,y+6*d);a.lineTo(x+11*c,y+11*d);a.lineTo(x+15*c,y+2*d)}function _iconBarChart(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x,y);a.lineTo(x,y+b.height);a.lineTo(x+b.width,y+b.height);a.moveTo(x+3*c,y+14*d);a.lineTo(x+3*c,y+6*d);a.lineTo(x+4*c,y+6*d);a.lineTo(x+4*c,y+14*d);a.moveTo(x+7*c,y+14*d);a.lineTo(x+7*c,y+2*d);a.lineTo(x+8*c,y+2*d);a.lineTo(x+8*c,y+14*d);a.moveTo(x+11*c,y+14*d);a.lineTo(x+11*c,y+9*d);a.lineTo(x+12*c,y+9*d);a.lineTo(x+12*c,y+14*d)}function _iconPieChart(a,b){var x=b.x;var y=b.y;var c=b.width-2;var d=b.height-2;var r=Math.min(c,d)/2;y+=2;a.moveTo(x+r+3,y+r-3);a.arc(x+r+3,y+r-3,r-1,0,-Math.PI/2,true);a.lineTo(x+r+3,y+r-3);a.moveTo(x+r,y);a.lineTo(x+r,y+r);a.arc(x+r,y+r,r,-Math.PI/2,Math.PI*2,true);a.lineTo(x+r,y+r);a.lineWidth=1.5}function _iconFunnelChart(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;y-=d;a.moveTo(x+1*c,y+2*d);a.lineTo(x+15*c,y+2*d);a.lineTo(x+14*c,y+3*d);a.lineTo(x+2*c,y+3*d);a.moveTo(x+3*c,y+6*d);a.lineTo(x+13*c,y+6*d);a.lineTo(x+12*c,y+7*d);a.lineTo(x+4*c,y+7*d);a.moveTo(x+5*c,y+10*d);a.lineTo(x+11*c,y+10*d);a.lineTo(x+10*c,y+11*d);a.lineTo(x+6*c,y+11*d);a.moveTo(x+7*c,y+14*d);a.lineTo(x+9*c,y+14*d);a.lineTo(x+8*c,y+15*d);a.lineTo(x+7*c,y+15*d)}function _iconForceChart(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;var e=c/16;var f=d/16;var r=Math.min(e,f)*2;a.moveTo(x+e+r,y+f+r);a.arc(x+e,y+f,r,Math.PI/4,Math.PI*3);a.lineTo(x+7*e-r,y+6*f-r);a.arc(x+7*e,y+6*f,r,Math.PI/4*5,Math.PI*4);a.arc(x+7*e,y+6*f,r/2,Math.PI/4*5,Math.PI*4);a.moveTo(x+7*e-r/2,y+6*f+r);a.lineTo(x+e+r,y+14*f-r);a.arc(x+e,y+14*f,r,-Math.PI/4,Math.PI*2);a.moveTo(x+7*e+r/2,y+6*f);a.lineTo(x+14*e-r,y+10*f-r/2);a.moveTo(x+16*e,y+10*f);a.arc(x+14*e,y+10*f,r,0,Math.PI*3);a.lineWidth=1.5}function _iconChordChart(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;var r=Math.min(c,d)/2;a.moveTo(x+c,y+d/2);a.arc(x+r,y+r,r,0,Math.PI*2);a.arc(x+r,y,r,Math.PI/4,Math.PI/5*4);a.arc(x,y+r,r,-Math.PI/3,Math.PI/3);a.arc(x+c,y+d,r,Math.PI,Math.PI/2*3);a.lineWidth=1.5}function _iconStackChart(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;var e=Math.round(d/3);var f=Math.round((e-2)/2);var g=3;while(g--){a.rect(x,y+e*g+f,c,2)}}function _iconTiledChart(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;var e=Math.round(c/3);var f=Math.round((e-2)/2);var g=3;while(g--){a.rect(x+e*g+f,y,2,d)}}function _iconDataView(a,b){var x=b.x;var y=b.y;var c=b.width/16;a.moveTo(x+c,y);a.lineTo(x+c,y+b.height);a.lineTo(x+15*c,y+b.height);a.lineTo(x+15*c,y);a.lineTo(x+c,y);a.moveTo(x+3*c,y+3*c);a.lineTo(x+13*c,y+3*c);a.moveTo(x+3*c,y+6*c);a.lineTo(x+13*c,y+6*c);a.moveTo(x+3*c,y+9*c);a.lineTo(x+13*c,y+9*c);a.moveTo(x+3*c,y+12*c);a.lineTo(x+9*c,y+12*c)}function _iconSave(a,b){var x=b.x;var y=b.y;var c=b.width/16;var d=b.height/16;a.moveTo(x,y);a.lineTo(x,y+b.height);a.lineTo(x+b.width,y+b.height);a.lineTo(x+b.width,y);a.lineTo(x,y);a.moveTo(x+4*c,y);a.lineTo(x+4*c,y+8*d);a.lineTo(x+12*c,y+8*d);a.lineTo(x+12*c,y);a.moveTo(x+6*c,y+11*d);a.lineTo(x+6*c,y+13*d);a.lineTo(x+10*c,y+13*d);a.lineTo(x+10*c,y+11*d);a.lineTo(x+6*c,y+11*d)}function _iconCross(a,b){var x=b.x;var y=b.y;var c=b.width;var d=b.height;a.moveTo(x,y+d/2);a.lineTo(x+c,y+d/2);a.moveTo(x+c/2,y);a.lineTo(x+c/2,y+d)}function _iconCircle(a,b){var c=b.width/2;var d=b.height/2;var r=Math.min(c,d);a.moveTo(b.x+c+r,b.y+d);a.arc(b.x+c,b.y+d,r,0,Math.PI*2);a.closePath()}function _iconRectangle(a,b){a.rect(b.x,b.y,b.width,b.height);a.closePath()}function _iconTriangle(a,b){var c=b.width/2;var d=b.height/2;var x=b.x+c;var y=b.y+d;var e=Math.min(c,d);a.moveTo(x,y-e);a.lineTo(x+e,y+e);a.lineTo(x-e,y+e);a.lineTo(x,y-e);a.closePath()}function _iconDiamond(a,b){var c=b.width/2;var d=b.height/2;var x=b.x+c;var y=b.y+d;var e=Math.min(c,d);a.moveTo(x,y-e);a.lineTo(x+e,y);a.lineTo(x,y+e);a.lineTo(x-e,y);a.lineTo(x,y-e);a.closePath()}function _iconArrow(a,b){var x=b.x;var y=b.y;var c=b.width/16;a.moveTo(x+8*c,y);a.lineTo(x+c,y+b.height);a.lineTo(x+8*c,y+b.height/4*3);a.lineTo(x+15*c,y+b.height);a.lineTo(x+8*c,y);a.closePath()}function _iconStar(a,b){var c=h('zrender/shape/Star');var d=b.width/2;var e=b.height/2;c.prototype.buildPath(a,{x:b.x+d,y:b.y+e,r:Math.min(d,e),n:b.n||5})}function _iconHeart(a,b){var c=h('zrender/shape/Heart');c.prototype.buildPath(a,{x:b.x+b.width/2,y:b.y+b.height*0.2,a:b.width/2,b:b.height*0.8})}function _iconDroplet(a,b){var c=h('zrender/shape/Droplet');c.prototype.buildPath(a,{x:b.x+b.width*0.5,y:b.y+b.height*0.5,a:b.width*0.5,b:b.height*0.8})}function _iconPin(a,b){var x=b.x;var y=b.y-b.height/2*1.5;var c=b.width/2;var d=b.height/2;var r=Math.min(c,d);a.arc(x+c,y+d,r,Math.PI/5*4,Math.PI/5);a.lineTo(x+c,y+d+r*1.5);a.closePath()}function _iconImage(a,b,c){var d=h('zrender/shape/Image');this._imageShape=this._imageShape||new d({style:{}});for(var e in b){this._imageShape.style[e]=b[e]}this._imageShape.brush(a,false,c)}var j=h('zrender/shape/Base');function Icon(a){j.call(this,a)}Icon.prototype={type:'icon',iconLibrary:{innerView:_iconInnerView,outView:_iconOutView,mark:_iconMark,markUndo:_iconMarkUndo,markClear:_iconMarkClear,dataZoom:_iconDataZoom,dataZoomReset:_iconDataZoomReset,restore:_iconRestore,lineChart:_iconLineChart,barChart:_iconBarChart,pieChart:_iconPieChart,funnelChart:_iconFunnelChart,forceChart:_iconForceChart,chordChart:_iconChordChart,stackChart:_iconStackChart,tiledChart:_iconTiledChart,dataView:_iconDataView,saveAsImage:_iconSave,cross:_iconCross,circle:_iconCircle,rectangle:_iconRectangle,triangle:_iconTriangle,diamond:_iconDiamond,arrow:_iconArrow,star:_iconStar,heart:_iconHeart,droplet:_iconDroplet,pin:_iconPin,image:_iconImage},brush:function(a,b,c){var d=b?this.highlightStyle:this.style;d=d||{};var e=d.iconType||this.style.iconType;if(e==='image'){var f=h('zrender/shape/Image');f.prototype.brush.call(this,a,b,c)}else{var d=this.beforeBrush(a,b);a.beginPath();this.buildPath(a,d,c);switch(d.brushType){case'both':a.fill();case'stroke':d.lineWidth>0&&a.stroke();break;default:a.fill()}this.drawText(a,d,this.style);this.afterBrush(a)}},buildPath:function(a,b,c){if(this.iconLibrary[b.iconType]){this.iconLibrary[b.iconType].call(this,a,b,c)}else{a.moveTo(b.x,b.y);a.lineTo(b.x+b.width,b.y);a.lineTo(b.x+b.width,b.y+b.height);a.lineTo(b.x,b.y+b.height);a.lineTo(b.x,b.y);a.closePath()}return},getRect:function(a){if(a.__rect){return a.__rect}a.__rect={x:Math.round(a.x),y:Math.round(a.y-(a.iconType=='pin'?a.height/2*1.5:0)),width:a.width,height:a.height*(a.iconType==='pin'?1.25:1)};return a.__rect},isCover:function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];var b=this.style.__rect;if(!b){b=this.style.__rect=this.getRect(this.style)}var c=b.height<8||b.width<8?4:0;return x>=b.x-c&&x<=b.x+b.width+c&&y>=b.y-c&&y<=b.y+b.height+c}};i.inherits(Icon,j);return Icon});define('echarts/util/shape/MarkLine',['require','zrender/shape/Base','./Icon','zrender/shape/Line','zrender/shape/BezierCurve','zrender/tool/area','zrender/shape/util/dashedLineTo','zrender/tool/util','zrender/tool/curve'],function(r){var s=r('zrender/shape/Base');var t=r('./Icon');var u=r('zrender/shape/Line');var v=new u({});var w=r('zrender/shape/BezierCurve');var z=new w({});var A=r('zrender/tool/area');var B=r('zrender/shape/util/dashedLineTo');var C=r('zrender/tool/util');var D=r('zrender/tool/curve');function MarkLine(a){s.call(this,a);if(this.style.curveness>0){this.updatePoints(this.style)}if(this.highlightStyle.curveness>0){this.updatePoints(this.highlightStyle)}}MarkLine.prototype={type:'mark-line',brush:function(a,b){var c=this.style;if(b){c=this.getHighlightStyle(c,this.highlightStyle||{})}a.save();this.setContext(a,c);this.setTransform(a);a.save();a.beginPath();this.buildPath(a,c);a.stroke();a.restore();this.brushSymbol(a,c,0);this.brushSymbol(a,c,1);this.drawText(a,c,this.style);a.restore()},buildPath:function(a,b){var c=b.lineType||'solid';a.moveTo(b.xStart,b.yStart);if(b.curveness>0){var d=null;switch(c){case'dashed':d=[5,5];break;case'dotted':d=[1,1];break}if(d&&a.setLineDash){a.setLineDash(d)}a.quadraticCurveTo(b.cpX1,b.cpY1,b.xEnd,b.yEnd)}else{if(c=='solid'){a.lineTo(b.xEnd,b.yEnd)}else{var e=(b.lineWidth||1)*(b.lineType=='dashed'?5:1);B(a,b.xStart,b.yStart,b.xEnd,b.yEnd,e)}}},updatePoints:function(a){var b=a.curveness||0;var c=1;var d=a.xStart;var e=a.yStart;var f=a.xEnd;var g=a.yEnd;var h=(d+f)/2-c*(e-g)*b;var i=(e+g)/2-c*(f-d)*b;a.cpX1=h;a.cpY1=i},brushSymbol:function(a,b,c){if(b.symbol[c]=='none'){return}a.save();a.beginPath();a.lineWidth=b.symbolBorder;a.strokeStyle=b.symbolBorderColor;var d=b.symbol[c].replace('empty','').toLowerCase();if(b.symbol[c].match('empty')){a.fillStyle='#fff'}var e=b.xStart;var f=b.yStart;var g=b.xEnd;var h=b.yEnd;var x=c===0?e:g;var y=c===0?f:h;var i=b.curveness||0;var j=b.symbolRotate[c]!=null?b.symbolRotate[c]-0:0;j=j/180*Math.PI;if(d=='arrow'&&j===0){if(i===0){var k=c===0?-1:1;j=Math.PI/2+Math.atan2(k*(h-f),k*(g-e))}else{var l=b.cpX1;var m=b.cpY1;var n=D.quadraticDerivativeAt;var o=n(e,l,g,c);var p=n(f,m,h,c);j=Math.PI/2+Math.atan2(p,o)}}a.translate(x,y);if(j!==0){a.rotate(j)}var q=b.symbolSize[c];t.prototype.buildPath(a,{x:-q,y:-q,width:q*2,height:q*2,iconType:d});a.closePath();a.fill();a.stroke();a.restore()},getRect:function(a){a.curveness>0?z.getRect(a):v.getRect(a);return a.__rect},isCover:function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];if(this.isCoverRect(x,y)){return this.style.curveness>0?A.isInside(z,this.style,x,y):A.isInside(v,this.style,x,y)}return false}};C.inherits(MarkLine,s);return MarkLine});define('echarts/util/shape/Symbol',['require','zrender/shape/Base','zrender/shape/Polygon','zrender/tool/util','./normalIsCover'],function(q){var r=q('zrender/shape/Base');var s=q('zrender/shape/Polygon');var t=new s({});var u=q('zrender/tool/util');function Symbol(a){r.call(this,a)}Symbol.prototype={type:'symbol',buildPath:function(a,b){var c=b.pointList;var d=c.length;if(d===0){return}var e=10000;var f=Math.ceil(d/e);var g;var h;var k=c[0]instanceof Array;var l=b.size?b.size:2;var m=l;var n=l/2;var o=Math.PI*2;var p;var x;var y;for(var j=0;j<f;j++){a.beginPath();g=j*e;h=g+e;h=h>d?d:h;for(var i=g;i<h;i++){if(b.random){p=b['randomMap'+i%20]/100;m=l*p*p;n=m/2}if(k){x=c[i][0];y=c[i][1]}else{x=c[i].x;y=c[i].y}if(m<3){a.rect(x-n,y-n,m,m)}else{switch(b.iconType){case'circle':a.moveTo(x,y);a.arc(x,y,n,0,o,true);break;case'diamond':a.moveTo(x,y-n);a.lineTo(x+n/3,y-n/3);a.lineTo(x+n,y);a.lineTo(x+n/3,y+n/3);a.lineTo(x,y+n);a.lineTo(x-n/3,y+n/3);a.lineTo(x-n,y);a.lineTo(x-n/3,y-n/3);a.lineTo(x,y-n);break;default:a.rect(x-n,y-n,m,m)}}}a.closePath();if(j<f-1){switch(b.brushType){case'both':a.fill();b.lineWidth>0&&a.stroke();break;case'stroke':b.lineWidth>0&&a.stroke();break;default:a.fill()}}}},getRect:function(a){return a.__rect||t.getRect(a)},isCover:q('./normalIsCover')};u.inherits(Symbol,r);return Symbol});define('zrender/shape/Polyline',['require','./Base','./util/smoothSpline','./util/smoothBezier','./util/dashedLineTo','./Polygon','../tool/util'],function(j){var k=j('./Base');var l=j('./util/smoothSpline');var m=j('./util/smoothBezier');var n=j('./util/dashedLineTo');var o=function(a){this.brushTypeOnly='stroke';this.textPosition='end';k.call(this,a)};o.prototype={type:'polyline',buildPath:function(a,b){var c=b.pointList;if(c.length<2){return}var d=Math.min(b.pointList.length,Math.round(b.pointListLength||b.pointList.length));if(b.smooth&&b.smooth!=='spline'){if(!b.controlPointList){this.updateControlPoints(b)}var e=b.controlPointList;a.moveTo(c[0][0],c[0][1]);var f;var g;var p;for(var i=0;i<d-1;i++){f=e[i*2];g=e[i*2+1];p=c[i+1];a.bezierCurveTo(f[0],f[1],g[0],g[1],p[0],p[1])}}else{if(b.smooth==='spline'){c=l(c);d=c.length}if(!b.lineType||b.lineType=='solid'){a.moveTo(c[0][0],c[0][1]);for(var i=1;i<d;i++){a.lineTo(c[i][0],c[i][1])}}else if(b.lineType=='dashed'||b.lineType=='dotted'){var h=(b.lineWidth||1)*(b.lineType=='dashed'?5:1);a.moveTo(c[0][0],c[0][1]);for(var i=1;i<d;i++){n(a,c[i-1][0],c[i-1][1],c[i][0],c[i][1],h)}}}return},updateControlPoints:function(a){a.controlPointList=m(a.pointList,a.smooth,false,a.smoothConstraint)},getRect:function(a){return j('./Polygon').prototype.getRect(a)}};j('../tool/util').inherits(o,k);return o});define('zrender/shape/ShapeBundle',['require','./Base','../tool/util'],function(h){var j=h('./Base');var k=function(a){j.call(this,a)};k.prototype={constructor:k,type:'shape-bundle',brush:function(a,b){var c=this.beforeBrush(a,b);a.beginPath();for(var i=0;i<c.shapeList.length;i++){var d=c.shapeList[i];var e=d.style;if(b){e=d.getHighlightStyle(e,d.highlightStyle||{},d.brushTypeOnly)}d.buildPath(a,e)}switch(c.brushType){case'both':a.fill();case'stroke':c.lineWidth>0&&a.stroke();break;default:a.fill()}this.drawText(a,c,this.style);this.afterBrush(a)},getRect:function(a){if(a.__rect){return a.__rect}var b=Infinity;var c=-Infinity;var d=Infinity;var e=-Infinity;for(var i=0;i<a.shapeList.length;i++){var f=a.shapeList[i];var g=f.getRect(f.style);var b=Math.min(g.x,b);var d=Math.min(g.y,d);var c=Math.max(g.x+g.width,c);var e=Math.max(g.y+g.height,e)}a.__rect={x:b,y:d,width:c-b,height:e-d};return a.__rect},isCover:function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];if(this.isCoverRect(x,y)){for(var i=0;i<this.style.shapeList.length;i++){var b=this.style.shapeList[i];if(b.isCover(x,y)){return true}}}return false}};h('../tool/util').inherits(k,j);return k});define('echarts/util/ecAnimation',['require','zrender/tool/util','zrender/tool/curve','zrender/shape/Polygon'],function(s){var t=s('zrender/tool/util');var u=s('zrender/tool/curve');function pointList(a,b,c,d,e){var f=c.style.pointList;var g=f.length;var h;if(!b){h=[];if(c._orient!='vertical'){var y=f[0][1];for(var i=0;i<g;i++){h[i]=[f[i][0],y]}}else{var x=f[0][0];for(var i=0;i<g;i++){h[i]=[x,f[i][1]]}}if(c.type=='half-smooth-polygon'){h[g-1]=t.clone(f[g-1]);h[g-2]=t.clone(f[g-2])}b={style:{pointList:h}}}h=b.style.pointList;var j=h.length;if(j==g){c.style.pointList=h}else if(j<g){c.style.pointList=h.concat(f.slice(j))}else{c.style.pointList=h.slice(0,g)}a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{pointList:f}).during(function(){if(c.updateControlPoints){c.updateControlPoints(c.style)}}).done(function(){c.__animating=false}).start(e)}function cloneStyle(a,b){var c=arguments.length;for(var i=2;i<c;i++){var d=arguments[i];a.style[d]=b.style[d]}}function rectangle(a,b,c,d,e){var f=c.style;if(!b){b={position:c.position,style:{x:f.x,y:c._orient=='vertical'?f.y+f.height:f.y,width:c._orient=='vertical'?f.width:0,height:c._orient!='vertical'?f.height:0}}}var g=f.x;var h=f.y;var i=f.width;var j=f.height;var k=[c.position[0],c.position[1]];cloneStyle(c,b,'x','y','width','height');c.position=b.position;a.addShape(c);if(k[0]!=b.position[0]||k[1]!=b.position[1]){a.animate(c.id,'').when(d,{position:k}).start(e)}c.__animating=true;a.animate(c.id,'style').when(d,{x:g,y:h,width:i,height:j}).done(function(){c.__animating=false}).start(e)}function candle(a,b,c,d,e){if(!b){var y=c.style.y;b={style:{y:[y[0],y[0],y[0],y[0]]}}}var f=c.style.y;c.style.y=b.style.y;a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{y:f}).done(function(){c.__animating=false}).start(e)}function ring(a,b,c,d,e){var x=c.style.x;var y=c.style.y;var f=c.style.r0;var r=c.style.r;c.__animating=true;if(c._animationAdd!='r'){c.style.r0=0;c.style.r=0;c.rotation=[Math.PI*2,x,y];a.addShape(c);a.animate(c.id,'style').when(d,{r0:f,r:r}).done(function(){c.__animating=false}).start(e);a.animate(c.id,'').when(d,{rotation:[0,x,y]}).start(e)}else{c.style.r0=c.style.r;a.addShape(c);a.animate(c.id,'style').when(d,{r0:f}).done(function(){c.__animating=false}).start(e)}}function sector(a,b,c,d,e){if(!b){if(c._animationAdd!='r'){b={style:{startAngle:c.style.startAngle,endAngle:c.style.startAngle}}}else{b={style:{r0:c.style.r}}}}var f=c.style.startAngle;var g=c.style.endAngle;cloneStyle(c,b,'startAngle','endAngle');a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{startAngle:f,endAngle:g}).done(function(){c.__animating=false}).start(e)}function text(a,b,c,d,e){if(!b){b={style:{x:c.style.textAlign=='left'?c.style.x+100:c.style.x-100,y:c.style.y}}}var x=c.style.x;var y=c.style.y;cloneStyle(c,b,'x','y');a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{x:x,y:y}).done(function(){c.__animating=false}).start(e)}function polygon(a,b,c,d,e){var f=s('zrender/shape/Polygon').prototype.getRect(c.style);var x=f.x+f.width/2;var y=f.y+f.height/2;c.scale=[0.1,0.1,x,y];a.addShape(c);c.__animating=true;a.animate(c.id,'').when(d,{scale:[1,1,x,y]}).done(function(){c.__animating=false}).start(e)}function ribbon(a,b,c,d,e){if(!b){b={style:{source0:0,source1:c.style.source1>0?360:-360,target0:0,target1:c.style.target1>0?360:-360}}}var f=c.style.source0;var g=c.style.source1;var h=c.style.target0;var i=c.style.target1;if(b.style){cloneStyle(c,b,'source0','source1','target0','target1')}a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{source0:f,source1:g,target0:h,target1:i}).done(function(){c.__animating=false}).start(e)}function gaugePointer(a,b,c,d,e){if(!b){b={style:{angle:c.style.startAngle}}}var f=c.style.angle;c.style.angle=b.style.angle;a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{angle:f}).done(function(){c.__animating=false}).start(e)}function icon(a,b,c,d,e,f){c.style._x=c.style.x;c.style._y=c.style.y;c.style._width=c.style.width;c.style._height=c.style.height;if(!b){var x=c._x||0;var y=c._y||0;c.scale=[0.01,0.01,x,y];a.addShape(c);c.__animating=true;a.animate(c.id,'').delay(f).when(d,{scale:[1,1,x,y]}).done(function(){c.__animating=false}).start(e||'QuinticOut')}else{rectangle(a,b,c,d,e)}}function line(a,b,c,d,e){if(!b){b={style:{xStart:c.style.xStart,yStart:c.style.yStart,xEnd:c.style.xStart,yEnd:c.style.yStart}}}var f=c.style.xStart;var g=c.style.xEnd;var h=c.style.yStart;var i=c.style.yEnd;cloneStyle(c,b,'xStart','xEnd','yStart','yEnd');a.addShape(c);c.__animating=true;a.animate(c.id,'style').when(d,{xStart:f,xEnd:g,yStart:h,yEnd:i}).done(function(){c.__animating=false}).start(e)}function markline(a,b,c,d,e){e=e||'QuinticOut';c.__animating=true;a.addShape(c);var f=c.style;var g=function(){c.__animating=false};var h=f.xStart;var i=f.yStart;var j=f.xEnd;var k=f.yEnd;if(f.curveness>0){c.updatePoints(f);var l={p:0};var m=f.cpX1;var n=f.cpY1;var o=[];var p=[];var q=u.quadraticSubdivide;a.animation.animate(l).when(d,{p:1}).during(function(){q(h,m,j,l.p,o);q(i,n,k,l.p,p);f.cpX1=o[1];f.cpY1=p[1];f.xEnd=o[2];f.yEnd=p[2];a.modShape(c)}).done(g).start(e)}else{a.animate(c.id,'style').when(0,{xEnd:h,yEnd:i}).when(d,{xEnd:j,yEnd:k}).done(g).start(e)}}return{pointList:pointList,rectangle:rectangle,candle:candle,ring:ring,sector:sector,text:text,polygon:polygon,ribbon:ribbon,gaugePointer:gaugePointer,icon:icon,line:line,markline:markline}});define('echarts/util/ecEffect',['require','../util/ecData','zrender/shape/Circle','zrender/shape/Image','zrender/tool/curve','../util/shape/Icon','../util/shape/Symbol','zrender/shape/ShapeBundle','zrender/shape/Polyline','zrender/tool/vector','zrender/tool/env'],function(M){var N=M('../util/ecData');var O=M('zrender/shape/Circle');var P=M('zrender/shape/Image');var Q=M('zrender/tool/curve');var R=M('../util/shape/Icon');var S=M('../util/shape/Symbol');var T=M('zrender/shape/ShapeBundle');var U=M('zrender/shape/Polyline');var V=M('zrender/tool/vector');var W=M('zrender/tool/env').canvasSupported;function point(a,b,c,d){var e=c.effect;var f=e.color||c.style.strokeColor||c.style.color;var g=e.shadowColor||f;var h=e.scaleSize;var i=e.bounceDistance;var j=typeof e.shadowBlur!='undefined'?e.shadowBlur:h;var k;if(c.type!=='image'){k=new R({zlevel:d,style:{brushType:'stroke',iconType:c.style.iconType!='droplet'?c.style.iconType:'circle',x:j+1,y:j+1,n:c.style.n,width:c.style._width*h,height:c.style._height*h,lineWidth:1,strokeColor:f,shadowColor:g,shadowBlur:j},draggable:false,hoverable:false});if(c.style.iconType=='pin'){k.style.y+=k.style.height/2*1.5}if(W){k.style.image=a.shapeToImage(k,k.style.width+j*2+2,k.style.height+j*2+2).style.image;k=new P({zlevel:k.zlevel,style:k.style,draggable:false,hoverable:false})}}else{k=new P({zlevel:d,style:c.style,draggable:false,hoverable:false})}N.clone(c,k);k.position=c.position;b.push(k);a.addShape(k);var l=c.type!=='image'?window.devicePixelRatio||1:1;var m=(k.style.width/l-c.style._width)/2;k.style.x=c.style._x-m;k.style.y=c.style._y-m;if(c.style.iconType=='pin'){k.style.y-=c.style.height/2*1.5}var n=(e.period+Math.random()*10)*100;a.modShape(c.id,{invisible:true});var o=k.style.x+k.style.width/2/l;var p=k.style.y+k.style.height/2/l;if(e.type==='scale'){a.modShape(k.id,{scale:[0.1,0.1,o,p]});a.animate(k.id,'',e.loop).when(n,{scale:[1,1,o,p]}).done(function(){c.effect.show=false;a.delShape(k.id)}).start()}else{a.animate(k.id,'style',e.loop).when(n,{y:k.style.y-i}).when(n*2,{y:k.style.y}).done(function(){c.effect.show=false;a.delShape(k.id)}).start()}}function largePoint(a,b,c,d){var e=c.effect;var f=e.color||c.style.strokeColor||c.style.color;var g=e.scaleSize;var h=e.shadowColor||f;var j=typeof e.shadowBlur!='undefined'?e.shadowBlur:g*2;var k=window.devicePixelRatio||1;var l=new S({zlevel:d,position:c.position,scale:c.scale,style:{pointList:c.style.pointList,iconType:c.style.iconType,color:f,strokeColor:f,shadowColor:h,shadowBlur:j*k,random:true,brushType:'fill',lineWidth:1,size:c.style.size},draggable:false,hoverable:false});b.push(l);a.addShape(l);a.modShape(c.id,{invisible:true});var m=Math.round(e.period*100);var n={};var o={};for(var i=0;i<20;i++){l.style['randomMap'+i]=0;n={};n['randomMap'+i]=100;o={};o['randomMap'+i]=0;l.style['randomMap'+i]=Math.random()*100;a.animate(l.id,'style',true).when(m,n).when(m*2,o).when(m*3,n).when(m*4,n).delay(Math.random()*m*i).start()}}function line(e,f,g,h,j){var k=g.effect;var l=g.style;var m=k.color||l.strokeColor||l.color;var n=k.shadowColor||l.strokeColor||m;var o=l.lineWidth*k.scaleSize;var p=typeof k.shadowBlur!='undefined'?k.shadowBlur:o;var q=new O({zlevel:h,style:{x:p,y:p,r:o,color:m,shadowColor:n,shadowBlur:p},hoverable:false});var r=0;if(W&&!j){var h=q.zlevel;q=e.shapeToImage(q,(o+p)*2,(o+p)*2);q.zlevel=h;q.hoverable=false;r=p}if(!j){N.clone(g,q);q.position=g.position;f.push(q);e.addShape(q)}var s=function(){if(!j){g.effect.show=false;e.delShape(q.id)}q.effectAnimator=null};if(g instanceof U){var u=[0];var v=0;var w=l.pointList;var z=l.controlPointList;for(var i=1;i<w.length;i++){if(z){var A=z[(i-1)*2];var B=z[(i-1)*2+1];v+=V.dist(w[i-1],A)+V.dist(A,B)+V.dist(B,w[i])}else{v+=V.dist(w[i-1],w[i])}u.push(v)}var C={p:0};var D=e.animation.animate(C,{loop:k.loop});for(var i=0;i<u.length;i++){D.when(u[i]*k.period,{p:i})}D.during(function(){var i=Math.floor(C.p);var x,y;if(i==w.length-1){x=w[i][0];y=w[i][1]}else{var t=C.p-i;var a=w[i];var b=w[i+1];if(z){var c=z[i*2];var d=z[i*2+1];x=Q.cubicAt(a[0],c[0],d[0],b[0],t);y=Q.cubicAt(a[1],c[1],d[1],b[1],t)}else{x=(b[0]-a[0])*t+a[0];y=(b[1]-a[1])*t+a[1]}}q.style.x=x;q.style.y=y;if(!j){e.modShape(q)}}).done(s).start();D.duration=v*k.period;q.effectAnimator=D}else{var E=l.xStart-r;var F=l.yStart-r;var G=l.xEnd-r;var H=l.yEnd-r;q.style.x=E;q.style.y=F;var I=(G-E)*(G-E)+(H-F)*(H-F);var J=Math.round(Math.sqrt(Math.round(I*k.period*k.period)));if(g.style.curveness>0){var K=l.cpX1-r;var L=l.cpY1-r;q.effectAnimator=e.animation.animate(q,{loop:k.loop}).when(J,{p:1}).during(function(a,t){q.style.x=Q.quadraticAt(E,K,G,t);q.style.y=Q.quadraticAt(F,L,H,t);if(!j){e.modShape(q)}}).done(s).start()}else{q.effectAnimator=e.animation.animate(q.style,{loop:k.loop}).when(J,{x:G,y:H}).during(function(){if(!j){e.modShape(q)}}).done(s).start()}q.effectAnimator.duration=J}return q}function largeLine(a,b,c,d){var e=new T({style:{shapeList:[]},zlevel:d,hoverable:false});var f=c.style.shapeList;var g=c.effect;e.position=c.position;var h=0;var j=[];for(var i=0;i<f.length;i++){f[i].effect=g;var k=line(a,null,f[i],d,true);var l=k.effectAnimator;e.style.shapeList.push(k);if(l.duration>h){h=l.duration}if(i===0){e.style.color=k.style.color;e.style.shadowBlur=k.style.shadowBlur;e.style.shadowColor=k.style.shadowColor}j.push(l)}b.push(e);a.addShape(e);var m=function(){for(var i=0;i<j.length;i++){j[i].stop()}};if(h){e.__dummy=0;var n=a.animate(e.id,'',g.loop).when(h,{__dummy:1}).during(function(){a.modShape(e)}).done(function(){c.effect.show=false;a.delShape(e.id)}).start();var o=n.stop;n.stop=function(){m();o.call(this)}}}return{point:point,largePoint:largePoint,line:line,largeLine:largeLine}});define('echarts/component/base',['require','../config','../util/ecData','../util/ecQuery','../util/number','zrender/tool/util','zrender/tool/env'],function(k){var m=k('../config');var n=k('../util/ecData');var o=k('../util/ecQuery');var q=k('../util/number');var r=k('zrender/tool/util');function Base(d,e,f,g,h){this.ecTheme=d;this.messageCenter=e;this.zr=f;this.option=g;this.series=g.series;this.myChart=h;this.component=h.component;this.shapeList=[];this.effectList=[];var j=this;j._onlegendhoverlink=function(a){if(j.legendHoverLink){var b=a.target;var c;for(var i=j.shapeList.length-1;i>=0;i--){c=j.type==m.CHART_TYPE_PIE||j.type==m.CHART_TYPE_FUNNEL?n.get(j.shapeList[i],'name'):(n.get(j.shapeList[i],'series')||{}).name;if(c==b&&!j.shapeList[i].invisible&&!j.shapeList[i].__animating){j.zr.addHoverShape(j.shapeList[i])}}}};e&&e.bind(m.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}Base.prototype={canvasSupported:k('zrender/tool/env').canvasSupported,_getZ:function(a){if(this[a]!=null){return this[a]}var b=this.ecTheme[this.type];if(b&&b[a]!=null){return b[a]}b=m[this.type];if(b&&b[a]!=null){return b[a]}return 0},getZlevelBase:function(){return this._getZ('zlevel')},getZBase:function(){return this._getZ('z')},reformOption:function(a){a=r.merge(r.merge(a||{},r.clone(this.ecTheme[this.type]||{})),r.clone(m[this.type]||{}));this.z=a.z;this.zlevel=a.zlevel;return a},reformCssArray:function(p){if(p instanceof Array){switch(p.length+''){case'4':return p;case'3':return[p[0],p[1],p[2],p[1]];case'2':return[p[0],p[1],p[0],p[1]];case'1':return[p[0],p[0],p[0],p[0]];case'0':return[0,0,0,0]}}else{return[p,p,p,p]}},getShapeById:function(a){for(var i=0,l=this.shapeList.length;i<l;i++){if(this.shapeList[i].id===a){return this.shapeList[i]}}return null},getFont:function(a){var b=this.getTextStyle(r.clone(a));return b.fontStyle+' '+b.fontWeight+' '+b.fontSize+'px '+b.fontFamily},getTextStyle:function(a){return r.merge(r.merge(a||{},this.ecTheme.textStyle),m.textStyle)},getItemStyleColor:function(a,b,c,d){return typeof a==='function'?a.call(this.myChart,{seriesIndex:b,series:this.series[b],dataIndex:c,data:d}):a},getDataFromOption:function(a,b){return a!=null?a.value!=null?a.value:a:b},subPixelOptimize:function(a,b){if(b%2===1){a=Math.floor(a)+0.5}else{a=Math.round(a)}return a},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(true);var a=this;setTimeout(function(){a.animationEffect&&a.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose();this.clear();this.shapeList=null;this.effectList=null;this.messageCenter&&this.messageCenter.unbind(m.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink);this.onafterDispose&&this.onafterDispose()},query:o.query,deepQuery:o.deepQuery,deepMerge:o.deepMerge,parsePercent:q.parsePercent,parseCenter:q.parseCenter,parseRadius:q.parseRadius,numAddCommas:q.addCommas};return Base});define('echarts/layout/EdgeBundling',['require','../data/KDTree','zrender/tool/vector'],function(v){var A=v('../data/KDTree');var B=v('zrender/tool/vector');var C=B.create;var D=B.distSquare;var E=B.dist;var F=B.copy;var G=B.clone;function squaredDistance(a,b){a=a.array;b=b.array;var x=b[0]-a[0];var y=b[1]-a[1];var z=b[2]-a[2];var w=b[3]-a[3];return x*x+y*y+z*z+w*w}function CoarsenedEdge(a){this.points=[a.mp0,a.mp1];this.group=a}function Edge(a){var b=a.points;if(b[0][1]<b[1][1]||a instanceof CoarsenedEdge){this.array=[b[0][0],b[0][1],b[1][0],b[1][1]];this._startPoint=b[0];this._endPoint=b[1]}else{this.array=[b[1][0],b[1][1],b[0][0],b[0][1]];this._startPoint=b[1];this._endPoint=b[0]}this.ink=E(b[0],b[1]);this.edge=a;this.group=null}Edge.prototype.getStartPoint=function(){return this._startPoint};Edge.prototype.getEndPoint=function(){return this._endPoint};function BundledEdgeGroup(){this.edgeList=[];this.mp0=C();this.mp1=C();this.ink=0}BundledEdgeGroup.prototype.addEdge=function(a){a.group=this;this.edgeList.push(a)};BundledEdgeGroup.prototype.removeEdge=function(a){a.group=null;this.edgeList.splice(this.edgeList.indexOf(a),1)};function EdgeBundling(){this.maxNearestEdge=6;this.maxTurningAngle=Math.PI/4;this.maxIteration=20}EdgeBundling.prototype={constructor:EdgeBundling,run:function(g){var h=this._iterate(g);var k=0;while(k++<this.maxIteration){var l=[];for(var i=0;i<h.groups.length;i++){l.push(new CoarsenedEdge(h.groups[i]))}var m=this._iterate(l);if(m.savedInk<=0){break}else{h=m}}var n=[];function pointApproxEqual(a,b){return D(a,b)<1e-10}function cleanEdgePoints(a,b){var c=[];var d=0;for(var i=0;i<a.length;i++){if(!(d>0&&pointApproxEqual(a[i],c[d-1]))){c[d++]=G(a[i])}}if(b[0]&&!pointApproxEqual(c[0],b[0])){c=c.reverse()}return c}var o=function(a,b){var c;for(var i=0;i<a.length;i++){var d=a[i];if(d.edgeList[0]&&d.edgeList[0].edge instanceof CoarsenedEdge){var e=[];for(var j=0;j<d.edgeList.length;j++){e.push(d.edgeList[j].edge.group)}if(!b){c=[]}else{c=b.slice()}c.unshift(d.mp0);c.push(d.mp1);o(e,c)}else{for(var j=0;j<d.edgeList.length;j++){var f=d.edgeList[j];if(!b){c=[]}else{c=b.slice()}c.unshift(d.mp0);c.push(d.mp1);c.unshift(f.getStartPoint());c.push(f.getEndPoint());n.push({points:cleanEdgePoints(c,f.edge.points),rawEdge:f.edge})}}}};o(h.groups);return n},_iterate:function(a){var b=[];var c=[];var d=0;for(var i=0;i<a.length;i++){var e=new Edge(a[i]);b.push(e)}var f=new A(b,4);var g=[];var h=C();var k=C();var l=0;var m=C();var n=C();var o=0;for(var i=0;i<b.length;i++){var e=b[i];if(e.group){continue}f.nearestN(e,this.maxNearestEdge,squaredDistance,g);var p=0;var q=null;var r=null;for(var j=0;j<g.length;j++){var s=g[j];var t=0;if(s.group){if(s.group!==r){r=s.group;l=this._calculateGroupEdgeInk(s.group,e,h,k);t=s.group.ink+e.ink-l}}else{l=this._calculateEdgeEdgeInk(e,s,h,k);t=s.ink+e.ink-l}if(t>p){p=t;q=s;F(n,k);F(m,h);o=l}}if(q){d+=p;var u;if(!q.group){u=new BundledEdgeGroup();c.push(u);u.addEdge(q)}u=q.group;F(u.mp0,m);F(u.mp1,n);u.ink=o;q.group.addEdge(e)}else{var u=new BundledEdgeGroup();c.push(u);F(u.mp0,e.getStartPoint());F(u.mp1,e.getEndPoint());u.ink=e.ink;u.addEdge(e)}}return{groups:c,edges:b,savedInk:d}},_calculateEdgeEdgeInk:function(){var f=[];var g=[];return function(a,b,c,d){f[0]=a.getStartPoint();f[1]=b.getStartPoint();g[0]=a.getEndPoint();g[1]=b.getEndPoint();this._calculateMeetPoints(f,g,c,d);var e=E(f[0],c)+E(c,d)+E(d,g[0])+E(f[1],c)+E(d,g[1]);return e}}(),_calculateGroupEdgeInk:function(a,b,c,d){var e=[];var f=[];for(var i=0;i<a.edgeList.length;i++){var g=a.edgeList[i];e.push(g.getStartPoint());f.push(g.getEndPoint())}e.push(b.getStartPoint());f.push(b.getEndPoint());this._calculateMeetPoints(e,f,c,d);var h=E(c,d);for(var i=0;i<e.length;i++){h+=E(e[i],c)+E(f[i],d)}return h},_calculateMeetPoints:function(){var f=C();var g=C();return function(a,b,c,d){B.set(f,0,0);B.set(g,0,0);var e=a.length;for(var i=0;i<e;i++){B.add(f,f,a[i])}B.scale(f,f,1/e);e=b.length;for(var i=0;i<e;i++){B.add(g,g,b[i])}B.scale(g,g,1/e);this._limitTurningAngle(a,f,g,c);this._limitTurningAngle(b,g,f,d)}}(),_limitTurningAngle:function(){var n=C();var o=C();var q=C();var r=C();return function(a,b,c,e){var f=Math.cos(this.maxTurningAngle);var g=Math.tan(this.maxTurningAngle);B.sub(n,b,c);B.normalize(n,n);B.copy(e,b);var h=0;for(var i=0;i<a.length;i++){var p=a[i];B.sub(o,p,b);var j=B.len(o);B.scale(o,o,1/j);var k=B.dot(o,n);if(k<f){B.scaleAndAdd(q,b,n,j*k);var l=E(q,p);var d=l/g;B.scaleAndAdd(r,q,n,-d);var m=D(r,b);if(m>h){h=m;B.copy(e,r)}}}}}()};return EdgeBundling});define('zrender/shape/Star',['require','../tool/math','./Base','../tool/util'],function(j){var k=j('../tool/math');var l=k.sin;var m=k.cos;var o=Math.PI;var p=j('./Base');var q=function(a){p.call(this,a)};q.prototype={type:'star',buildPath:function(a,b){var n=b.n;if(!n||n<2){return}var x=b.x;var y=b.y;var r=b.r;var c=b.r0;if(c==null){c=n>4?r*m(2*o/n)/m(o/n):r/3}var d=o/n;var e=-o/2;var f=x+r*m(e);var g=y+r*l(e);e+=d;var h=b.pointList=[];h.push([f,g]);for(var i=0,end=n*2-1,ri;i<end;i++){ri=i%2===0?c:r;h.push([x+ri*m(e),y+ri*l(e)]);e+=d}h.push([f,g]);a.moveTo(h[0][0],h[0][1]);for(var i=0;i<h.length;i++){a.lineTo(h[i][0],h[i][1])}a.closePath();return},getRect:function(a){if(a.__rect){return a.__rect}var b;if(a.brushType=='stroke'||a.brushType=='fill'){b=a.lineWidth||1}else{b=0}a.__rect={x:Math.round(a.x-a.r-b/2),y:Math.round(a.y-a.r-b/2),width:a.r*2+b,height:a.r*2+b};return a.__rect}};j('../tool/util').inherits(q,p);return q});define('zrender/shape/Heart',['require','./Base','./util/PathProxy','../tool/area','../tool/util'],function(d){'use strict';var e=d('./Base');var f=d('./util/PathProxy');var g=d('../tool/area');var h=function(a){e.call(this,a);this._pathProxy=new f()};h.prototype={type:'heart',buildPath:function(a,b){var c=this._pathProxy||new f();c.begin(a);c.moveTo(b.x,b.y);c.bezierCurveTo(b.x+b.a/2,b.y-b.b*2/3,b.x+b.a*2,b.y+b.b/3,b.x,b.y+b.b);c.bezierCurveTo(b.x-b.a*2,b.y+b.b/3,b.x-b.a/2,b.y-b.b*2/3,b.x,b.y);c.closePath();return},getRect:function(a){if(a.__rect){return a.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,a)}return this._pathProxy.fastBoundingRect()},isCover:function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];if(this.isCoverRect(x,y)){return g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,x,y)}}};d('../tool/util').inherits(h,e);return h});define('zrender/shape/Droplet',['require','./Base','./util/PathProxy','../tool/area','../tool/util'],function(d){'use strict';var e=d('./Base');var f=d('./util/PathProxy');var g=d('../tool/area');var h=function(a){e.call(this,a);this._pathProxy=new f()};h.prototype={type:'droplet',buildPath:function(a,b){var c=this._pathProxy||new f();c.begin(a);c.moveTo(b.x,b.y+b.a);c.bezierCurveTo(b.x+b.a,b.y+b.a,b.x+b.a*3/2,b.y-b.a/3,b.x,b.y-b.b);c.bezierCurveTo(b.x-b.a*3/2,b.y-b.a/3,b.x-b.a,b.y+b.a,b.x,b.y+b.a);c.closePath()},getRect:function(a){if(a.__rect){return a.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,a)}return this._pathProxy.fastBoundingRect()},isCover:function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];if(this.isCoverRect(x,y)){return g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,x,y)}}};d('../tool/util').inherits(h,e);return h});define('zrender/tool/math',[],function(){var c=Math.PI/180;function sin(a,b){return Math.sin(b?a*c:a)}function cos(a,b){return Math.cos(b?a*c:a)}function degreeToRadian(a){return a*c}function radianToDegree(a){return a/c}return{sin:sin,cos:cos,degreeToRadian:degreeToRadian,radianToDegree:radianToDegree}});define('zrender/shape/util/PathProxy',['require','../../tool/vector'],function(k){var l=k('../../tool/vector');var m=function(a,b){this.command=a;this.points=b||null};var n=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};n.prototype.fastBoundingRect=function(){var a=this._min;var b=this._max;a[0]=a[1]=Infinity;b[0]=b[1]=-Infinity;for(var i=0;i<this.pathCommands.length;i++){var c=this.pathCommands[i];var p=c.points;switch(c.command){case'M':l.min(a,a,p);l.max(b,b,p);break;case'L':l.min(a,a,p);l.max(b,b,p);break;case'C':for(var j=0;j<6;j+=2){a[0]=Math.min(a[0],a[0],p[j]);a[1]=Math.min(a[1],a[1],p[j+1]);b[0]=Math.max(b[0],b[0],p[j]);b[1]=Math.max(b[1],b[1],p[j+1])}break;case'Q':for(var j=0;j<4;j+=2){a[0]=Math.min(a[0],a[0],p[j]);a[1]=Math.min(a[1],a[1],p[j+1]);b[0]=Math.max(b[0],b[0],p[j]);b[1]=Math.max(b[1],b[1],p[j+1])}break;case'A':var d=p[0];var e=p[1];var f=p[2];var g=p[3];a[0]=Math.min(a[0],a[0],d-f);a[1]=Math.min(a[1],a[1],e-g);b[0]=Math.max(b[0],b[0],d+f);b[1]=Math.max(b[1],b[1],e+g);break}}return{x:a[0],y:a[1],width:b[0]-a[0],height:b[1]-a[1]}};n.prototype.begin=function(a){this._ctx=a||null;this.pathCommands.length=0;return this};n.prototype.moveTo=function(x,y){this.pathCommands.push(new m('M',[x,y]));if(this._ctx){this._ctx.moveTo(x,y)}return this};n.prototype.lineTo=function(x,y){this.pathCommands.push(new m('L',[x,y]));if(this._ctx){this._ctx.lineTo(x,y)}return this};n.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.pathCommands.push(new m('C',[a,b,c,d,e,f]));if(this._ctx){this._ctx.bezierCurveTo(a,b,c,d,e,f)}return this};n.prototype.quadraticCurveTo=function(a,b,c,d){this.pathCommands.push(new m('Q',[a,b,c,d]));if(this._ctx){this._ctx.quadraticCurveTo(a,b,c,d)}return this};n.prototype.arc=function(a,b,r,c,d,e){this.pathCommands.push(new m('A',[a,b,r,r,c,d-c,0,e?0:1]));if(this._ctx){this._ctx.arc(a,b,r,c,d,e)}return this};n.prototype.arcTo=function(a,b,c,d,e){if(this._ctx){this._ctx.arcTo(a,b,c,d,e)}return this};n.prototype.rect=function(x,y,w,h){if(this._ctx){this._ctx.rect(x,y,w,h)}return this};n.prototype.closePath=function(){this.pathCommands.push(new m('z'));if(this._ctx){this._ctx.closePath()}return this};n.prototype.isEmpty=function(){return this.pathCommands.length===0};n.PathSegment=m;return n});define('zrender/shape/Line',['require','./Base','./util/dashedLineTo','../tool/util'],function(d){var e=d('./Base');var f=d('./util/dashedLineTo');var g=function(a){this.brushTypeOnly='stroke';this.textPosition='end';e.call(this,a)};g.prototype={type:'line',buildPath:function(a,b){if(!b.lineType||b.lineType=='solid'){a.moveTo(b.xStart,b.yStart);a.lineTo(b.xEnd,b.yEnd)}else if(b.lineType=='dashed'||b.lineType=='dotted'){var c=(b.lineWidth||1)*(b.lineType=='dashed'?5:1);f(a,b.xStart,b.yStart,b.xEnd,b.yEnd,c)}},getRect:function(a){if(a.__rect){return a.__rect}var b=a.lineWidth||1;a.__rect={x:Math.min(a.xStart,a.xEnd)-b,y:Math.min(a.yStart,a.yEnd)-b,width:Math.abs(a.xStart-a.xEnd)+b,height:Math.abs(a.yStart-a.yEnd)+b};return a.__rect}};d('../tool/util').inherits(g,e);return g});define('zrender/shape/BezierCurve',['require','./Base','../tool/util'],function(i){'use strict';var j=i('./Base');var k=function(a){this.brushTypeOnly='stroke';this.textPosition='end';j.call(this,a)};k.prototype={type:'bezier-curve',buildPath:function(a,b){a.moveTo(b.xStart,b.yStart);if(typeof b.cpX2!='undefined'&&typeof b.cpY2!='undefined'){a.bezierCurveTo(b.cpX1,b.cpY1,b.cpX2,b.cpY2,b.xEnd,b.yEnd)}else{a.quadraticCurveTo(b.cpX1,b.cpY1,b.xEnd,b.yEnd)}},getRect:function(a){if(a.__rect){return a.__rect}var b=Math.min(a.xStart,a.xEnd,a.cpX1);var c=Math.min(a.yStart,a.yEnd,a.cpY1);var d=Math.max(a.xStart,a.xEnd,a.cpX1);var e=Math.max(a.yStart,a.yEnd,a.cpY1);var f=a.cpX2;var g=a.cpY2;if(typeof f!='undefined'&&typeof g!='undefined'){b=Math.min(b,f);c=Math.min(c,g);d=Math.max(d,f);e=Math.max(e,g)}var h=a.lineWidth||1;a.__rect={x:b-h,y:c-h,width:d-b+h,height:e-c+h};return a.__rect}};i('../tool/util').inherits(k,j);return k});define('zrender/shape/util/dashedLineTo',[],function(){var l=[5,5];return function(a,b,c,d,e,f){if(a.setLineDash){l[0]=l[1]=f;a.setLineDash(l);a.moveTo(b,c);a.lineTo(d,e);return}f=typeof f!='number'?5:f;var g=d-b;var h=e-c;var j=Math.floor(Math.sqrt(g*g+h*h)/f);g=g/j;h=h/j;var k=true;for(var i=0;i<j;++i){if(k){a.moveTo(b,c)}else{a.lineTo(b,c)}k=!k;b+=g;c+=h}a.lineTo(d,e)}});define('zrender/shape/Polygon',['require','./Base','./util/smoothSpline','./util/smoothBezier','./util/dashedLineTo','../tool/util'],function(j){var k=j('./Base');var m=j('./util/smoothSpline');var n=j('./util/smoothBezier');var o=j('./util/dashedLineTo');var q=function(a){k.call(this,a)};q.prototype={type:'polygon',buildPath:function(a,b){var c=b.pointList;if(c.length<2){return}if(b.smooth&&b.smooth!=='spline'){var d=n(c,b.smooth,true,b.smoothConstraint);a.moveTo(c[0][0],c[0][1]);var e;var f;var p;var g=c.length;for(var i=0;i<g;i++){e=d[i*2];f=d[i*2+1];p=c[(i+1)%g];a.bezierCurveTo(e[0],e[1],f[0],f[1],p[0],p[1])}}else{if(b.smooth==='spline'){c=m(c,true)}if(!b.lineType||b.lineType=='solid'){a.moveTo(c[0][0],c[0][1]);for(var i=1,l=c.length;i<l;i++){a.lineTo(c[i][0],c[i][1])}a.lineTo(c[0][0],c[0][1])}else if(b.lineType=='dashed'||b.lineType=='dotted'){var h=b._dashLength||(b.lineWidth||1)*(b.lineType=='dashed'?5:1);b._dashLength=h;a.moveTo(c[0][0],c[0][1]);for(var i=1,l=c.length;i<l;i++){o(a,c[i-1][0],c[i-1][1],c[i][0],c[i][1],h)}o(a,c[c.length-1][0],c[c.length-1][1],c[0][0],c[0][1],h)}}a.closePath();return},getRect:function(a){if(a.__rect){return a.__rect}var b=Number.MAX_VALUE;var c=Number.MIN_VALUE;var d=Number.MAX_VALUE;var e=Number.MIN_VALUE;var f=a.pointList;for(var i=0,l=f.length;i<l;i++){if(f[i][0]<b){b=f[i][0]}if(f[i][0]>c){c=f[i][0]}if(f[i][1]<d){d=f[i][1]}if(f[i][1]>e){e=f[i][1]}}var g;if(a.brushType=='stroke'||a.brushType=='fill'){g=a.lineWidth||1}else{g=0}a.__rect={x:Math.round(b-g/2),y:Math.round(d-g/2),width:c-b+g,height:e-d+g};return a.__rect}};j('../tool/util').inherits(q,k);return q});define('echarts/util/shape/normalIsCover',[],function(){return function(x,y){var a=this.transformCoordToLocal(x,y);x=a[0];y=a[1];return this.isCoverRect(x,y)}});define('zrender/shape/util/smoothSpline',['require','../../tool/vector'],function(q){var r=q('../../tool/vector');function interpolate(a,b,c,d,t,e,f){var g=(c-a)*0.5;var h=(d-b)*0.5;return(2*(b-c)+g+h)*f+(-3*(b-c)-2*g-h)*e+g*t+b}return function(a,b,c){var d=a.length;var e=[];var f=0;for(var i=1;i<d;i++){f+=r.distance(a[i-1],a[i])}var g=f/5;g=g<d?d:g;for(var i=0;i<g;i++){var h=i/(g-1)*(b?d:d-1);var j=Math.floor(h);var w=h-j;var k;var l=a[j%d];var m;var n;if(!b){k=a[j===0?j:j-1];m=a[j>d-2?d-1:j+1];n=a[j>d-3?d-1:j+2]}else{k=a[(j-1+d)%d];m=a[(j+1)%d];n=a[(j+2)%d]}var o=w*w;var p=w*o;e.push([interpolate(k[0],l[0],m[0],n[0],w,o,p),interpolate(k[1],l[1],m[1],n[1],w,o,p)])}return e}});define('zrender/shape/util/smoothBezier',['require','../../tool/vector'],function(s){var t=s('../../tool/vector');return function(a,b,c,d){var e=[];var v=[];var f=[];var g=[];var h;var j;var k=!!d;var l,max;if(k){l=[Infinity,Infinity];max=[-Infinity,-Infinity];for(var i=0,len=a.length;i<len;i++){t.min(l,l,a[i]);t.max(max,max,a[i])}t.min(l,l,d[0]);t.max(max,max,d[1])}for(var i=0,len=a.length;i<len;i++){var m=a[i];var h;var j;if(c){h=a[i?i-1:len-1];j=a[(i+1)%len]}else{if(i===0||i===len-1){e.push(t.clone(a[i]));continue}else{h=a[i-1];j=a[i+1]}}t.sub(v,j,h);t.scale(v,v,b);var n=t.distance(m,h);var o=t.distance(m,j);var p=n+o;if(p!==0){n/=p;o/=p}t.scale(f,v,-n);t.scale(g,v,o);var q=t.add([],m,f);var r=t.add([],m,g);if(k){t.max(q,q,l);t.min(q,q,max);t.max(r,r,l);t.min(r,r,max)}e.push(q);e.push(r)}if(c){e.push(t.clone(e.shift()))}return e}});define('echarts/util/ecQuery',['require','zrender/tool/util'],function(f){var g=f('zrender/tool/util');function query(a,b){if(typeof a=='undefined'){return}if(!b){return a}b=b.split('.');var c=b.length;var d=0;while(d<c){a=a[b[d]];if(typeof a=='undefined'){return}d++}return a}function deepQuery(a,b){var c;for(var i=0,l=a.length;i<l;i++){c=query(a[i],b);if(typeof c!='undefined'){return c}}}function deepMerge(a,b){var c;var d=a.length;while(d--){var e=query(a[d],b);if(typeof e!='undefined'){if(typeof c=='undefined'){c=g.clone(e)}else{g.merge(c,e,true)}}}return c}return{query:query,deepQuery:deepQuery,deepMerge:deepMerge}});define('echarts/util/number',[],function(){function _trim(a){return a.replace(/^\s+/,'').replace(/\s+$/,'')}function parsePercent(a,b){if(typeof a==='string'){if(_trim(a).match(/%$/)){return parseFloat(a)/100*b}return parseFloat(a)}return a}function parseCenter(a,b){return[parsePercent(b[0],a.getWidth()),parsePercent(b[1],a.getHeight())]}function parseRadius(a,b){if(!(b instanceof Array)){b=[0,b]}var c=Math.min(a.getWidth(),a.getHeight())/2;return[parsePercent(b[0],c),parsePercent(b[1],c)]}function addCommas(x){if(isNaN(x)){return'-'}x=(x+'').split('.');return x[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,'$1,')+(x.length>1?'.'+x[1]:'')}return{parsePercent:parsePercent,parseCenter:parseCenter,parseRadius:parseRadius,addCommas:addCommas}});define('echarts/data/KDTree',['require','./quickSelect'],function(m){var n=m('./quickSelect');function Node(a,b){this.left=null;this.right=null;this.axis=a;this.data=b}var o=function(a,b){if(!a.length){return}if(!b){b=a[0].array.length}this.dimension=b;this.root=this._buildTree(a,0,a.length-1,0);this._stack=[];this._nearstNList=[]};o.prototype._buildTree=function(c,d,e,f){if(e<d){return null}var g=Math.floor((d+e)/2);g=n(c,d,e,g,function(a,b){return a.array[f]-b.array[f]});var h=c[g];var i=new Node(f,h);f=(f+1)%this.dimension;if(e>d){i.left=this._buildTree(c,d,g-1,f);i.right=this._buildTree(c,g+1,e,f)}return i};o.prototype.nearest=function(a,b){var c=this.root;var d=this._stack;var e=0;var f=Infinity;var g=null;if(c.data!==a){f=b(c.data,a);g=c}if(a.array[c.axis]<c.data.array[c.axis]){c.right&&(d[e++]=c.right);c.left&&(d[e++]=c.left)}else{c.left&&(d[e++]=c.left);c.right&&(d[e++]=c.right)}while(e--){c=d[e];var h=a.array[c.axis]-c.data.array[c.axis];var i=h<0;var j=false;h=h*h;if(h<f){h=b(c.data,a);if(h<f&&c.data!==a){f=h;g=c}j=true}if(i){if(j){c.right&&(d[e++]=c.right)}c.left&&(d[e++]=c.left)}else{if(j){c.left&&(d[e++]=c.left)}c.right&&(d[e++]=c.right)}}return g.data};o.prototype._addNearest=function(a,b,c){var d=this._nearstNList;for(var i=a-1;i>0;i--){if(b>=d[i-1].dist){break}else{d[i].dist=d[i-1].dist;d[i].node=d[i-1].node}}d[i].dist=b;d[i].node=c};o.prototype.nearestN=function(a,N,b,c){if(N<=0){c.length=0;return c}var d=this.root;var e=this._stack;var f=0;var g=this._nearstNList;for(var i=0;i<N;i++){if(!g[i]){g[i]={}}g[i].dist=0;g[i].node=null}var h=b(d.data,a);var j=0;if(d.data!==a){j++;this._addNearest(j,h,d)}if(a.array[d.axis]<d.data.array[d.axis]){d.right&&(e[f++]=d.right);d.left&&(e[f++]=d.left)}else{d.left&&(e[f++]=d.left);d.right&&(e[f++]=d.right)}while(f--){d=e[f];var h=a.array[d.axis]-d.data.array[d.axis];var k=h<0;var l=false;h=h*h;if(j<N||h<g[j-1].dist){h=b(d.data,a);if((j<N||h<g[j-1].dist)&&d.data!==a){if(j<N){j++}this._addNearest(j,h,d)}l=true}if(k){if(l){d.right&&(e[f++]=d.right)}d.left&&(e[f++]=d.left)}else{if(l){d.left&&(e[f++]=d.left)}d.right&&(e[f++]=d.right)}}for(var i=0;i<j;i++){c[i]=g[i].node.data}c.length=j;return c};return o});define('echarts/data/quickSelect',['require'],function(h){function defaultCompareFunc(a,b){return a-b}function swapElement(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function select(a,b,c,d,e){var f=b;while(c>b){var f=Math.round((c+b)/2);var g=a[f];swapElement(a,f,c);f=b;for(var i=b;i<=c-1;i++){if(e(g,a[i])>=0){swapElement(a,i,f);f++}}swapElement(a,c,f);if(f===d){return f}else if(f<d){b=f+1}else{c=f-1}}return b}function quickSelect(a,b,c,d,e){if(arguments.length<=3){d=b;if(arguments.length==2){e=defaultCompareFunc}else{e=c}b=0;c=a.length-1}return select(a,b,c,d,e)}return quickSelect});define('echarts/component/dataView',['require','./base','../config','zrender/tool/util','../component'],function(m){var n=m('./base');var o=m('../config');var p=m('zrender/tool/util');function DataView(a,b,c,d,e){n.call(this,a,b,c,d,e);this.dom=e.dom;this._tDom=document.createElement('div');this._textArea=document.createElement('textArea');this._buttonRefresh=document.createElement('button');this._buttonClose=document.createElement('button');this._hasShow=false;this._zrHeight=c.getHeight();this._zrWidth=c.getWidth();this._tDom.className='echarts-dataview';this.hide();this.dom.firstChild.appendChild(this._tDom);if(window.addEventListener){this._tDom.addEventListener('click',this._stop);this._tDom.addEventListener('mousewheel',this._stop);this._tDom.addEventListener('mousemove',this._stop);this._tDom.addEventListener('mousedown',this._stop);this._tDom.addEventListener('mouseup',this._stop);this._tDom.addEventListener('touchstart',this._stop);this._tDom.addEventListener('touchmove',this._stop);this._tDom.addEventListener('touchend',this._stop)}else{this._tDom.attachEvent('onclick',this._stop);this._tDom.attachEvent('onmousewheel',this._stop);this._tDom.attachEvent('onmousemove',this._stop);this._tDom.attachEvent('onmousedown',this._stop);this._tDom.attachEvent('onmouseup',this._stop)}}DataView.prototype={type:o.COMPONENT_TYPE_DATAVIEW,_lang:['Data View','close','refresh'],_gCssText:'position:absolute;'+'display:block;'+'overflow:hidden;'+'transition:height 0.8s,background-color 1s;'+'-moz-transition:height 0.8s,background-color 1s;'+'-webkit-transition:height 0.8s,background-color 1s;'+'-o-transition:height 0.8s,background-color 1s;'+'z-index:1;'+'left:0;'+'top:0;',hide:function(){this._sizeCssText='width:'+this._zrWidth+'px;'+'height:'+0+'px;'+'background-color:#f0ffff;';this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(a){this._hasShow=true;var b=this.query(this.option,'toolbox.feature.dataView.lang')||this._lang;this.option=a;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;'+'border-bottom:1px solid #eee">'+(b[0]||this._lang[0])+'</p>';var c=this.query(this.option,'toolbox.feature.dataView.optionToContent');if(typeof c!='function'){this._textArea.value=this._optionToContent()}else{this._textArea=document.createElement('div');this._textArea.innerHTML=c(this.option)}this._textArea.style.cssText='display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;'+'width:100%;'+'height:'+(this._zrHeight-100)+'px;';this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText='float:right;padding:1px 6px;';this._buttonClose.innerHTML=b[1]||this._lang[1];var d=this;this._buttonClose.onclick=function(){d.hide()};this._tDom.appendChild(this._buttonClose);if(this.query(this.option,'toolbox.feature.dataView.readOnly')===false){this._buttonRefresh.style.cssText='float:right;margin-right:10px;padding:1px 6px;';this._buttonRefresh.innerHTML=b[2]||this._lang[2];this._buttonRefresh.onclick=function(){d._save()};this._textArea.readOnly=false;this._textArea.style.cursor='default'}else{this._buttonRefresh.style.cssText='display:none';this._textArea.readOnly=true;this._textArea.style.cursor='text'}this._tDom.appendChild(this._buttonRefresh);this._sizeCssText='width:'+this._zrWidth+'px;'+'height:'+this._zrHeight+'px;'+'background-color:#fff;';this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var i;var j;var k;var a;var b;var c;var d=[];var e='';if(this.option.xAxis){if(this.option.xAxis instanceof Array){d=this.option.xAxis}else{d=[this.option.xAxis]}for(i=0,a=d.length;i<a;i++){if((d[i].type||'category')=='category'){c=[];for(j=0,k=d[i].data.length;j<k;j++){c.push(this.getDataFromOption(d[i].data[j]))}e+=c.join(', ')+'\n\n'}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){d=this.option.yAxis}else{d=[this.option.yAxis]}for(i=0,a=d.length;i<a;i++){if(d[i].type=='category'){c=[];for(j=0,k=d[i].data.length;j<k;j++){c.push(this.getDataFromOption(d[i].data[j]))}e+=c.join(', ')+'\n\n'}}}var f=this.option.series;var g;for(i=0,a=f.length;i<a;i++){c=[];for(j=0,k=f[i].data.length;j<k;j++){b=f[i].data[j];if(f[i].type==o.CHART_TYPE_PIE||f[i].type==o.CHART_TYPE_MAP){g=(b.name||'-')+':'}else{g=''}if(f[i].type==o.CHART_TYPE_SCATTER){b=this.getDataFromOption(b).join(', ')}c.push(g+this.getDataFromOption(b))}e+=(f[i].name||'-')+' : \n';e+=c.join(f[i].type==o.CHART_TYPE_SCATTER?'\n':', ');e+='\n\n'}return e},_save:function(){var a=this.query(this.option,'toolbox.feature.dataView.contentToOption');if(typeof a!='function'){var b=this._textArea.value.split('\n');var c=[];for(var i=0,l=b.length;i<l;i++){b[i]=this._trim(b[i]);if(b[i]!==''){c.push(b[i])}}this._contentToOption(c)}else{a(this._textArea,this.option)}this.hide();var d=this;setTimeout(function(){d.messageCenter&&d.messageCenter.dispatch(o.EVENT.DATA_VIEW_CHANGED,null,{option:d.option},d.myChart)},d.canvasSupported?800:100)},_contentToOption:function(a){var i;var j;var k;var b;var c;var d=[];var e=0;var f;var g;if(this.option.xAxis){if(this.option.xAxis instanceof Array){d=this.option.xAxis}else{d=[this.option.xAxis]}for(i=0,b=d.length;i<b;i++){if((d[i].type||'category')=='category'){f=a[e].split(',');for(j=0,k=d[i].data.length;j<k;j++){g=this._trim(f[j]||'');c=d[i].data[j];if(typeof d[i].data[j].value!='undefined'){d[i].data[j].value=g}else{d[i].data[j]=g}}e++}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){d=this.option.yAxis}else{d=[this.option.yAxis]}for(i=0,b=d.length;i<b;i++){if(d[i].type=='category'){f=a[e].split(',');for(j=0,k=d[i].data.length;j<k;j++){g=this._trim(f[j]||'');c=d[i].data[j];if(typeof d[i].data[j].value!='undefined'){d[i].data[j].value=g}else{d[i].data[j]=g}}e++}}}var h=this.option.series;for(i=0,b=h.length;i<b;i++){e++;if(h[i].type==o.CHART_TYPE_SCATTER){for(var j=0,k=h[i].data.length;j<k;j++){f=a[e];g=f.replace(' ','').split(',');if(typeof h[i].data[j].value!='undefined'){h[i].data[j].value=g}else{h[i].data[j]=g}e++}}else{f=a[e].split(',');for(var j=0,k=h[i].data.length;j<k;j++){g=(f[j]||'').replace(/.*:/,'');g=this._trim(g);g=g!='-'&&g!==''?g-0:'-';if(typeof h[i].data[j].value!='undefined'){h[i].data[j].value=g}else{h[i].data[j]=g}}e++}}},_trim:function(a){var b=new RegExp('(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)','g');return a.replace(b,'')},_stop:function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._tDom.offsetHeight>10){this._sizeCssText='width:'+this._zrWidth+'px;'+'height:'+this._zrHeight+'px;'+'background-color:#fff;';this._tDom.style.cssText=this._gCssText+this._sizeCssText;this._textArea.style.cssText='display:block;margin:0 0 8px 0;'+'padding:4px 6px;overflow:auto;'+'width:100%;'+'height:'+(this._zrHeight-100)+'px;'}},dispose:function(){if(window.removeEventListener){this._tDom.removeEventListener('click',this._stop);this._tDom.removeEventListener('mousewheel',this._stop);this._tDom.removeEventListener('mousemove',this._stop);this._tDom.removeEventListener('mousedown',this._stop);this._tDom.removeEventListener('mouseup',this._stop);this._tDom.removeEventListener('touchstart',this._stop);this._tDom.removeEventListener('touchmove',this._stop);this._tDom.removeEventListener('touchend',this._stop)}else{this._tDom.detachEvent('onclick',this._stop);this._tDom.detachEvent('onmousewheel',this._stop);this._tDom.detachEvent('onmousemove',this._stop);this._tDom.detachEvent('onmousedown',this._stop);this._tDom.detachEvent('onmouseup',this._stop)}this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;if(this._hasShow){this._tDom.removeChild(this._textArea);this._tDom.removeChild(this._buttonRefresh);this._tDom.removeChild(this._buttonClose)}this._textArea=null;this._buttonRefresh=null;this._buttonClose=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}};p.inherits(DataView,n);m('../component').define('dataView',DataView);return DataView});define('echarts/util/shape/Cross',['require','zrender/shape/Base','zrender/shape/Line','zrender/tool/util','./normalIsCover'],function(d){var e=d('zrender/shape/Base');var f=d('zrender/shape/Line');var g=d('zrender/tool/util');function Cross(a){e.call(this,a)}Cross.prototype={type:'cross',buildPath:function(a,b){var c=b.rect;b.xStart=c.x;b.xEnd=c.x+c.width;b.yStart=b.yEnd=b.y;f.prototype.buildPath(a,b);b.xStart=b.xEnd=b.x;b.yStart=c.y;b.yEnd=c.y+c.height;f.prototype.buildPath(a,b)},getRect:function(a){return a.rect},isCover:d('./normalIsCover')};g.inherits(Cross,e);return Cross});define('zrender/shape/Sector',['require','../tool/math','../tool/computeBoundingBox','../tool/vector','./Base','../tool/util'],function(i){var j=i('../tool/math');var k=i('../tool/computeBoundingBox');var l=i('../tool/vector');var m=i('./Base');var n=l.create();var o=l.create();var p=l.create();var q=l.create();var s=function(a){m.call(this,a)};s.prototype={type:'sector',buildPath:function(a,b){var x=b.x;var y=b.y;var c=b.r0||0;var r=b.r;var d=b.startAngle;var e=b.endAngle;var f=b.clockWise||false;d=j.degreeToRadian(d);e=j.degreeToRadian(e);if(!f){d=-d;e=-e}var g=j.cos(d);var h=j.sin(d);a.moveTo(g*c+x,h*c+y);a.lineTo(g*r+x,h*r+y);a.arc(x,y,r,d,e,!f);a.lineTo(j.cos(e)*c+x,j.sin(e)*c+y);if(c!==0){a.arc(x,y,c,e,d,f)}a.closePath();return},getRect:function(a){if(a.__rect){return a.__rect}var x=a.x;var y=a.y;var b=a.r0||0;var r=a.r;var c=j.degreeToRadian(a.startAngle);var d=j.degreeToRadian(a.endAngle);var e=a.clockWise;if(!e){c=-c;d=-d}if(b>1){k.arc(x,y,b,c,d,!e,n,p)}else{n[0]=p[0]=x;n[1]=p[1]=y}k.arc(x,y,r,c,d,!e,o,q);l.min(n,n,o);l.max(p,p,q);a.__rect={x:n[0],y:n[1],width:p[0]-n[0],height:p[1]-n[1]};return a.__rect}};i('../tool/util').inherits(s,m);return s});define('echarts/util/shape/Candle',['require','zrender/shape/Base','zrender/tool/util','./normalIsCover'],function(d){var e=d('zrender/shape/Base');var f=d('zrender/tool/util');function Candle(a){e.call(this,a)}Candle.prototype={type:'candle',_numberOrder:function(a,b){return b-a},buildPath:function(a,b){var c=f.clone(b.y).sort(this._numberOrder);a.moveTo(b.x,c[3]);a.lineTo(b.x,c[2]);a.moveTo(b.x-b.width/2,c[2]);a.rect(b.x-b.width/2,c[2],b.width,c[1]-c[2]);a.moveTo(b.x,c[1]);a.lineTo(b.x,c[0])},getRect:function(a){if(!a.__rect){var b=0;if(a.brushType=='stroke'||a.brushType=='fill'){b=a.lineWidth||1}var c=f.clone(a.y).sort(this._numberOrder);a.__rect={x:Math.round(a.x-a.width/2-b/2),y:Math.round(c[3]-b/2),width:a.width+b,height:c[0]-c[3]+b}}return a.__rect},isCover:d('./normalIsCover')};f.inherits(Candle,e);return Candle});define('zrender/tool/computeBoundingBox',['require','./vector','./curve'],function(n){var o=n('./vector');var q=n('./curve');function computeBoundingBox(a,b,c){if(a.length===0){return}var d=a[0][0];var e=a[0][0];var f=a[0][1];var g=a[0][1];for(var i=1;i<a.length;i++){var p=a[i];if(p[0]<d){d=p[0]}if(p[0]>e){e=p[0]}if(p[1]<f){f=p[1]}if(p[1]>g){g=p[1]}}b[0]=d;b[1]=f;c[0]=e;c[1]=g}function computeCubeBezierBoundingBox(a,b,c,d,e,f){var g=[];q.cubicExtrema(a[0],b[0],c[0],d[0],g);for(var i=0;i<g.length;i++){g[i]=q.cubicAt(a[0],b[0],c[0],d[0],g[i])}var h=[];q.cubicExtrema(a[1],b[1],c[1],d[1],h);for(var i=0;i<h.length;i++){h[i]=q.cubicAt(a[1],b[1],c[1],d[1],h[i])}g.push(a[0],d[0]);h.push(a[1],d[1]);var j=Math.min.apply(null,g);var k=Math.max.apply(null,g);var l=Math.min.apply(null,h);var m=Math.max.apply(null,h);e[0]=j;e[1]=l;f[0]=k;f[1]=m}function computeQuadraticBezierBoundingBox(a,b,c,d,e){var f=q.quadraticExtremum(a[0],b[0],c[0]);var g=q.quadraticExtremum(a[1],b[1],c[1]);f=Math.max(Math.min(f,1),0);g=Math.max(Math.min(g,1),0);var h=1-f;var i=1-g;var j=h*h*a[0]+2*h*f*b[0]+f*f*c[0];var k=h*h*a[1]+2*h*f*b[1]+f*f*c[1];var l=i*i*a[0]+2*i*g*b[0]+g*g*c[0];var m=i*i*a[1]+2*i*g*b[1]+g*g*c[1];d[0]=Math.min(a[0],c[0],j,l);d[1]=Math.min(a[1],c[1],k,m);e[0]=Math.max(a[0],c[0],j,l);e[1]=Math.max(a[1],c[1],k,m)}var s=o.create();var t=o.create();var u=o.create();var v=function(x,y,r,a,b,c,d,e){if(Math.abs(a-b)>=Math.PI*2){d[0]=x-r;d[1]=y-r;e[0]=x+r;e[1]=y+r;return}s[0]=Math.cos(a)*r+x;s[1]=Math.sin(a)*r+y;t[0]=Math.cos(b)*r+x;t[1]=Math.sin(b)*r+y;o.min(d,s,t);o.max(e,s,t);a=a%(Math.PI*2);if(a<0){a=a+Math.PI*2}b=b%(Math.PI*2);if(b<0){b=b+Math.PI*2}if(a>b&&!c){b+=Math.PI*2}else if(a<b&&c){a+=Math.PI*2}if(c){var f=b;b=a;a=f}for(var g=0;g<b;g+=Math.PI/2){if(g>a){u[0]=Math.cos(g)*r+x;u[1]=Math.sin(g)*r+y;o.min(d,u,d);o.max(e,u,e)}}};computeBoundingBox.cubeBezier=computeCubeBezierBoundingBox;computeBoundingBox.quadraticBezier=computeQuadraticBezierBoundingBox;computeBoundingBox.arc=v;return computeBoundingBox});define('echarts/util/shape/Chain',['require','zrender/shape/Base','./Icon','zrender/shape/util/dashedLineTo','zrender/tool/util','zrender/tool/matrix'],function(g){var h=g('zrender/shape/Base');var i=g('./Icon');var j=g('zrender/shape/util/dashedLineTo');var k=g('zrender/tool/util');var m=g('zrender/tool/matrix');function Chain(a){h.call(this,a)}Chain.prototype={type:'chain',brush:function(a,b){var c=this.style;if(b){c=this.getHighlightStyle(c,this.highlightStyle||{})}a.save();this.setContext(a,c);this.setTransform(a);a.save();a.beginPath();this.buildLinePath(a,c);a.stroke();a.restore();this.brushSymbol(a,c);a.restore();return},buildLinePath:function(a,b){var x=b.x;var y=b.y+5;var c=b.width;var d=b.height/2-10;a.moveTo(x,y);a.lineTo(x,y+d);a.moveTo(x+c,y);a.lineTo(x+c,y+d);a.moveTo(x,y+d/2);if(!b.lineType||b.lineType=='solid'){a.lineTo(x+c,y+d/2)}else if(b.lineType=='dashed'||b.lineType=='dotted'){var e=(b.lineWidth||1)*(b.lineType=='dashed'?5:1);j(a,x,y+d/2,x+c,y+d/2,e)}},brushSymbol:function(a,b){var y=b.y+b.height/4;a.save();var c=b.chainPoint;var d;for(var e=0,l=c.length;e<l;e++){d=c[e];if(d.symbol!='none'){a.beginPath();var f=d.symbolSize;i.prototype.buildPath(a,{iconType:d.symbol,x:d.x-f,y:y-f,width:f*2,height:f*2,n:d.n});a.fillStyle=d.isEmpty?'#fff':b.strokeColor;a.closePath();a.fill();a.stroke()}if(d.showLabel){a.font=d.textFont;a.fillStyle=d.textColor;a.textAlign=d.textAlign;a.textBaseline=d.textBaseline;if(d.rotation){a.save();this._updateTextTransform(a,d.rotation);a.fillText(d.name,d.textX,d.textY);a.restore()}else{a.fillText(d.name,d.textX,d.textY)}}}a.restore()},_updateTextTransform:function(a,b){var c=m.create();m.identity(c);if(b[0]!==0){var d=b[1]||0;var e=b[2]||0;if(d||e){m.translate(c,c,[-d,-e])}m.rotate(c,c,b[0]);if(d||e){m.translate(c,c,[d,e])}}a.transform.apply(a,c)},isCover:function(x,y){var a=this.style;if(x>=a.x&&x<=a.x+a.width&&y>=a.y&&y<=a.y+a.height){return true}else{return false}}};k.inherits(Chain,h);return Chain});define('zrender/shape/Ring',['require','./Base','../tool/util'],function(c){var d=c('./Base');var e=function(a){d.call(this,a)};e.prototype={type:'ring',buildPath:function(a,b){a.arc(b.x,b.y,b.r,0,Math.PI*2,false);a.moveTo(b.x+b.r0,b.y);a.arc(b.x,b.y,b.r0,0,Math.PI*2,true);return},getRect:function(a){if(a.__rect){return a.__rect}var b;if(a.brushType=='stroke'||a.brushType=='fill'){b=a.lineWidth||1}else{b=0}a.__rect={x:Math.round(a.x-a.r-b/2),y:Math.round(a.y-a.r-b/2),width:a.r*2+b,height:a.r*2+b};return a.__rect}};c('../tool/util').inherits(e,d);return e});define('echarts/component/axis',['require','./base','zrender/shape/Line','../config','../util/ecData','zrender/tool/util','zrender/tool/color','./categoryAxis','./valueAxis','../component'],function(g){var h=g('./base');var j=g('zrender/shape/Line');var k=g('../config');var m=g('../util/ecData');var n=g('zrender/tool/util');var o=g('zrender/tool/color');function Axis(a,b,c,d,e,f){h.call(this,a,b,c,d,e);this.axisType=f;this._axisList=[];this.refresh(d)}Axis.prototype={type:k.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var a=this.option.axisLine.lineStyle.width;var b=a/2;var c={_axisShape:'axisLine',zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false};var d=this.grid;switch(this.option.position){case'left':c.style={xStart:d.getX()-b,yStart:d.getYend(),xEnd:d.getX()-b,yEnd:d.getY(),lineCap:'round'};break;case'right':c.style={xStart:d.getXend()+b,yStart:d.getYend(),xEnd:d.getXend()+b,yEnd:d.getY(),lineCap:'round'};break;case'bottom':c.style={xStart:d.getX(),yStart:d.getYend()+b,xEnd:d.getXend(),yEnd:d.getYend()+b,lineCap:'round'};break;case'top':c.style={xStart:d.getX(),yStart:d.getY()-b,xEnd:d.getXend(),yEnd:d.getY()-b,lineCap:'round'};break}var e=c.style;if(this.option.name!==''){e.text=this.option.name;e.textPosition=this.option.nameLocation;e.textFont=this.getFont(this.option.nameTextStyle);if(this.option.nameTextStyle.align){e.textAlign=this.option.nameTextStyle.align}if(this.option.nameTextStyle.baseline){e.textBaseline=this.option.nameTextStyle.baseline}if(this.option.nameTextStyle.color){e.textColor=this.option.nameTextStyle.color}}e.strokeColor=this.option.axisLine.lineStyle.color;e.lineWidth=a;if(this.isHorizontal()){e.yStart=e.yEnd=this.subPixelOptimize(e.yEnd,a)}else{e.xStart=e.xEnd=this.subPixelOptimize(e.xEnd,a)}e.lineType=this.option.axisLine.lineStyle.type;c=new j(c);this.shapeList.push(c)},_axisLabelClickable:function(a,b){if(a){m.pack(b,undefined,-1,undefined,-1,b.style.text);b.hoverable=true;b.clickable=true;b.highlightStyle={color:o.lift(b.style.color,1),brushType:'fill'};return b}else{return b}},refixAxisShape:function(a,b){if(!this.option.axisLine.onZero){return}var c;if(this.isHorizontal()&&b!=null){for(var i=0,l=this.shapeList.length;i<l;i++){if(this.shapeList[i]._axisShape==='axisLine'){this.shapeList[i].style.yStart=this.shapeList[i].style.yEnd=this.subPixelOptimize(b,this.shapeList[i].stylelineWidth);this.zr.modShape(this.shapeList[i].id)}else if(this.shapeList[i]._axisShape==='axisTick'){c=this.shapeList[i].style.yEnd-this.shapeList[i].style.yStart;this.shapeList[i].style.yStart=b-c;this.shapeList[i].style.yEnd=b;this.zr.modShape(this.shapeList[i].id)}}}if(!this.isHorizontal()&&a!=null){for(var i=0,l=this.shapeList.length;i<l;i++){if(this.shapeList[i]._axisShape==='axisLine'){this.shapeList[i].style.xStart=this.shapeList[i].style.xEnd=this.subPixelOptimize(a,this.shapeList[i].stylelineWidth);this.zr.modShape(this.shapeList[i].id)}else if(this.shapeList[i]._axisShape==='axisTick'){c=this.shapeList[i].style.xEnd-this.shapeList[i].style.xStart;this.shapeList[i].style.xStart=a;this.shapeList[i].style.xEnd=a+c;this.zr.modShape(this.shapeList[i].id)}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==='bottom'||this.option.position==='top'}},reformOption:function(a){if(!a||a instanceof Array&&a.length===0){a=[{type:k.COMPONENT_TYPE_AXIS_VALUE}]}else if(!(a instanceof Array)){a=[a]}if(a.length>2){a=[a[0],a[1]]}if(this.axisType==='xAxis'){if(!a[0].position||a[0].position!='bottom'&&a[0].position!='top'){a[0].position='bottom'}if(a.length>1){a[1].position=a[0].position==='bottom'?'top':'bottom'}for(var i=0,l=a.length;i<l;i++){a[i].type=a[i].type||'category';a[i].xAxisIndex=i;a[i].yAxisIndex=-1}}else{if(!a[0].position||a[0].position!='left'&&a[0].position!='right'){a[0].position='left'}if(a.length>1){a[1].position=a[0].position==='left'?'right':'left'}for(var i=0,l=a.length;i<l;i++){a[i].type=a[i].type||'value';a[i].xAxisIndex=-1;a[i].yAxisIndex=i}}return a},refresh:function(a){var b;if(a){this.option=a;if(this.axisType==='xAxis'){this.option.xAxis=this.reformOption(a.xAxis);b=this.option.xAxis}else{this.option.yAxis=this.reformOption(a.yAxis);b=this.option.yAxis}this.series=a.series}var c=g('./categoryAxis');var d=g('./valueAxis');var e=Math.max(b&&b.length||0,this._axisList.length);for(var i=0;i<e;i++){if(this._axisList[i]&&a&&(!b[i]||this._axisList[i].type!=b[i].type)){this._axisList[i].dispose&&this._axisList[i].dispose();this._axisList[i]=false}if(this._axisList[i]){this._axisList[i].refresh&&this._axisList[i].refresh(b?b[i]:false,this.series)}else if(b&&b[i]){this._axisList[i]=b[i].type==='category'?new c(this.ecTheme,this.messageCenter,this.zr,b[i],this.myChart,this.axisBase):new d(this.ecTheme,this.messageCenter,this.zr,b[i],this.myChart,this.axisBase,this.series)}}},getAxis:function(a){return this._axisList[a]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var i=0,l=this._axisList.length;i<l;i++){this._axisList[i].dispose&&this._axisList[i].dispose()}this._axisList=[]}};n.inherits(Axis,h);g('../component').define('axis',Axis);return Axis});define('echarts/component/grid',['require','./base','zrender/shape/Rectangle','../config','zrender/tool/util','../component'],function(g){var h=g('./base');var i=g('zrender/shape/Rectangle');var j=g('../config');j.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:'rgba(0,0,0,0)',borderWidth:1,borderColor:'#ccc'};var k=g('zrender/tool/util');function Grid(a,b,c,d,e){h.call(this,a,b,c,d,e);this.refresh(d)}Grid.prototype={type:j.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(a){var b;var c;var d=a.xAxis._axisList.concat(a.yAxis?a.yAxis._axisList:[]);var e=d.length;var f;while(e--){f=d[e];if(f.type==j.COMPONENT_TYPE_AXIS_VALUE&&f._min<0&&f._max>=0){f.isHorizontal()?b=f.getCoord(0):c=f.getCoord(0)}}if(typeof b!='undefined'||typeof c!='undefined'){e=d.length;while(e--){d[e].refixAxisShape(b,c)}}},refresh:function(a){if(a||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear();this.option=a||this.option;this.option.grid=this.reformOption(this.option.grid);var b=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(b.x,this._zrWidth);this._y=this.parsePercent(b.y,this._zrHeight);var c=this.parsePercent(b.x2,this._zrWidth);var d=this.parsePercent(b.y2,this._zrHeight);if(typeof b.width=='undefined'){this._width=this._zrWidth-this._x-c}else{this._width=this.parsePercent(b.width,this._zrWidth)}this._width=this._width<=0?10:this._width;if(typeof b.height=='undefined'){this._height=this._zrHeight-this._y-d}else{this._height=this.parsePercent(b.height,this._zrHeight)}this._height=this._height<=0?10:this._height;this._x=this.subPixelOptimize(this._x,b.borderWidth);this._y=this.subPixelOptimize(this._y,b.borderWidth);this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:b.borderWidth>0?'both':'fill',color:b.backgroundColor,strokeColor:b.borderColor,lineWidth:b.borderWidth}}));this.zr.addShape(this.shapeList[0])}}};k.inherits(Grid,h);g('../component').define('grid',Grid);return Grid});define('echarts/component/dataZoom',['require','./base','zrender/shape/Rectangle','zrender/shape/Polygon','../util/shape/Icon','../config','../util/date','zrender/tool/util','../component'],function(r){var t=r('./base');var u=r('zrender/shape/Rectangle');var v=r('zrender/shape/Polygon');var w=r('../util/shape/Icon');var z=r('../config');z.dataZoom={zlevel:0,z:4,show:false,orient:'horizontal',backgroundColor:'rgba(0,0,0,0)',dataBackgroundColor:'#eee',fillerColor:'rgba(144,197,237,0.2)',handleColor:'rgba(70,130,180,0.8)',handleSize:8,showDetail:true,realtime:true};var A=r('../util/date');var B=r('zrender/tool/util');function DataZoom(c,d,e,f,g){t.call(this,c,d,e,f,g);var h=this;h._ondrift=function(a,b){return h.__ondrift(this,a,b)};h._ondragend=function(){return h.__ondragend()};this._fillerSize=30;this._isSilence=false;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._handleSize=this.zoomOption.handleSize;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom.show){this._buildShape()}this._syncData()}DataZoom.prototype={type:z.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}this._syncFrameShape()},_getLocation:function(){var x;var y;var a;var b;var c=this.component.grid;if(this.zoomOption.orient=='horizontal'){a=this.zoomOption.width||c.getWidth();b=this.zoomOption.height||this._fillerSize;x=this.zoomOption.x!=null?this.zoomOption.x:c.getX();y=this.zoomOption.y!=null?this.zoomOption.y:this.zr.getHeight()-b-2}else{a=this.zoomOption.width||this._fillerSize;b=this.zoomOption.height||c.getHeight();x=this.zoomOption.x!=null?this.zoomOption.x:2;y=this.zoomOption.y!=null?this.zoomOption.y:c.getY()}return{x:x,y:y,width:a,height:b}},_getZoom:function(){var a=this.option.series;var b=this.option.xAxis;if(b&&!(b instanceof Array)){b=[b];this.option.xAxis=b}var c=this.option.yAxis;if(c&&!(c instanceof Array)){c=[c];this.option.yAxis=c}var d=[];var e;var f;var g=this.zoomOption.xAxisIndex;if(b&&g==null){e=[];for(var i=0,l=b.length;i<l;i++){if(b[i].type=='category'||b[i].type==null){e.push(i)}}}else{if(g instanceof Array){e=g}else if(g!=null){e=[g]}else{e=[]}}g=this.zoomOption.yAxisIndex;if(c&&g==null){f=[];for(var i=0,l=c.length;i<l;i++){if(c[i].type=='category'){f.push(i)}}}else{if(g instanceof Array){f=g}else if(g!=null){f=[g]}else{f=[]}}var h;for(var i=0,l=a.length;i<l;i++){h=a[i];if(h.type!=z.CHART_TYPE_LINE&&h.type!=z.CHART_TYPE_BAR&&h.type!=z.CHART_TYPE_SCATTER&&h.type!=z.CHART_TYPE_K){continue}for(var j=0,k=e.length;j<k;j++){if(e[j]==(h.xAxisIndex||0)){d.push(i);break}}for(var j=0,k=f.length;j<k;j++){if(f[j]==(h.yAxisIndex||0)){d.push(i);break}}if(this.zoomOption.xAxisIndex==null&&this.zoomOption.yAxisIndex==null&&h.data&&this.getDataFromOption(h.data[0])instanceof Array&&(h.type==z.CHART_TYPE_SCATTER||h.type==z.CHART_TYPE_LINE||h.type==z.CHART_TYPE_BAR)){d.push(i)}}var m=this._zoom.start!=null?this._zoom.start:this.zoomOption.start!=null?this.zoomOption.start:0;var n=this._zoom.end!=null?this._zoom.end:this.zoomOption.end!=null?this.zoomOption.end:100;if(m>n){m=m+n;n=m-n;m=m-n}var o=Math.round((n-m)/100*(this.zoomOption.orient=='horizontal'?this._location.width:this._location.height));return{start:m,end:n,start2:0,end2:100,size:o,xAxisIndex:e,yAxisIndex:f,seriesIndex:d,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};var a=this.option.xAxis;var b=this._zoom.xAxisIndex;for(var i=0,l=b.length;i<l;i++){this._originalData.xAxis[b[i]]=a[b[i]].data}var c=this.option.yAxis;var d=this._zoom.yAxisIndex;for(var i=0,l=d.length;i<l;i++){this._originalData.yAxis[d[i]]=c[d[i]].data}var e=this.option.series;var f=this._zoom.seriesIndex;var g;for(var i=0,l=f.length;i<l;i++){g=e[f[i]];this._originalData.series[f[i]]=g.data;if(g.data&&this.getDataFromOption(g.data[0])instanceof Array&&(g.type==z.CHART_TYPE_SCATTER||g.type==z.CHART_TYPE_LINE||g.type==z.CHART_TYPE_BAR)){this._backupScale();this._calculScatterMap(f[i])}}},_calculScatterMap:function(a){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[a]=this._zoom.scatterMap[a]||{};var b=r('../component');var c=b.get('axis');var d=B.clone(this.option.xAxis);if(d[0].type=='category'){d[0].type='value'}if(d[1]&&d[1].type=='category'){d[1].type='value'}var e=new c(this.ecTheme,null,false,{xAxis:d,series:this.option.series},this,'xAxis');var f=this.option.series[a].xAxisIndex||0;this._zoom.scatterMap[a].x=e.getAxis(f).getExtremum();e.dispose();d=B.clone(this.option.yAxis);if(d[0].type=='category'){d[0].type='value'}if(d[1]&&d[1].type=='category'){d[1].type='value'}e=new c(this.ecTheme,null,false,{yAxis:d,series:this.option.series},this,'yAxis');f=this.option.series[a].yAxisIndex||0;this._zoom.scatterMap[a].y=e.getAxis(f).getExtremum();e.dispose()},_buildBackground:function(){var a=this._location.width;var b=this._location.height;this.shapeList.push(new u({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x,y:this._location.y,width:a,height:b,color:this.zoomOption.backgroundColor}}));var c=0;var d=this._originalData.xAxis;var e=this._zoom.xAxisIndex;for(var i=0,l=e.length;i<l;i++){c=Math.max(c,d[e[i]].length)}var f=this._originalData.yAxis;var g=this._zoom.yAxisIndex;for(var i=0,l=g.length;i<l;i++){c=Math.max(c,f[g[i]].length)}var h=this._zoom.seriesIndex[0];var j=this._originalData.series[h];var k=Number.MIN_VALUE;var m=Number.MAX_VALUE;var n;for(var i=0,l=j.length;i<l;i++){n=this.getDataFromOption(j[i],0);if(this.option.series[h].type==z.CHART_TYPE_K){n=n[1]}if(isNaN(n)){n=0}k=Math.max(k,n);m=Math.min(m,n)}var o=k-m;var p=[];var x=a/(c-(c>1?1:0));var y=b/(c-(c>1?1:0));var q=1;if(this.zoomOption.orient=='horizontal'&&x<1){q=Math.floor(c*3/a)}else if(this.zoomOption.orient=='vertical'&&y<1){q=Math.floor(c*3/b)}for(var i=0,l=c;i<l;i+=q){n=this.getDataFromOption(j[i],0);if(this.option.series[h].type==z.CHART_TYPE_K){n=n[1]}if(isNaN(n)){n=0}if(this.zoomOption.orient=='horizontal'){p.push([this._location.x+x*i,this._location.y+b-1-Math.round((n-m)/o*(b-10))])}else{p.push([this._location.x+1+Math.round((n-m)/o*(a-10)),this._location.y+y*(l-i-1)])}}if(this.zoomOption.orient=='horizontal'){p.push([this._location.x+a,this._location.y+b]);p.push([this._location.x,this._location.y+b])}else{p.push([this._location.x,this._location.y]);p.push([this._location.x,this._location.y+b])}this.shapeList.push(new v({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:p,color:this.zoomOption.dataBackgroundColor},hoverable:false}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:'filler'};if(this.zoomOption.orient=='horizontal'){this._fillerShae.style={x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-this._handleSize*2,height:this._location.height,color:this.zoomOption.fillerColor,text:':::',textPosition:'inside'}}else{this._fillerShae.style={x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-this._handleSize*2,color:this.zoomOption.fillerColor,text:'::',textPosition:'inside'}}this._fillerShae.highlightStyle={brushType:'fill',color:'rgba(0,0,0,0)'};this._fillerShae=new u(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){var a=this.zoomOption.showDetail?this._getDetail():{start:'',end:''};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,style:{iconType:'rectangle',x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:'=',textPosition:'inside'},highlightStyle:{text:a.start,brushType:'fill',textPosition:'left'},ondrift:this._ondrift,ondragend:this._ondragend};if(this.zoomOption.orient=='horizontal'){this._startShape.style.height=this._location.height;this._endShape=B.clone(this._startShape);this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endShape.highlightStyle.text=a.end;this._endShape.highlightStyle.textPosition='right'}else{this._startShape.style.width=this._location.width;this._endShape=B.clone(this._startShape);this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startShape.highlightStyle.textPosition='bottom';this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.highlightStyle.text=a.end;this._endShape.highlightStyle.textPosition='top'}this._startShape=new w(this._startShape);this._endShape=new w(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var x=this.subPixelOptimize(this._location.x,1);var y=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:x,y:y,width:this._location.width-(x>this._location.x?1:0),height:this._location.height-(y>this._location.y?1:0),lineWidth:1,brushType:'stroke',strokeColor:this.zoomOption.handleColor}};this._endFrameShape=B.clone(this._startFrameShape);this._startFrameShape=new u(this._startFrameShape);this._endFrameShape=new u(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape);return},_syncHandleShape:function(){if(this.zoomOption.orient=='horizontal'){this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100;this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100}else{this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFillerShape:function(){var a;var b;if(this.zoomOption.orient=='horizontal'){a=this._startShape.style.x;b=this._endShape.style.x;this._fillerShae.style.x=Math.min(a,b)+this._handleSize;this._fillerShae.style.width=Math.abs(a-b)-this._handleSize;this._zoom.start=(Math.min(a,b)-this._location.x)/this._location.width*100;this._zoom.end=(Math.max(a,b)+this._handleSize-this._location.x)/this._location.width*100}else{a=this._startShape.style.y;b=this._endShape.style.y;this._fillerShae.style.y=Math.min(a,b)+this._handleSize;this._fillerShae.style.height=Math.abs(a-b)-this._handleSize;this._zoom.start=(this._location.y+this._location.height-Math.max(a,b))/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-Math.min(a,b)-this._handleSize)/this._location.height*100}this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFrameShape:function(){if(this.zoomOption.orient=='horizontal'){this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x;this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x}else{this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y;this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y}this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){if(!this.zoomOption.show){return}if(this.zoomOption.orient=='horizontal'){this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width;this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize;this._fillerShae.style.x=this._startShape.style.x+this._handleSize;this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize}else{this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height;this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize;this._fillerShae.style.y=this._endShape.style.y+this._handleSize;this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncData:function(a){var b;var c;var d;var e;var f;for(var g in this._originalData){b=this._originalData[g];for(var h in b){f=b[h];if(f==null){continue}e=f.length;c=Math.floor(this._zoom.start/100*e);d=Math.ceil(this._zoom.end/100*e);if(!(this.getDataFromOption(f[0])instanceof Array)||this.option[g][h].type==z.CHART_TYPE_K){this.option[g][h].data=f.slice(c,d)}else{this._setScale();this.option[g][h].data=this._synScatterData(h,f)}}}if(!this._isSilence&&(this.zoomOption.realtime||a)){this.messageCenter.dispatch(z.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}},_synScatterData:function(a,b){if(this._zoom.start===0&&this._zoom.end==100&&this._zoom.start2===0&&this._zoom.end2==100){return b}var c=[];var d=this._zoom.scatterMap[a];var e;var f;var g;var h;var j;if(this.zoomOption.orient=='horizontal'){e=d.x.max-d.x.min;f=this._zoom.start/100*e+d.x.min;g=this._zoom.end/100*e+d.x.min;e=d.y.max-d.y.min;h=this._zoom.start2/100*e+d.y.min;j=this._zoom.end2/100*e+d.y.min}else{e=d.x.max-d.x.min;f=this._zoom.start2/100*e+d.x.min;g=this._zoom.end2/100*e+d.x.min;e=d.y.max-d.y.min;h=this._zoom.start/100*e+d.y.min;j=this._zoom.end/100*e+d.y.min}var k;if(k=d.x.dataMappingMethods){f=k.coord2Value(f);g=k.coord2Value(g)}if(k=d.y.dataMappingMethods){h=k.coord2Value(h);j=k.coord2Value(j)}var m;for(var i=0,l=b.length;i<l;i++){m=b[i].value||b[i];if(m[0]>=f&&m[0]<=g&&m[1]>=h&&m[1]<=j){c.push(b[i])}}return c},_setScale:function(){var a=this._zoom.start!==0||this._zoom.end!==100||this._zoom.start2!==0||this._zoom.end2!==100;var b={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var c in b){for(var i=0,l=b[c].length;i<l;i++){b[c][i].scale=a||b[c][i]._scale}}},_backupScale:function(){var a={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var b in a){for(var i=0,l=a[b].length;i<l;i++){a[b][i]._scale=a[b][i].scale}}},_getDetail:function(){var a=['xAxis','yAxis'];for(var i=0,l=a.length;i<l;i++){var b=this._originalData[a[i]];for(var c in b){var d=b[c];if(d==null){continue}var e=d.length;var f=Math.floor(this._zoom.start/100*e);var g=Math.ceil(this._zoom.end/100*e);g-=g>0?1:0;return{start:this.getDataFromOption(d[f]),end:this.getDataFromOption(d[g])}}}a=this.zoomOption.orient=='horizontal'?'xAxis':'yAxis';var h=this._zoom.seriesIndex[0];var j=this.option.series[h][a+'Index']||0;var k=this.option[a][j].type;var m=this._zoom.scatterMap[h][a.charAt(0)].min;var n=this._zoom.scatterMap[h][a.charAt(0)].max;var o=n-m;if(k=='value'){return{start:m+o*this._zoom.start/100,end:m+o*this._zoom.end/100}}else if(k=='time'){n=m+o*this._zoom.end/100;m=m+o*this._zoom.start/100;var p=A.getAutoFormatter(m,n).formatter;return{start:A.format(p,m),end:A.format(p,n)}}return{start:'',end:''}},__ondrift:function(a,b,c){if(this.zoomOption.zoomLock){a=this._fillerShae}var d=a._type=='filler'?this._handleSize:0;if(this.zoomOption.orient=='horizontal'){if(a.style.x+b-d<=this._location.x){a.style.x=this._location.x+d}else if(a.style.x+b+a.style.width+d>=this._location.x+this._location.width){a.style.x=this._location.x+this._location.width-a.style.width-d}else{a.style.x+=b}}else{if(a.style.y+c-d<=this._location.y){a.style.y=this._location.y+d}else if(a.style.y+c+a.style.height+d>=this._location.y+this._location.height){a.style.y=this._location.y+this._location.height-a.style.height-d}else{a.style.y+=c}}if(a._type=='filler'){this._syncHandleShape()}else{this._syncFillerShape()}if(this.zoomOption.realtime){this._syncData()}if(this.zoomOption.showDetail){var e=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=e.start;this._endShape.style.text=this._endShape.highlightStyle.text=e.end;this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition;this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return true},__ondragend:function(){if(this.zoomOption.showDetail){this._startShape.style.text=this._endShape.style.text='=';this._startShape.style.textPosition=this._endShape.style.textPosition='inside';this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.refreshNextFrame()}this.isDragend=true},ondragend:function(a,b){if(!this.isDragend||!a.target){return}!this.zoomOption.realtime&&this._syncData();b.dragOut=true;b.dragIn=true;if(!this._isSilence&&!this.zoomOption.realtime){this.messageCenter.dispatch(z.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}b.needRefresh=false;this.isDragend=false;return},ondataZoom:function(a,b){b.needRefresh=true;return},absoluteZoom:function(a){this._zoom.start=a.start;this._zoom.end=a.end;this._zoom.start2=a.start2;this._zoom.end2=a.end2;this._syncShape();this._syncData(true);return},rectZoom:function(a){if(!a){this._zoom.start=this._zoom.start2=0;this._zoom.end=this._zoom.end2=100;this._syncShape();this._syncData(true);return this._zoom}var b=this.component.grid.getArea();var c={x:a.x,y:a.y,width:a.width,height:a.height};if(c.width<0){c.x+=c.width;c.width=-c.width}if(c.height<0){c.y+=c.height;c.height=-c.height}if(c.x>b.x+b.width||c.y>b.y+b.height){return false}if(c.x<b.x){c.x=b.x}if(c.x+c.width>b.x+b.width){c.width=b.x+b.width-c.x}if(c.y+c.height>b.y+b.height){c.height=b.y+b.height-c.y}var d;var e=(c.x-b.x)/b.width;var f=1-(c.x+c.width-b.x)/b.width;var g=1-(c.y+c.height-b.y)/b.height;var h=(c.y-b.y)/b.height;if(this.zoomOption.orient=='horizontal'){d=this._zoom.end-this._zoom.start;this._zoom.start+=d*e;this._zoom.end-=d*f;d=this._zoom.end2-this._zoom.start2;this._zoom.start2+=d*g;this._zoom.end2-=d*h}else{d=this._zoom.end-this._zoom.start;this._zoom.start+=d*g;this._zoom.end-=d*h;d=this._zoom.end2-this._zoom.start2;this._zoom.start2+=d*e;this._zoom.end2-=d*f}this._syncShape();this._syncData(true);return this._zoom},syncBackupData:function(a){var b;var c=this._originalData['series'];var d=a.series;var e;for(var i=0,l=d.length;i<l;i++){e=d[i].data||d[i].eventList;if(c[i]){b=Math.floor(this._zoom.start/100*c[i].length)}else{b=0}for(var j=0,k=e.length;j<k;j++){if(c[i]){c[i][j+b]=e[j]}}}},syncOption:function(a){this.silence(true);this.option=a;this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom&&this.option.dataZoom.show){this._buildShape()}this._syncData();this.silence(false)},silence:function(s){this._isSilence=s},getRealDataIndex:function(a,b){if(!this._originalData||this._zoom.start===0&&this._zoom.end==100){return b}var c=this._originalData.series;if(c[a]){return Math.floor(this._zoom.start/100*c[a].length)+b}return-1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();if(this.option.dataZoom.show){this._buildShape()}}};B.inherits(DataZoom,t);r('../component').define('dataZoom',DataZoom);return DataZoom});define('echarts/component/categoryAxis',['require','./base','zrender/shape/Text','zrender/shape/Line','zrender/shape/Rectangle','../config','zrender/tool/util','zrender/tool/area','../component'],function(q){var r=q('./base');var s=q('zrender/shape/Text');var t=q('zrender/shape/Line');var u=q('zrender/shape/Rectangle');var v=q('../config');v.categoryAxis={zlevel:0,z:0,show:true,position:'bottom',name:'',nameLocation:'end',nameTextStyle:{},boundaryGap:true,axisLine:{show:true,onZero:true,lineStyle:{color:'#48b',width:2,type:'solid'}},axisTick:{show:true,interval:'auto',inside:false,length:5,lineStyle:{color:'#333',width:1}},axisLabel:{show:true,interval:'auto',rotate:0,margin:8,textStyle:{color:'#333'}},splitLine:{show:true,lineStyle:{color:['#ccc'],width:1,type:'solid'}},splitArea:{show:false,areaStyle:{color:['rgba(250,250,250,0.3)','rgba(200,200,200,0.3)']}}};var w=q('zrender/tool/util');var z=q('zrender/tool/area');function CategoryAxis(a,b,c,d,e,f){if(d.data.length<1){console.error('option.data.length < 1.');return}r.call(this,a,b,c,d,e);this.grid=this.component.grid;for(var g in f){this[g]=f[g]}this.refresh(d)}CategoryAxis.prototype={type:v.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(a){var b=this.getDataFromOption(this.option.data[a]);var c=this.option.data[a].formatter||this.option.axisLabel.formatter;if(c){if(typeof c=='function'){b=c.call(this.myChart,b)}else if(typeof c=='string'){b=c.replace('{value}',b)}}return b},_getInterval:function(){var a=this.option.axisLabel.interval;if(a=='auto'){var b=this.option.axisLabel.textStyle.fontSize;var c=this.option.data;var d=this.option.data.length;if(this.isHorizontal()){if(d>3){var e=this.getGap();var f=false;var g;var h;var j=Math.floor(0.5/e);j=j<1?1:j;a=Math.floor(15/e);while(!f&&a<d){a+=j;f=true;g=Math.floor(e*a);for(var i=Math.floor((d-1)/a)*a;i>=0;i-=a){if(this.option.axisLabel.rotate!==0){h=b}else if(c[i].textStyle){h=z.getTextWidth(this._getReformedLabel(i),this.getFont(w.merge(c[i].textStyle,this.option.axisLabel.textStyle)))}else{var k=this._getReformedLabel(i)+'';var l=(k.match(/\w/g)||'').length;var m=k.length-l;h=l*b*2/3+m*b}if(g<h){f=false;break}}}}else{a=1}}else{if(d>3){var e=this.getGap();a=Math.floor(11/e);while(e*a-6<b&&a<d){a++}}else{a=1}}}else{a=typeof a=='function'?1:a-0+1}return a},_buildShape:function(){this._interval=this._getInterval();if(!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}},_buildAxisTick:function(){var a;var b=this.option.data;var c=this.option.data.length;var d=this.option.axisTick;var e=d.length;var f=d.lineStyle.color;var g=d.lineStyle.width;var h=typeof d.interval=='function'?d.interval:d.interval=='auto'?typeof this.option.axisLabel.interval=='function'?this.option.axisLabel.interval:false:false;var j=h?1:d.interval=='auto'?this._interval:d.interval-0+1;var k=d.onGap;var l=k?this.getGap()/2:typeof k=='undefined'?this.option.boundaryGap?this.getGap()/2:0:0;var m=l>0?-j:0;if(this.isHorizontal()){var n=this.option.position=='bottom'?d.inside?this.grid.getYend()-e-1:this.grid.getYend()+1:d.inside?this.grid.getY()+1:this.grid.getY()-e-1;var x;for(var i=m;i<c;i+=j){if(h&&!h(i,b[i])){continue}x=this.subPixelOptimize(this.getCoordByIndex(i)+(i>=0?l:0),g);a={_axisShape:'axisTick',zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:x,yStart:n,xEnd:x,yEnd:n+e,strokeColor:f,lineWidth:g}};this.shapeList.push(new t(a))}}else{var o=this.option.position=='left'?d.inside?this.grid.getX()+1:this.grid.getX()-e-1:d.inside?this.grid.getXend()-e-1:this.grid.getXend()+1;var y;for(var i=m;i<c;i+=j){if(h&&!h(i,b[i])){continue}y=this.subPixelOptimize(this.getCoordByIndex(i)-(i>=0?l:0),g);a={_axisShape:'axisTick',zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:o,yStart:y,xEnd:o+e,yEnd:y,strokeColor:f,lineWidth:g}};this.shapeList.push(new t(a))}}},_buildAxisLabel:function(){var a;var b=this.option.data;var c=this.option.data.length;var d=this.option.axisLabel;var e=d.rotate;var f=d.margin;var g=d.clickable;var h=d.textStyle;var j=typeof d.interval=='function'?d.interval:false;var k;if(this.isHorizontal()){var l;var m;if(this.option.position=='bottom'){l=this.grid.getYend()+f;m='top'}else{l=this.grid.getY()-f;m='bottom'}for(var i=0;i<c;i+=this._interval){if(j&&!j(i,b[i])||this._getReformedLabel(i)===''){continue}k=w.merge(b[i].textStyle||{},h);a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoordByIndex(i),y:l,color:k.color,text:this._getReformedLabel(i),textFont:this.getFont(k),textAlign:k.align||'center',textBaseline:k.baseline||m}};if(e){a.style.textAlign=e>0?this.option.position=='bottom'?'right':'left':this.option.position=='bottom'?'left':'right';a.rotation=[e*Math.PI/180,a.style.x,a.style.y]}this.shapeList.push(new s(this._axisLabelClickable(g,a)))}}else{var n;var o;if(this.option.position=='left'){n=this.grid.getX()-f;o='right'}else{n=this.grid.getXend()+f;o='left'}for(var i=0;i<c;i+=this._interval){if(j&&!j(i,b[i])||this._getReformedLabel(i)===''){continue}k=w.merge(b[i].textStyle||{},h);a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:n,y:this.getCoordByIndex(i),color:k.color,text:this._getReformedLabel(i),textFont:this.getFont(k),textAlign:k.align||o,textBaseline:k.baseline||i===0&&this.option.name!==''?'bottom':i==c-1&&this.option.name!==''?'top':'middle'}};if(e){a.rotation=[e*Math.PI/180,a.style.x,a.style.y]}this.shapeList.push(new s(this._axisLabelClickable(g,a)))}}},_buildSplitLine:function(){var a;var b=this.option.data;var c=this.option.data.length;var d=this.option.splitLine;var e=d.lineStyle.type;var f=d.lineStyle.width;var g=d.lineStyle.color;g=g instanceof Array?g:[g];var h=g.length;var j=typeof this.option.axisLabel.interval=='function'?this.option.axisLabel.interval:false;var k=d.onGap;var l=k?this.getGap()/2:typeof k=='undefined'?this.option.boundaryGap?this.getGap()/2:0:0;c-=k||typeof k=='undefined'&&this.option.boundaryGap?1:0;if(this.isHorizontal()){var m=this.grid.getY();var n=this.grid.getYend();var x;for(var i=0;i<c;i+=this._interval){if(j&&!j(i,b[i])){continue}x=this.subPixelOptimize(this.getCoordByIndex(i)+l,f);a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:x,yStart:m,xEnd:x,yEnd:n,strokeColor:g[i/this._interval%h],lineType:e,lineWidth:f}};this.shapeList.push(new t(a))}}else{var o=this.grid.getX();var p=this.grid.getXend();var y;for(var i=0;i<c;i+=this._interval){if(j&&!j(i,b[i])){continue}y=this.subPixelOptimize(this.getCoordByIndex(i)-l,f);a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:o,yStart:y,xEnd:p,yEnd:y,strokeColor:g[i/this._interval%h],lineType:e,lineWidth:f}};this.shapeList.push(new t(a))}}},_buildSplitArea:function(){var a;var b=this.option.data;var c=this.option.splitArea;var d=c.areaStyle.color;if(!(d instanceof Array)){a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:d}};this.shapeList.push(new u(a))}else{var e=d.length;var f=this.option.data.length;var g=typeof this.option.axisLabel.interval=='function'?this.option.axisLabel.interval:false;var h=c.onGap;var j=h?this.getGap()/2:typeof h=='undefined'?this.option.boundaryGap?this.getGap()/2:0:0;if(this.isHorizontal()){var y=this.grid.getY();var k=this.grid.getHeight();var l=this.grid.getX();var m;for(var i=0;i<=f;i+=this._interval){if(g&&!g(i,b[i])&&i<f){continue}m=i<f?this.getCoordByIndex(i)+j:this.grid.getXend();a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:l,y:y,width:m-l,height:k,color:d[i/this._interval%e]}};this.shapeList.push(new u(a));l=m}}else{var x=this.grid.getX();var n=this.grid.getWidth();var o=this.grid.getYend();var p;for(var i=0;i<=f;i+=this._interval){if(g&&!g(i,b[i])&&i<f){continue}p=i<f?this.getCoordByIndex(i)-j:this.grid.getY();a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:x,y:p,width:n,height:o-p,color:d[i/this._interval%e]}};this.shapeList.push(new u(a));o=p}}}},refresh:function(a){if(a){this.option=this.reformOption(a);this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)}this.clear();this._buildShape()},getGap:function(){var a=this.option.data.length;var b=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();if(this.option.boundaryGap){return b/a}else{return b/(a>1?a-1:1)}},getCoord:function(a){var b=this.option.data;var c=b.length;var d=this.getGap();var e=this.option.boundaryGap?d/2:0;for(var i=0;i<c;i++){if(this.getDataFromOption(b[i])==a){if(this.isHorizontal()){e=this.grid.getX()+e}else{e=this.grid.getYend()-e}return e}e+=d}},getCoordByIndex:function(a){if(a<0){if(this.isHorizontal()){return this.grid.getX()}else{return this.grid.getYend()}}else if(a>this.option.data.length-1){if(this.isHorizontal()){return this.grid.getXend()}else{return this.grid.getY()}}else{var b=this.getGap();var c=this.option.boundaryGap?b/2:0;c+=a*b;if(this.isHorizontal()){c=this.grid.getX()+c}else{c=this.grid.getYend()-c}return c}},getNameByIndex:function(a){return this.getDataFromOption(this.option.data[a])},getIndexByName:function(a){var b=this.option.data;var c=b.length;for(var i=0;i<c;i++){if(this.getDataFromOption(b[i])==a){return i}}return-1},getValueFromCoord:function(){return''},isMainAxis:function(a){return a%this._interval===0}};w.inherits(CategoryAxis,r);q('../component').define('categoryAxis',CategoryAxis);return CategoryAxis});define('echarts/component/valueAxis',['require','./base','zrender/shape/Text','zrender/shape/Line','zrender/shape/Rectangle','../config','../util/date','zrender/tool/util','../util/smartSteps','../util/accMath','../util/smartLogSteps','../component'],function(o){var p=o('./base');var q=o('zrender/shape/Text');var r=o('zrender/shape/Line');var s=o('zrender/shape/Rectangle');var t=o('../config');t.valueAxis={zlevel:0,z:0,show:true,position:'left',name:'',nameLocation:'end',nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:true,onZero:true,lineStyle:{color:'#48b',width:2,type:'solid'}},axisTick:{show:false,inside:false,length:5,lineStyle:{color:'#333',width:1}},axisLabel:{show:true,rotate:0,margin:8,textStyle:{color:'#333'}},splitLine:{show:true,lineStyle:{color:['#ccc'],width:1,type:'solid'}},splitArea:{show:false,areaStyle:{color:['rgba(250,250,250,0.3)','rgba(200,200,200,0.3)']}}};var u=o('../util/date');var v=o('zrender/tool/util');function ValueAxis(a,b,c,d,e,f,g){if(!g||g.length===0){console.err('option.series.length == 0.');return}p.call(this,a,b,c,d,e);this.series=g;this.grid=this.component.grid;for(var h in f){this[h]=f[h]}this.refresh(d,g)}ValueAxis.prototype={type:t.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=false;this._calculateValue();if(!this._hasData||!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,l=this.shapeList.length;i<l;i++){this.zr.addShape(this.shapeList[i])}},_buildAxisTick:function(){var a;var b=this._valueList;var c=this._valueList.length;var d=this.option.axisTick;var e=d.length;var f=d.lineStyle.color;var g=d.lineStyle.width;if(this.isHorizontal()){var h=this.option.position==='bottom'?d.inside?this.grid.getYend()-e-1:this.grid.getYend()+1:d.inside?this.grid.getY()+1:this.grid.getY()-e-1;var x;for(var i=0;i<c;i++){x=this.subPixelOptimize(this.getCoord(b[i]),g);a={_axisShape:'axisTick',zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:x,yStart:h,xEnd:x,yEnd:h+e,strokeColor:f,lineWidth:g}};this.shapeList.push(new r(a))}}else{var j=this.option.position==='left'?d.inside?this.grid.getX()+1:this.grid.getX()-e-1:d.inside?this.grid.getXend()-e-1:this.grid.getXend()+1;var y;for(var i=0;i<c;i++){y=this.subPixelOptimize(this.getCoord(b[i]),g);a={_axisShape:'axisTick',zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:j,yStart:y,xEnd:j+e,yEnd:y,strokeColor:f,lineWidth:g}};this.shapeList.push(new r(a))}}},_buildAxisLabel:function(){var a;var b=this._valueList;var c=this._valueList.length;var d=this.option.axisLabel.rotate;var e=this.option.axisLabel.margin;var f=this.option.axisLabel.clickable;var g=this.option.axisLabel.textStyle;if(this.isHorizontal()){var h;var j;if(this.option.position==='bottom'){h=this.grid.getYend()+e;j='top'}else{h=this.grid.getY()-e;j='bottom'}for(var i=0;i<c;i++){a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoord(b[i]),y:h,color:typeof g.color==='function'?g.color(b[i]):g.color,text:this._valueLabel[i],textFont:this.getFont(g),textAlign:g.align||'center',textBaseline:g.baseline||j}};if(d){a.style.textAlign=d>0?this.option.position==='bottom'?'right':'left':this.option.position==='bottom'?'left':'right';a.rotation=[d*Math.PI/180,a.style.x,a.style.y]}this.shapeList.push(new q(this._axisLabelClickable(f,a)))}}else{var k;var l;if(this.option.position==='left'){k=this.grid.getX()-e;l='right'}else{k=this.grid.getXend()+e;l='left'}for(var i=0;i<c;i++){a={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:k,y:this.getCoord(b[i]),color:typeof g.color==='function'?g.color(b[i]):g.color,text:this._valueLabel[i],textFont:this.getFont(g),textAlign:g.align||l,textBaseline:g.baseline||(i===0&&this.option.name!==''?'bottom':i===c-1&&this.option.name!==''?'top':'middle')}};if(d){a.rotation=[d*Math.PI/180,a.style.x,a.style.y]}this.shapeList.push(new q(this._axisLabelClickable(f,a)))}}},_buildSplitLine:function(){var a;var b=this._valueList;var c=this._valueList.length;var d=this.option.splitLine;var e=d.lineStyle.type;var f=d.lineStyle.width;var g=d.lineStyle.color;g=g instanceof Array?g:[g];var h=g.length;if(this.isHorizontal()){var j=this.grid.getY();var k=this.grid.getYend();var x;for(var i=0;i<c;i++){x=this.subPixelOptimize(this.getCoord(b[i]),f);a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:x,yStart:j,xEnd:x,yEnd:k,strokeColor:g[i%h],lineType:e,lineWidth:f}};this.shapeList.push(new r(a))}}else{var l=this.grid.getX();var m=this.grid.getXend();var y;for(var i=0;i<c;i++){y=this.subPixelOptimize(this.getCoord(b[i]),f);a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:l,yStart:y,xEnd:m,yEnd:y,strokeColor:g[i%h],lineType:e,lineWidth:f}};this.shapeList.push(new r(a))}}},_buildSplitArea:function(){var a;var b=this.option.splitArea.areaStyle.color;if(!(b instanceof Array)){a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:b}};this.shapeList.push(new s(a))}else{var c=b.length;var d=this._valueList;var e=this._valueList.length;if(this.isHorizontal()){var y=this.grid.getY();var f=this.grid.getHeight();var g=this.grid.getX();var h;for(var i=0;i<=e;i++){h=i<e?this.getCoord(d[i]):this.grid.getXend();a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:g,y:y,width:h-g,height:f,color:b[i%c]}};this.shapeList.push(new s(a));g=h}}else{var x=this.grid.getX();var j=this.grid.getWidth();var k=this.grid.getYend();var l;for(var i=0;i<=e;i++){l=i<e?this.getCoord(d[i]):this.grid.getY();a={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:x,y:l,width:j,height:k-l,color:b[i%c]}};this.shapeList.push(new s(a));k=l}}}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){var a={};var b;var c;var d=this.component.legend;for(var i=0,l=this.series.length;i<l;i++){if(this.series[i].type!=t.CHART_TYPE_LINE&&this.series[i].type!=t.CHART_TYPE_BAR&&this.series[i].type!=t.CHART_TYPE_SCATTER&&this.series[i].type!=t.CHART_TYPE_K&&this.series[i].type!=t.CHART_TYPE_EVENTRIVER){continue}if(d&&!d.isSelected(this.series[i].name)){continue}b=this.series[i].xAxisIndex||0;c=this.series[i].yAxisIndex||0;if(this.option.xAxisIndex!=b&&this.option.yAxisIndex!=c){continue}this._calculSum(a,i)}var e;for(var i in a){e=a[i];for(var j=0,k=e.length;j<k;j++){if(!isNaN(e[j])){this._hasData=true;this._min=e[j];this._max=e[j];break}}if(this._hasData){break}}for(var i in a){e=a[i];for(var j=0,k=e.length;j<k;j++){if(!isNaN(e[j])){this._min=Math.min(this._min,e[j]);this._max=Math.max(this._max,e[j])}}}var f=this.option.type!=='log'?this.option.boundaryGap:[0,0];var g=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(g*f[0]):this.option.min-0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(g*f[1]):this.option.max-0;if(this._min===this._max){if(this._max===0){this._max=1}else if(this._max>0){this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}else{this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}}if(this.option.type==='time'){this._reformTimeValue()}else if(this.option.type==='log'){this._reformLogValue()}else{this._reformValue(this.option.scale)}}else{this._hasData=true;this._min=this.option.min-0;this._max=this.option.max-0;if(this.option.type==='time'){this._reformTimeValue()}else if(this.option.type==='log'){this._reformLogValue()}else{this._customerValue()}}},_calculSum:function(a,i){var b=this.series[i].name||'kener';var c;var d;if(!this.series[i].stack){a[b]=a[b]||[];if(this.series[i].type!=t.CHART_TYPE_EVENTRIVER){d=this.series[i].data;for(var j=0,k=d.length;j<k;j++){c=this.getDataFromOption(d[j]);if(this.series[i].type===t.CHART_TYPE_K){a[b].push(c[0]);a[b].push(c[1]);a[b].push(c[2]);a[b].push(c[3])}else if(c instanceof Array){if(this.option.xAxisIndex!=-1){a[b].push(this.option.type!='time'?c[0]:u.getNewDate(c[0]))}if(this.option.yAxisIndex!=-1){a[b].push(this.option.type!='time'?c[1]:u.getNewDate(c[1]))}}else{a[b].push(c)}}}else{d=this.series[i].data;for(var j=0,k=d.length;j<k;j++){var e=d[j].evolution;for(var m=0,n=e.length;m<n;m++){a[b].push(u.getNewDate(e[m].time))}}}}else{var f='__Magic_Key_Positive__'+this.series[i].stack;var g='__Magic_Key_Negative__'+this.series[i].stack;a[f]=a[f]||[];a[g]=a[g]||[];a[b]=a[b]||[];d=this.series[i].data;for(var j=0,k=d.length;j<k;j++){c=this.getDataFromOption(d[j]);if(c==='-'){continue}c=c-0;if(c>=0){if(a[f][j]!=null){a[f][j]+=c}else{a[f][j]=c}}else{if(a[g][j]!=null){a[g][j]+=c}else{a[g][j]=c}}if(this.option.scale){a[b].push(c)}}}},_reformValue:function(a){var b=o('../util/smartSteps');var c=this.option.splitNumber;if(!a&&this._min>=0&&this._max>=0){this._min=0}if(!a&&this._min<=0&&this._max<=0){this._max=0}var d=b(this._min,this._max,c);c=c!=null?c:d.secs;this._min=d.min;this._max=d.max;this._valueList=d.pnts;this._reformLabelData()},_reformTimeValue:function(){var c=this.option.splitNumber!=null?this.option.splitNumber:5;var d=u.getAutoFormatter(this._min,this._max,c);var e=d.formatter;var f=d.gapValue;this._valueList=[u.getNewDate(this._min)];var g;switch(e){case'week':g=u.nextMonday(this._min);break;case'month':g=u.nextNthOnMonth(this._min,1);break;case'quarter':g=u.nextNthOnQuarterYear(this._min,1);break;case'half-year':g=u.nextNthOnHalfYear(this._min,1);break;case'year':g=u.nextNthOnYear(this._min,1);break;default:if(f<=3600000*2){g=(Math.floor(this._min/f)+1)*f}else{g=u.getNewDate(this._min- -f);g.setHours(Math.round(g.getHours()/6)*6);g.setMinutes(0);g.setSeconds(0)}break}if(g-this._min<f/2){g-=-f}d=u.getNewDate(g);c*=1.5;while(c-->=0){if(e=='month'||e=='quarter'||e=='half-year'||e=='year'){d.setDate(1)}if(this._max-d<f/2){break}this._valueList.push(d);d=u.getNewDate(d- -f)}this._valueList.push(u.getNewDate(this._max));this._reformLabelData(function(b){return function(a){return u.format(b,a)}}(e))},_customerValue:function(){var a=o('../util/accMath');var b=this.option.splitNumber!=null?this.option.splitNumber:5;var c=(this._max-this._min)/b;this._valueList=[];for(var i=0;i<=b;i++){this._valueList.push(a.accAdd(this._min,a.accMul(c,i)))}this._reformLabelData()},_reformLogValue:function(){var a=this.option;var b=o('../util/smartLogSteps')({dataMin:this._min,dataMax:this._max,logPositive:a.logPositive,logLabelBase:a.logLabelBase,splitNumber:a.splitNumber});this._min=b.dataMin;this._max=b.dataMax;this._valueList=b.tickList;this._dataMappingMethods=b.dataMappingMethods;this._reformLabelData(b.labelFormatter)},_reformLabelData:function(a){this._valueLabel=[];var b=this.option.axisLabel.formatter;if(b){for(var i=0,l=this._valueList.length;i<l;i++){if(typeof b==='function'){this._valueLabel.push(a?b.call(this.myChart,this._valueList[i],a):b.call(this.myChart,this._valueList[i]))}else if(typeof b==='string'){this._valueLabel.push(a?u.format(b,this._valueList[i]):b.replace('{value}',this._valueList[i]))}}}else{for(var i=0,l=this._valueList.length;i<l;i++){this._valueLabel.push(a?a(this._valueList[i]):this.numAddCommas(this._valueList[i]))}}},getExtremum:function(){this._calculateValue();var a=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:a?v.merge({},a):null}},refresh:function(a,b){if(a){this.option=this.reformOption(a);this.option.axisLabel.textStyle=v.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle);this.series=b}if(this.zr){this.clear();this._buildShape()}},getCoord:function(a){if(this._dataMappingMethods){a=this._dataMappingMethods.value2Coord(a)}a=a<this._min?this._min:a;a=a>this._max?this._max:a;var b;if(!this.isHorizontal()){b=this.grid.getYend()-(a-this._min)/(this._max-this._min)*this.grid.getHeight()}else{b=this.grid.getX()+(a-this._min)/(this._max-this._min)*this.grid.getWidth()}return b},getCoordSize:function(a){if(!this.isHorizontal()){return Math.abs(a/(this._max-this._min)*this.grid.getHeight())}else{return Math.abs(a/(this._max-this._min)*this.grid.getWidth())}},getValueFromCoord:function(a){var b;if(!this.isHorizontal()){a=a<this.grid.getY()?this.grid.getY():a;a=a>this.grid.getYend()?this.grid.getYend():a;b=this._max-(a-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)}else{a=a<this.grid.getX()?this.grid.getX():a;a=a>this.grid.getXend()?this.grid.getXend():a;b=this._min+(a-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)}if(this._dataMappingMethods){b=this._dataMappingMethods.coord2Value(b)}return b.toFixed(2)-0},isMaindAxis:function(a){for(var i=0,l=this._valueList.length;i<l;i++){if(this._valueList[i]===a){return true}}return false}};v.inherits(ValueAxis,p);o('../component').define('valueAxis',ValueAxis);return ValueAxis});define('echarts/util/date',[],function(){var j=[{formatter:'hh : mm : ss',value:1000},{formatter:'hh : mm : ss',value:1000*5},{formatter:'hh : mm : ss',value:1000*10},{formatter:'hh : mm : ss',value:1000*15},{formatter:'hh : mm : ss',value:1000*30},{formatter:'hh : mm\nMM - dd',value:60000},{formatter:'hh : mm\nMM - dd',value:60000*5},{formatter:'hh : mm\nMM - dd',value:60000*10},{formatter:'hh : mm\nMM - dd',value:60000*15},{formatter:'hh : mm\nMM - dd',value:60000*30},{formatter:'hh : mm\nMM - dd',value:3600000},{formatter:'hh : mm\nMM - dd',value:3600000*2},{formatter:'hh : mm\nMM - dd',value:3600000*6},{formatter:'hh : mm\nMM - dd',value:3600000*12},{formatter:'MM - dd\nyyyy',value:3600000*24},{formatter:'week',value:3600000*24*7},{formatter:'month',value:3600000*24*31},{formatter:'quarter',value:3600000*24*380/4},{formatter:'half-year',value:3600000*24*380/2},{formatter:'year',value:3600000*24*380}];function getAutoFormatter(a,b,c){c=c>1?c:2;var d;var e;var f;var g;for(var i=0,l=j.length;i<l;i++){d=j[i].value;e=Math.ceil(b/d)*d-Math.floor(a/d)*d;if(Math.round(e/d)<=c*1.2){f=j[i].formatter;g=j[i].value;break}}if(f==null){f='year';d=3600000*24*367;e=Math.ceil(b/d)*d-Math.floor(a/d)*d;g=Math.round(e/(c-1)/d)*d}return{formatter:f,gapValue:g}}function s2d(v){return v<10?'0'+v:v}function format(a,b){if(a=='week'||a=='month'||a=='quarter'||a=='half-year'||a=='year'){a='MM - dd\nyyyy'}var c=getNewDate(b);var y=c.getFullYear();var M=c.getMonth()+1;var d=c.getDate();var h=c.getHours();var m=c.getMinutes();var s=c.getSeconds();a=a.replace('MM',s2d(M));a=a.toLowerCase();a=a.replace('yyyy',y);a=a.replace('yy',y%100);a=a.replace('dd',s2d(d));a=a.replace('d',d);a=a.replace('hh',s2d(h));a=a.replace('h',h);a=a.replace('mm',s2d(m));a=a.replace('m',m);a=a.replace('ss',s2d(s));a=a.replace('s',s);return a}function nextMonday(a){a=getNewDate(a);a.setDate(a.getDate()+8-a.getDay());return a}function nextNthPerNmonth(a,b,c){a=getNewDate(a);a.setMonth(Math.ceil((a.getMonth()+1)/c)*c);a.setDate(b);return a}function nextNthOnMonth(a,b){return nextNthPerNmonth(a,b,1)}function nextNthOnQuarterYear(a,b){return nextNthPerNmonth(a,b,3)}function nextNthOnHalfYear(a,b){return nextNthPerNmonth(a,b,6)}function nextNthOnYear(a,b){return nextNthPerNmonth(a,b,12)}function getNewDate(a){return a instanceof Date?a:new Date(typeof a=='string'?a.replace(/-/g,'/'):a)}return{getAutoFormatter:getAutoFormatter,getNewDate:getNewDate,format:format,nextMonday:nextMonday,nextNthPerNmonth:nextNthPerNmonth,nextNthOnMonth:nextNthOnMonth,nextNthOnQuarterYear:nextNthOnQuarterYear,nextNthOnHalfYear:nextNthOnHalfYear,nextNthOnYear:nextNthOnYear}});define('echarts/util/smartSteps',[],function(){var q=[10,20,25,50];var r=[4,5,6];var s;var t;var u;var v;var w;var x=Math;var y=x.round;var z=x.floor;var A=x.ceil;var B=x.abs;function MATH_LOG(n){return x.log(B(n))/x.LN10}function MATH_POW(n){return x.pow(10,n)}function MATH_ISINT(n){return n===z(n)}function smartSteps(a,b,c,d){s=d||{};t=s.steps||q;u=s.secs||r;c=y(+c||0)%99;a=+a||0;b=+b||0;v=w=0;if('min'in s){a=+s.min||0;v=1}if('max'in s){b=+s.max||0;w=1}if(a>b){b=[a,a=b][0]}var e=b-a;if(v&&w){return bothLocked(a,b,c)}if(e<(c||5)){if(MATH_ISINT(a)&&MATH_ISINT(b)){return forInteger(a,b,c)}else if(e===0){return forSpan0(a,b,c)}}return coreCalc(a,b,c)}function makeResult(a,b,c,d){d=d||0;var e=expNum((b-a)/c,-1);var f=expNum(a,-1,1);var g=expNum(b,-1);var h=x.min(e.e,f.e,g.e);if(f.c===0){h=x.min(e.e,g.e)}else if(g.c===0){h=x.min(e.e,f.e)}expFixTo(e,{c:0,e:h});expFixTo(f,e,1);expFixTo(g,e);d+=h;a=f.c;b=g.c;var j=(b-a)/c;var k=MATH_POW(d);var l=0;var m=[];for(var i=c+1;i--;){m[i]=(a+j*i)*k}if(d<0){l=decimals(k);j=+(j*k).toFixed(l);a=+(a*k).toFixed(l);b=+(b*k).toFixed(l);for(var i=m.length;i--;){m[i]=m[i].toFixed(l);+m[i]===0&&(m[i]='0')}}else{a*=k;b*=k;j*=k}u=0;t=0;s=0;return{min:a,max:b,secs:c,step:j,fix:l,exp:d,pnts:m}}function expNum(a,b,c){b=y(b%10)||2;if(b<0){if(MATH_ISINT(a)){b=(''+B(a)).replace(/0+$/,'').length||1}else{a=a.toFixed(15).replace(/0+$/,'');b=a.replace('.','').replace(/^[-0]+/,'').length;a=+a}}var d=z(MATH_LOG(a))-b+1;var e=+(a*MATH_POW(-d)).toFixed(15)||0;e=c?z(e):A(e);!e&&(d=0);if((''+B(e)).length>b){d+=1;e/=10}return{c:e,e:d}}function expFixTo(a,b,c){var d=b.e-a.e;if(d){a.e+=d;a.c*=MATH_POW(-d);a.c=c?z(a.c):A(a.c)}}function expFixMin(a,b,c){if(a.e<b.e){expFixTo(b,a,c)}else{expFixTo(a,b,c)}}function getCeil(a,b){b=b||q;a=expNum(a);var c=a.c;var i=0;while(c>b[i]){i++}if(!b[i]){c/=10;a.e+=1;i=0;while(c>b[i]){i++}}a.c=b[i];return a}function coreCalc(a,b,c){var d;var e=c||+u.slice(-1);var f=getCeil((b-a)/e,t);var g=expNum(b-a);var h=expNum(a,-1,1);var i=expNum(b,-1);expFixTo(g,f);expFixTo(h,f,1);expFixTo(i,f);if(!c){e=look4sections(h,i)}else{d=look4step(h,i,e)}if(MATH_ISINT(a)&&MATH_ISINT(b)&&a*b>=0){if(b-a<e){return forInteger(a,b,e)}e=tryForInt(a,b,c,h,i,e)}var j=cross0(a,b,h.c,i.c);h.c=j[0];i.c=j[1];if(v||w){singleLocked(a,b,h,i)}return makeResult(h.c,i.c,e,i.e)}function look4sections(d,e){var f;var g,tmpMin,tmpMax;var h=[];for(var i=u.length;i--;){f=u[i];g=getCeil((e.c-d.c)/f,t);g=g.c*MATH_POW(g.e);tmpMin=z(d.c/g)*g;tmpMax=A(e.c/g)*g;h[i]={min:tmpMin,max:tmpMax,step:g,span:tmpMax-tmpMin}}h.sort(function(a,b){var c=a.span-b.span;if(c===0){c=a.step-b.step}return c});h=h[0];f=h.span/h.step;d.c=h.min;e.c=h.max;return f<3?f*2:f}function look4step(a,b,c){var d;var e;var f=b.c;var g=(b.c-a.c)/c-1;while(f>a.c){g=getCeil(g+1,t);g=g.c*MATH_POW(g.e);d=g*c;e=A(b.c/g)*g;f=e-d}var h=a.c-f;var i=e-b.c;var j=h-i;if(j>g*1.1){j=y(j/g/2)*g;f+=j;e+=j}a.c=f;b.c=e;return g}function tryForInt(a,b,c,d,e,f){var g=e.c-d.c;var h=g/f*MATH_POW(e.e);if(!MATH_ISINT(h)){h=z(h);g=h*f;if(g<b-a){h+=1;g=h*f;if(!c&&h*(f-1)>=b-a){f-=1;g=h*f}}if(g>=b-a){var i=g-(b-a);d.c=y(a-i/2);e.c=y(b+i/2);d.e=0;e.e=0}}return f}function forInteger(a,b,c){c=c||5;if(v){b=a+c}else if(w){a=b-c}else{var d=c-(b-a);var e=y(a-d/2);var f=y(b+d/2);var g=cross0(a,b,e,f);a=g[0];b=g[1]}return makeResult(a,b,c)}function forSpan0(a,b,c){c=c||5;var d=x.min(B(b/c),c)/2.1;if(v){b=a+d}else if(w){a=b-d}else{a=a-d;b=b+d}return coreCalc(a,b,c)}function cross0(a,b,c,d){if(a>=0&&c<0){d-=c;c=0}else if(b<=0&&d>0){c-=d;d=0}return[c,d]}function decimals(a){a=(+a).toFixed(15).split('.');return a.pop().replace(/0+$/,'').length}function singleLocked(a,b,c,d){if(v){var e=expNum(a,4,1);if(c.e-e.e>6){e={c:0,e:c.e}}expFixMin(c,e);expFixMin(d,e);d.c+=e.c-c.c;c.c=e.c}else if(w){var f=expNum(b,4);if(d.e-f.e>6){f={c:0,e:d.e}}expFixMin(c,f);expFixMin(d,f);c.c+=f.c-d.c;d.c=f.c}}function bothLocked(c,d,e){var f=e?[e]:u;var g=d-c;if(g===0){d=expNum(d,3);e=f[0];d.c=y(d.c+e/2);return makeResult(d.c-e,d.c,e,d.e)}if(B(d/g)<0.000001){d=0}if(B(c/g)<0.000001){c=0}var h,deltaSpan,score;var k=[[5,10],[10,2],[50,10],[100,2]];var l=[];var m=[];var n=expNum(d-c,3);var o=expNum(c,-1,1);var p=expNum(d,-1);expFixTo(o,n,1);expFixTo(p,n);g=p.c-o.c;n.c=g;for(var i=f.length;i--;){e=f[i];h=A(g/e);deltaSpan=h*e-g;score=(deltaSpan+3)*3;score+=(e-f[0]+2)*2;if(e%5===0){score-=10}for(var j=k.length;j--;){if(h%k[j][0]===0){score/=k[j][1]}}m[i]=[e,h,deltaSpan,score].join();l[i]={secs:e,step:h,delta:deltaSpan,score:score}}l.sort(function(a,b){return a.score-b.score});l=l[0];o.c=y(o.c-l.delta/2);p.c=y(p.c+l.delta/2);return makeResult(o.c,p.c,l.secs,n.e)}return smartSteps});define('echarts/util/smartLogSteps',['require','./number'],function(p){var q=p('./number');var r=Math;var s=r.log;var t=r.pow;var u=r.abs;var v=r.ceil;var w=r.floor;var y=r.E;var z=r.LN10;var A=r.LN2;var B=A/z;var C=1e-9;var D=5;var E=2;var F={'0':'⁰','1':'¹','2':'²','3':'³','4':'⁴','5':'⁵','6':'⁶','7':'⁷','8':'⁸','9':'⁹','-':'⁻'};var G;var H;var I;var J;var K;var L;var M;var N;var O;var P;function smartLogSteps(a){clearStaticVariables();K=a||{};reformSetting();makeTicksList();return[makeResult(),clearStaticVariables()][0]}function clearStaticVariables(){G=K=M=J=N=O=L=P=H=I=null}function reformSetting(){H=K.logLabelBase;if(H==null){I='plain';H=10;J=z}else{H=+H;if(H<1){H=10}I='exponent';J=s(H)}L=K.splitNumber;L==null&&(L=D);var a=parseFloat(K.dataMin);var b=parseFloat(K.dataMax);if(!isFinite(a)&&!isFinite(b)){a=b=1}else if(!isFinite(a)){a=b}else if(!isFinite(b)){b=a}else if(a>b){b=[a,a=b][0]}G=K.logPositive;if(G==null){G=b>0||a===0}N=G?a:-b;O=G?b:-a;N<C&&(N=C);O<C&&(O=C)}function makeTicksList(){P=[];var f=fixAccurate(s(O)/J);var g=fixAccurate(s(N)/J);var j=v(f);var l=w(g);var m=j-l;var o=f-g;if(I==='exponent'){baseAnalysis()}else{!(m<=E&&L>E)?baseAnalysis():detailAnalysis()}function baseAnalysis(){if(m<L){L=m}var a=w(fixAccurate(m/L));var b=v(fixAccurate(m/a));var c=a*b;var d=(c-o)/2;var e=w(fixAccurate(g-d));if(aroundZero(e-g)){e-=1}M=-e*J;for(var n=e;n-a<=f;n+=a){P.push(t(H,n))}}function detailAnalysis(){var a=toDecimalFrom4Hex(l,0);var b=a+2;while(a<b&&toH(a+1)+toK(a+1)*B<g){a++}var c=toDecimalFrom4Hex(j,0);var b=c-2;while(c>b&&toH(c-1)+toK(c-1)*B>f){c--}M=-(toH(a)*z+toK(a)*A);for(var i=a;i<=c;i++){var h=toH(i);var k=toK(i);P.push(t(10,h)*t(2,k))}}function toDecimalFrom4Hex(h,k){return h*3+k}function toK(a){return a-toH(a)*3}function toH(a){return w(fixAccurate(a/3))}}function makeResult(){var a=[];for(var i=0,len=P.length;i<len;i++){a[i]=(G?1:-1)*P[i]}!G&&a.reverse();var b=makeDataMappingMethods();var c=b.value2Coord;var d=c(a[0]);var e=c(a[a.length-1]);if(d===e){d-=1;e+=1}return{dataMin:d,dataMax:e,tickList:a,logPositive:G,labelFormatter:makeLabelFormatter(),dataMappingMethods:b}}function makeLabelFormatter(){if(I==='exponent'){var c=H;var d=J;return function(a){if(!isFinite(parseFloat(a))){return''}var b='';if(a<0){a=-a;b='-'}return b+c+makeSuperscriptExponent(s(a)/d)}}else{return function(a){if(!isFinite(parseFloat(a))){return''}return q.addCommas(formatNumber(a))}}}function makeDataMappingMethods(){var a=G;var b=M;return{value2Coord:function(x){if(x==null||isNaN(x)||!isFinite(x)){return x}x=parseFloat(x);if(!isFinite(x)){x=C}else if(a&&x<C){x=C}else if(!a&&x>-C){x=-C}x=u(x);return(a?1:-1)*(s(x)+b)},coord2Value:function(x){if(x==null||isNaN(x)||!isFinite(x)){return x}x=parseFloat(x);if(!isFinite(x)){x=C}return a?t(y,x-b):-t(y,-x+b)}}}function fixAccurate(a){return+Number(+a).toFixed(14)}function formatNumber(a){return Number(a).toFixed(15).replace(/\.?0*$/,'')}function makeSuperscriptExponent(a){a=formatNumber(Math.round(a));var b=[];for(var i=0,len=a.length;i<len;i++){var c=a.charAt(i);b.push(F[c]||'')}return b.join('')}function aroundZero(a){return a>-C&&a<C}return smartLogSteps});